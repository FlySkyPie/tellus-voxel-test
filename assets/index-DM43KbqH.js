var mz=Object.defineProperty;var gz=(t,e,n)=>e in t?mz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var uy=(t,e,n)=>(gz(t,typeof e!="symbol"?e+"":e,n),n);function Wk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var AR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $k={exports:{}},Lx={},Kk={exports:{}},Vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=Symbol.for("react.element"),vz=Symbol.for("react.portal"),yz=Symbol.for("react.fragment"),xz=Symbol.for("react.strict_mode"),bz=Symbol.for("react.profiler"),wz=Symbol.for("react.provider"),Sz=Symbol.for("react.context"),_z=Symbol.for("react.forward_ref"),Ez=Symbol.for("react.suspense"),Cz=Symbol.for("react.memo"),Mz=Symbol.for("react.lazy"),IR=Symbol.iterator;function Tz(t){return t===null||typeof t!="object"?null:(t=IR&&t[IR]||t["@@iterator"],typeof t=="function"?t:null)}var Xk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qk=Object.assign,Yk={};function Oh(t,e,n){this.props=t,this.context=e,this.refs=Yk,this.updater=n||Xk}Oh.prototype.isReactComponent={};Oh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zk(){}Zk.prototype=Oh.prototype;function dM(t,e,n){this.props=t,this.context=e,this.refs=Yk,this.updater=n||Xk}var hM=dM.prototype=new Zk;hM.constructor=dM;qk(hM,Oh.prototype);hM.isPureReactComponent=!0;var OR=Array.isArray,Jk=Object.prototype.hasOwnProperty,pM={current:null},Qk={key:!0,ref:!0,__self:!0,__source:!0};function eL(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Jk.call(e,r)&&!Qk.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Wg,type:t,key:o,ref:a,props:i,_owner:pM.current}}function Pz(t,e){return{$$typeof:Wg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mM(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wg}function Rz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var DR=/\/+/g;function Lw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rz(""+t.key):e.toString(36)}function Q0(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Wg:case vz:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Lw(a,0):r,OR(i)?(n="",t!=null&&(n=t.replace(DR,"$&/")+"/"),Q0(i,e,n,"",function(u){return u})):i!=null&&(mM(i)&&(i=Pz(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(DR,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",OR(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Lw(o,s);a+=Q0(o,e,n,l,i)}else if(l=Tz(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Lw(o,s++),a+=Q0(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function cy(t,e,n){if(t==null)return t;var r=[],i=0;return Q0(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Az(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var To={current:null},e1={transition:null},Iz={ReactCurrentDispatcher:To,ReactCurrentBatchConfig:e1,ReactCurrentOwner:pM};Vn.Children={map:cy,forEach:function(t,e,n){cy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cy(t,function(){e++}),e},toArray:function(t){return cy(t,function(e){return e})||[]},only:function(t){if(!mM(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Vn.Component=Oh;Vn.Fragment=yz;Vn.Profiler=bz;Vn.PureComponent=dM;Vn.StrictMode=xz;Vn.Suspense=Ez;Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iz;Vn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qk({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=pM.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Jk.call(e,l)&&!Qk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Wg,type:t.type,key:i,ref:o,props:r,_owner:a}};Vn.createContext=function(t){return t={$$typeof:Sz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wz,_context:t},t.Consumer=t};Vn.createElement=eL;Vn.createFactory=function(t){var e=eL.bind(null,t);return e.type=t,e};Vn.createRef=function(){return{current:null}};Vn.forwardRef=function(t){return{$$typeof:_z,render:t}};Vn.isValidElement=mM;Vn.lazy=function(t){return{$$typeof:Mz,_payload:{_status:-1,_result:t},_init:Az}};Vn.memo=function(t,e){return{$$typeof:Cz,type:t,compare:e===void 0?null:e}};Vn.startTransition=function(t){var e=e1.transition;e1.transition={};try{t()}finally{e1.transition=e}};Vn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vn.useCallback=function(t,e){return To.current.useCallback(t,e)};Vn.useContext=function(t){return To.current.useContext(t)};Vn.useDebugValue=function(){};Vn.useDeferredValue=function(t){return To.current.useDeferredValue(t)};Vn.useEffect=function(t,e){return To.current.useEffect(t,e)};Vn.useId=function(){return To.current.useId()};Vn.useImperativeHandle=function(t,e,n){return To.current.useImperativeHandle(t,e,n)};Vn.useInsertionEffect=function(t,e){return To.current.useInsertionEffect(t,e)};Vn.useLayoutEffect=function(t,e){return To.current.useLayoutEffect(t,e)};Vn.useMemo=function(t,e){return To.current.useMemo(t,e)};Vn.useReducer=function(t,e,n){return To.current.useReducer(t,e,n)};Vn.useRef=function(t){return To.current.useRef(t)};Vn.useState=function(t){return To.current.useState(t)};Vn.useSyncExternalStore=function(t,e,n){return To.current.useSyncExternalStore(t,e,n)};Vn.useTransition=function(){return To.current.useTransition()};Vn.version="18.2.0";Kk.exports=Vn;var S=Kk.exports;const fn=Gg(S),Oz=Wk({__proto__:null,default:fn},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dz=S,kz=Symbol.for("react.element"),Lz=Symbol.for("react.fragment"),Nz=Object.prototype.hasOwnProperty,Fz=Dz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uz={key:!0,ref:!0,__self:!0,__source:!0};function tL(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Nz.call(e,r)&&!Uz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kz,type:t,key:o,ref:a,props:i,_owner:Fz.current}}Lx.Fragment=Lz;Lx.jsx=tL;Lx.jsxs=tL;$k.exports=Lx;var pt=$k.exports,V_={},nL={exports:{}},ga={},rL={exports:{}},iL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ne){var F=X.length;X.push(ne);e:for(;0<F;){var ce=F-1>>>1,se=X[ce];if(0<i(se,ne))X[ce]=ne,X[F]=se,F=ce;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ne=X[0],F=X.pop();if(F!==ne){X[0]=F;e:for(var ce=0,se=X.length,K=se>>>1;ce<K;){var ge=2*(ce+1)-1,ze=X[ge],Be=ge+1,st=X[Be];if(0>i(ze,F))Be<se&&0>i(st,ze)?(X[ce]=st,X[Be]=F,ce=Be):(X[ce]=ze,X[ge]=F,ce=ge);else if(Be<se&&0>i(st,F))X[ce]=st,X[Be]=F,ce=Be;else break e}}return ne}function i(X,ne){var F=X.sortIndex-ne.sortIndex;return F!==0?F:X.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,p=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(X){for(var ne=n(u);ne!==null;){if(ne.callback===null)r(u);else if(ne.startTime<=X)r(u),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=n(u)}}function C(X){if(b=!1,w(X),!v)if(n(l)!==null)v=!0,ye(R);else{var ne=n(u);ne!==null&&ve(C,ne.startTime-X)}}function R(X,ne){v=!1,b&&(b=!1,g(D),D=-1),m=!0;var F=p;try{for(w(ne),f=n(l);f!==null&&(!(f.expirationTime>ne)||X&&!I());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,p=f.priorityLevel;var se=ce(f.expirationTime<=ne);ne=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(l)&&r(l),w(ne)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ge=n(u);ge!==null&&ve(C,ge.startTime-ne),K=!1}return K}finally{f=null,p=F,m=!1}}var E=!1,P=null,D=-1,L=5,M=-1;function I(){return!(t.unstable_now()-M<L)}function V(){if(P!==null){var X=t.unstable_now();M=X;var ne=!0;try{ne=P(!0,X)}finally{ne?Z():(E=!1,P=null)}}else E=!1}var Z;if(typeof x=="function")Z=function(){x(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,fe=j.port2;j.port1.onmessage=V,Z=function(){fe.postMessage(null)}}else Z=function(){y(V,0)};function ye(X){P=X,E||(E=!0,Z())}function ve(X,ne){D=y(function(){X(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ye(R))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(X){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var F=p;p=ne;try{return X()}finally{p=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ne){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var F=p;p=X;try{return ne()}finally{p=F}},t.unstable_scheduleCallback=function(X,ne,F){var ce=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ce+F:ce):F=ce,X){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=F+se,X={id:c++,callback:ne,priorityLevel:X,startTime:F,expirationTime:se,sortIndex:-1},F>ce?(X.sortIndex=F,e(u,X),n(l)===null&&X===n(u)&&(b?(g(D),D=-1):b=!0,ve(C,F-ce))):(X.sortIndex=se,e(l,X),v||m||(v=!0,ye(R))),X},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(X){var ne=p;return function(){var F=p;p=ne;try{return X.apply(this,arguments)}finally{p=F}}}})(iL);rL.exports=iL;var zz=rL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oL=S,ha=zz;function Dt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aL=new Set,Am={};function vf(t,e){ph(t,e),ph(t+"Capture",e)}function ph(t,e){for(Am[t]=e,t=0;t<e.length;t++)aL.add(e[t])}var Tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j_=Object.prototype.hasOwnProperty,Bz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kR={},LR={};function Hz(t){return j_.call(LR,t)?!0:j_.call(kR,t)?!1:Bz.test(t)?LR[t]=!0:(kR[t]=!0,!1)}function Vz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jz(t,e,n,r){if(e===null||typeof e>"u"||Vz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Po(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zi[t]=new Po(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zi[e]=new Po(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zi[t]=new Po(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zi[t]=new Po(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zi[t]=new Po(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zi[t]=new Po(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zi[t]=new Po(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zi[t]=new Po(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zi[t]=new Po(t,5,!1,t.toLowerCase(),null,!1,!1)});var gM=/[\-:]([a-z])/g;function vM(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gM,vM);zi[e]=new Po(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gM,vM);zi[e]=new Po(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gM,vM);zi[e]=new Po(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zi[t]=new Po(t,1,!1,t.toLowerCase(),null,!1,!1)});zi.xlinkHref=new Po("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zi[t]=new Po(t,1,!1,t.toLowerCase(),null,!0,!0)});function yM(t,e,n,r){var i=zi.hasOwnProperty(e)?zi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jz(e,n,i,r)&&(n=null),r||i===null?Hz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kl=oL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fy=Symbol.for("react.element"),Od=Symbol.for("react.portal"),Dd=Symbol.for("react.fragment"),xM=Symbol.for("react.strict_mode"),G_=Symbol.for("react.profiler"),sL=Symbol.for("react.provider"),lL=Symbol.for("react.context"),bM=Symbol.for("react.forward_ref"),W_=Symbol.for("react.suspense"),$_=Symbol.for("react.suspense_list"),wM=Symbol.for("react.memo"),au=Symbol.for("react.lazy"),uL=Symbol.for("react.offscreen"),NR=Symbol.iterator;function pp(t){return t===null||typeof t!="object"?null:(t=NR&&t[NR]||t["@@iterator"],typeof t=="function"?t:null)}var Lr=Object.assign,Nw;function Kp(t){if(Nw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nw=e&&e[1]||""}return`
`+Nw+t}var Fw=!1;function Uw(t,e){if(!t||Fw)return"";Fw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Fw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kp(t):""}function Gz(t){switch(t.tag){case 5:return Kp(t.type);case 16:return Kp("Lazy");case 13:return Kp("Suspense");case 19:return Kp("SuspenseList");case 0:case 2:case 15:return t=Uw(t.type,!1),t;case 11:return t=Uw(t.type.render,!1),t;case 1:return t=Uw(t.type,!0),t;default:return""}}function K_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dd:return"Fragment";case Od:return"Portal";case G_:return"Profiler";case xM:return"StrictMode";case W_:return"Suspense";case $_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lL:return(t.displayName||"Context")+".Consumer";case sL:return(t._context.displayName||"Context")+".Provider";case bM:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wM:return e=t.displayName||null,e!==null?e:K_(t.type)||"Memo";case au:e=t._payload,t=t._init;try{return K_(t(e))}catch{}}return null}function Wz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K_(e);case 8:return e===xM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ou(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $z(t){var e=cL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dy(t){t._valueTracker||(t._valueTracker=$z(t))}function fL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function O1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function X_(t,e){var n=e.checked;return Lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ou(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dL(t,e){e=e.checked,e!=null&&yM(t,"checked",e,!1)}function q_(t,e){dL(t,e);var n=Ou(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Y_(t,e.type,n):e.hasOwnProperty("defaultValue")&&Y_(t,e.type,Ou(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Y_(t,e,n){(e!=="number"||O1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xp=Array.isArray;function rh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ou(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Z_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Dt(91));return Lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Dt(92));if(Xp(n)){if(1<n.length)throw Error(Dt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ou(n)}}function hL(t,e){var n=Ou(e.value),r=Ou(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function BR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hy,mL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hy=hy||document.createElement("div"),hy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Im(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kz=["Webkit","ms","Moz","O"];Object.keys(tm).forEach(function(t){Kz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tm[e]=tm[t]})});function gL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tm.hasOwnProperty(t)&&tm[t]?(""+e).trim():e+"px"}function vL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Xz=Lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q_(t,e){if(e){if(Xz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Dt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Dt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Dt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Dt(62))}}function eE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tE=null;function SM(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nE=null,ih=null,oh=null;function HR(t){if(t=Xg(t)){if(typeof nE!="function")throw Error(Dt(280));var e=t.stateNode;e&&(e=Bx(e),nE(t.stateNode,t.type,e))}}function yL(t){ih?oh?oh.push(t):oh=[t]:ih=t}function xL(){if(ih){var t=ih,e=oh;if(oh=ih=null,HR(t),e)for(t=0;t<e.length;t++)HR(e[t])}}function bL(t,e){return t(e)}function wL(){}var zw=!1;function SL(t,e,n){if(zw)return t(e,n);zw=!0;try{return bL(t,e,n)}finally{zw=!1,(ih!==null||oh!==null)&&(wL(),xL())}}function Om(t,e){var n=t.stateNode;if(n===null)return null;var r=Bx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Dt(231,e,typeof n));return n}var rE=!1;if(Tl)try{var mp={};Object.defineProperty(mp,"passive",{get:function(){rE=!0}}),window.addEventListener("test",mp,mp),window.removeEventListener("test",mp,mp)}catch{rE=!1}function qz(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var nm=!1,D1=null,k1=!1,iE=null,Yz={onError:function(t){nm=!0,D1=t}};function Zz(t,e,n,r,i,o,a,s,l){nm=!1,D1=null,qz.apply(Yz,arguments)}function Jz(t,e,n,r,i,o,a,s,l){if(Zz.apply(this,arguments),nm){if(nm){var u=D1;nm=!1,D1=null}else throw Error(Dt(198));k1||(k1=!0,iE=u)}}function yf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _L(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function VR(t){if(yf(t)!==t)throw Error(Dt(188))}function Qz(t){var e=t.alternate;if(!e){if(e=yf(t),e===null)throw Error(Dt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return VR(i),t;if(o===r)return VR(i),e;o=o.sibling}throw Error(Dt(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Dt(189))}}if(n.alternate!==r)throw Error(Dt(190))}if(n.tag!==3)throw Error(Dt(188));return n.stateNode.current===n?t:e}function EL(t){return t=Qz(t),t!==null?CL(t):null}function CL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CL(t);if(e!==null)return e;t=t.sibling}return null}var ML=ha.unstable_scheduleCallback,jR=ha.unstable_cancelCallback,eB=ha.unstable_shouldYield,tB=ha.unstable_requestPaint,Zr=ha.unstable_now,nB=ha.unstable_getCurrentPriorityLevel,_M=ha.unstable_ImmediatePriority,TL=ha.unstable_UserBlockingPriority,L1=ha.unstable_NormalPriority,rB=ha.unstable_LowPriority,PL=ha.unstable_IdlePriority,Nx=null,Hs=null;function iB(t){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(Nx,t,void 0,(t.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:sB,oB=Math.log,aB=Math.LN2;function sB(t){return t>>>=0,t===0?32:31-(oB(t)/aB|0)|0}var py=64,my=4194304;function qp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function N1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=qp(s):(o&=a,o!==0&&(r=qp(o)))}else a=n&~i,a!==0?r=qp(a):o!==0&&(r=qp(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ms(e),i=1<<n,r|=t[n],e&=~i;return r}function lB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ms(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=lB(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function oE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RL(){var t=py;return py<<=1,!(py&4194240)&&(py=64),t}function Bw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $g(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ms(e),t[e]=n}function cB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ms(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function EM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ms(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ar=0;function AL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IL,CM,OL,DL,kL,aE=!1,gy=[],xu=null,bu=null,wu=null,Dm=new Map,km=new Map,uu=[],fB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GR(t,e){switch(t){case"focusin":case"focusout":xu=null;break;case"dragenter":case"dragleave":bu=null;break;case"mouseover":case"mouseout":wu=null;break;case"pointerover":case"pointerout":Dm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":km.delete(e.pointerId)}}function gp(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Xg(e),e!==null&&CM(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dB(t,e,n,r,i){switch(e){case"focusin":return xu=gp(xu,t,e,n,r,i),!0;case"dragenter":return bu=gp(bu,t,e,n,r,i),!0;case"mouseover":return wu=gp(wu,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dm.set(o,gp(Dm.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,km.set(o,gp(km.get(o)||null,t,e,n,r,i)),!0}return!1}function LL(t){var e=Dc(t.target);if(e!==null){var n=yf(e);if(n!==null){if(e=n.tag,e===13){if(e=_L(n),e!==null){t.blockedOn=e,kL(t.priority,function(){OL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function t1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tE=r,n.target.dispatchEvent(r),tE=null}else return e=Xg(n),e!==null&&CM(e),t.blockedOn=n,!1;e.shift()}return!0}function WR(t,e,n){t1(t)&&n.delete(e)}function hB(){aE=!1,xu!==null&&t1(xu)&&(xu=null),bu!==null&&t1(bu)&&(bu=null),wu!==null&&t1(wu)&&(wu=null),Dm.forEach(WR),km.forEach(WR)}function vp(t,e){t.blockedOn===e&&(t.blockedOn=null,aE||(aE=!0,ha.unstable_scheduleCallback(ha.unstable_NormalPriority,hB)))}function Lm(t){function e(i){return vp(i,t)}if(0<gy.length){vp(gy[0],t);for(var n=1;n<gy.length;n++){var r=gy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xu!==null&&vp(xu,t),bu!==null&&vp(bu,t),wu!==null&&vp(wu,t),Dm.forEach(e),km.forEach(e),n=0;n<uu.length;n++)r=uu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<uu.length&&(n=uu[0],n.blockedOn===null);)LL(n),n.blockedOn===null&&uu.shift()}var ah=kl.ReactCurrentBatchConfig,F1=!0;function pB(t,e,n,r){var i=ar,o=ah.transition;ah.transition=null;try{ar=1,MM(t,e,n,r)}finally{ar=i,ah.transition=o}}function mB(t,e,n,r){var i=ar,o=ah.transition;ah.transition=null;try{ar=4,MM(t,e,n,r)}finally{ar=i,ah.transition=o}}function MM(t,e,n,r){if(F1){var i=sE(t,e,n,r);if(i===null)Yw(t,e,r,U1,n),GR(t,r);else if(dB(i,t,e,n,r))r.stopPropagation();else if(GR(t,r),e&4&&-1<fB.indexOf(t)){for(;i!==null;){var o=Xg(i);if(o!==null&&IL(o),o=sE(t,e,n,r),o===null&&Yw(t,e,r,U1,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Yw(t,e,r,null,n)}}var U1=null;function sE(t,e,n,r){if(U1=null,t=SM(r),t=Dc(t),t!==null)if(e=yf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_L(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return U1=t,null}function NL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nB()){case _M:return 1;case TL:return 4;case L1:case rB:return 16;case PL:return 536870912;default:return 16}default:return 16}}var hu=null,TM=null,n1=null;function FL(){if(n1)return n1;var t,e=TM,n=e.length,r,i="value"in hu?hu.value:hu.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return n1=i.slice(t,1<r?1-r:void 0)}function r1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vy(){return!0}function $R(){return!1}function va(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vy:$R,this.isPropagationStopped=$R,this}return Lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vy)},persist:function(){},isPersistent:vy}),e}var Dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PM=va(Dh),Kg=Lr({},Dh,{view:0,detail:0}),gB=va(Kg),Hw,Vw,yp,Fx=Lr({},Kg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RM,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yp&&(yp&&t.type==="mousemove"?(Hw=t.screenX-yp.screenX,Vw=t.screenY-yp.screenY):Vw=Hw=0,yp=t),Hw)},movementY:function(t){return"movementY"in t?t.movementY:Vw}}),KR=va(Fx),vB=Lr({},Fx,{dataTransfer:0}),yB=va(vB),xB=Lr({},Kg,{relatedTarget:0}),jw=va(xB),bB=Lr({},Dh,{animationName:0,elapsedTime:0,pseudoElement:0}),wB=va(bB),SB=Lr({},Dh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_B=va(SB),EB=Lr({},Dh,{data:0}),XR=va(EB),CB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TB[t])?!!e[t]:!1}function RM(){return PB}var RB=Lr({},Kg,{key:function(t){if(t.key){var e=CB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=r1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RM,charCode:function(t){return t.type==="keypress"?r1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?r1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AB=va(RB),IB=Lr({},Fx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qR=va(IB),OB=Lr({},Kg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RM}),DB=va(OB),kB=Lr({},Dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),LB=va(kB),NB=Lr({},Fx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FB=va(NB),UB=[9,13,27,32],AM=Tl&&"CompositionEvent"in window,rm=null;Tl&&"documentMode"in document&&(rm=document.documentMode);var zB=Tl&&"TextEvent"in window&&!rm,UL=Tl&&(!AM||rm&&8<rm&&11>=rm),YR=" ",ZR=!1;function zL(t,e){switch(t){case"keyup":return UB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kd=!1;function BB(t,e){switch(t){case"compositionend":return BL(e);case"keypress":return e.which!==32?null:(ZR=!0,YR);case"textInput":return t=e.data,t===YR&&ZR?null:t;default:return null}}function HB(t,e){if(kd)return t==="compositionend"||!AM&&zL(t,e)?(t=FL(),n1=TM=hu=null,kd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UL&&e.locale!=="ko"?null:e.data;default:return null}}var VB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VB[t.type]:e==="textarea"}function HL(t,e,n,r){yL(r),e=z1(e,"onChange"),0<e.length&&(n=new PM("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var im=null,Nm=null;function jB(t){JL(t,0)}function Ux(t){var e=Fd(t);if(fL(e))return t}function GB(t,e){if(t==="change")return e}var VL=!1;if(Tl){var Gw;if(Tl){var Ww="oninput"in document;if(!Ww){var QR=document.createElement("div");QR.setAttribute("oninput","return;"),Ww=typeof QR.oninput=="function"}Gw=Ww}else Gw=!1;VL=Gw&&(!document.documentMode||9<document.documentMode)}function eA(){im&&(im.detachEvent("onpropertychange",jL),Nm=im=null)}function jL(t){if(t.propertyName==="value"&&Ux(Nm)){var e=[];HL(e,Nm,t,SM(t)),SL(jB,e)}}function WB(t,e,n){t==="focusin"?(eA(),im=e,Nm=n,im.attachEvent("onpropertychange",jL)):t==="focusout"&&eA()}function $B(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ux(Nm)}function KB(t,e){if(t==="click")return Ux(e)}function XB(t,e){if(t==="input"||t==="change")return Ux(e)}function qB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xs=typeof Object.is=="function"?Object.is:qB;function Fm(t,e){if(xs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!j_.call(e,i)||!xs(t[i],e[i]))return!1}return!0}function tA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nA(t,e){var n=tA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tA(n)}}function GL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WL(){for(var t=window,e=O1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=O1(t.document)}return e}function IM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YB(t){var e=WL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GL(n.ownerDocument.documentElement,n)){if(r!==null&&IM(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=nA(n,o);var a=nA(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZB=Tl&&"documentMode"in document&&11>=document.documentMode,Ld=null,lE=null,om=null,uE=!1;function rA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uE||Ld==null||Ld!==O1(r)||(r=Ld,"selectionStart"in r&&IM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),om&&Fm(om,r)||(om=r,r=z1(lE,"onSelect"),0<r.length&&(e=new PM("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ld)))}function yy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nd={animationend:yy("Animation","AnimationEnd"),animationiteration:yy("Animation","AnimationIteration"),animationstart:yy("Animation","AnimationStart"),transitionend:yy("Transition","TransitionEnd")},$w={},$L={};Tl&&($L=document.createElement("div").style,"AnimationEvent"in window||(delete Nd.animationend.animation,delete Nd.animationiteration.animation,delete Nd.animationstart.animation),"TransitionEvent"in window||delete Nd.transitionend.transition);function zx(t){if($w[t])return $w[t];if(!Nd[t])return t;var e=Nd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $L)return $w[t]=e[n];return t}var KL=zx("animationend"),XL=zx("animationiteration"),qL=zx("animationstart"),YL=zx("transitionend"),ZL=new Map,iA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hu(t,e){ZL.set(t,e),vf(e,[t])}for(var Kw=0;Kw<iA.length;Kw++){var Xw=iA[Kw],JB=Xw.toLowerCase(),QB=Xw[0].toUpperCase()+Xw.slice(1);Hu(JB,"on"+QB)}Hu(KL,"onAnimationEnd");Hu(XL,"onAnimationIteration");Hu(qL,"onAnimationStart");Hu("dblclick","onDoubleClick");Hu("focusin","onFocus");Hu("focusout","onBlur");Hu(YL,"onTransitionEnd");ph("onMouseEnter",["mouseout","mouseover"]);ph("onMouseLeave",["mouseout","mouseover"]);ph("onPointerEnter",["pointerout","pointerover"]);ph("onPointerLeave",["pointerout","pointerover"]);vf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vf("onBeforeInput",["compositionend","keypress","textInput","paste"]);vf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yp));function oA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Jz(r,e,void 0,t),t.currentTarget=null}function JL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;oA(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;oA(i,s,u),o=l}}}if(k1)throw t=iE,k1=!1,iE=null,t}function yr(t,e){var n=e[pE];n===void 0&&(n=e[pE]=new Set);var r=t+"__bubble";n.has(r)||(QL(e,t,2,!1),n.add(r))}function qw(t,e,n){var r=0;e&&(r|=4),QL(n,t,r,e)}var xy="_reactListening"+Math.random().toString(36).slice(2);function Um(t){if(!t[xy]){t[xy]=!0,aL.forEach(function(n){n!=="selectionchange"&&(eH.has(n)||qw(n,!1,t),qw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xy]||(e[xy]=!0,qw("selectionchange",!1,e))}}function QL(t,e,n,r){switch(NL(e)){case 1:var i=pB;break;case 4:i=mB;break;default:i=MM}n=i.bind(null,e,n,t),i=void 0,!rE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yw(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Dc(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}SL(function(){var u=o,c=SM(n),f=[];e:{var p=ZL.get(t);if(p!==void 0){var m=PM,v=t;switch(t){case"keypress":if(r1(n)===0)break e;case"keydown":case"keyup":m=AB;break;case"focusin":v="focus",m=jw;break;case"focusout":v="blur",m=jw;break;case"beforeblur":case"afterblur":m=jw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=KR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=DB;break;case KL:case XL:case qL:m=wB;break;case YL:m=LB;break;case"scroll":m=gB;break;case"wheel":m=FB;break;case"copy":case"cut":case"paste":m=_B;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qR}var b=(e&4)!==0,y=!b&&t==="scroll",g=b?p!==null?p+"Capture":null:p;b=[];for(var x=u,w;x!==null;){w=x;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,g!==null&&(C=Om(x,g),C!=null&&b.push(zm(x,C,w)))),y)break;x=x.return}0<b.length&&(p=new m(p,v,null,n,c),f.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==tE&&(v=n.relatedTarget||n.fromElement)&&(Dc(v)||v[Pl]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Dc(v):null,v!==null&&(y=yf(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(b=KR,C="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=qR,C="onPointerLeave",g="onPointerEnter",x="pointer"),y=m==null?p:Fd(m),w=v==null?p:Fd(v),p=new b(C,x+"leave",m,n,c),p.target=y,p.relatedTarget=w,C=null,Dc(c)===u&&(b=new b(g,x+"enter",v,n,c),b.target=w,b.relatedTarget=y,C=b),y=C,m&&v)t:{for(b=m,g=v,x=0,w=b;w;w=$f(w))x++;for(w=0,C=g;C;C=$f(C))w++;for(;0<x-w;)b=$f(b),x--;for(;0<w-x;)g=$f(g),w--;for(;x--;){if(b===g||g!==null&&b===g.alternate)break t;b=$f(b),g=$f(g)}b=null}else b=null;m!==null&&aA(f,p,m,b,!1),v!==null&&y!==null&&aA(f,y,v,b,!0)}}e:{if(p=u?Fd(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=GB;else if(JR(p))if(VL)R=XB;else{R=$B;var E=WB}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=KB);if(R&&(R=R(t,u))){HL(f,R,n,c);break e}E&&E(t,p,u),t==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&Y_(p,"number",p.value)}switch(E=u?Fd(u):window,t){case"focusin":(JR(E)||E.contentEditable==="true")&&(Ld=E,lE=u,om=null);break;case"focusout":om=lE=Ld=null;break;case"mousedown":uE=!0;break;case"contextmenu":case"mouseup":case"dragend":uE=!1,rA(f,n,c);break;case"selectionchange":if(ZB)break;case"keydown":case"keyup":rA(f,n,c)}var P;if(AM)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else kd?zL(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(UL&&n.locale!=="ko"&&(kd||D!=="onCompositionStart"?D==="onCompositionEnd"&&kd&&(P=FL()):(hu=c,TM="value"in hu?hu.value:hu.textContent,kd=!0)),E=z1(u,D),0<E.length&&(D=new XR(D,t,null,n,c),f.push({event:D,listeners:E}),P?D.data=P:(P=BL(n),P!==null&&(D.data=P)))),(P=zB?BB(t,n):HB(t,n))&&(u=z1(u,"onBeforeInput"),0<u.length&&(c=new XR("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=P))}JL(f,e)})}function zm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function z1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Om(t,n),o!=null&&r.unshift(zm(t,o,i)),o=Om(t,e),o!=null&&r.push(zm(t,o,i))),t=t.return}return r}function $f(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aA(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Om(n,o),l!=null&&a.unshift(zm(n,l,s))):i||(l=Om(n,o),l!=null&&a.push(zm(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var tH=/\r\n?/g,nH=/\u0000|\uFFFD/g;function sA(t){return(typeof t=="string"?t:""+t).replace(tH,`
`).replace(nH,"")}function by(t,e,n){if(e=sA(e),sA(t)!==e&&n)throw Error(Dt(425))}function B1(){}var cE=null,fE=null;function dE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hE=typeof setTimeout=="function"?setTimeout:void 0,rH=typeof clearTimeout=="function"?clearTimeout:void 0,lA=typeof Promise=="function"?Promise:void 0,iH=typeof queueMicrotask=="function"?queueMicrotask:typeof lA<"u"?function(t){return lA.resolve(null).then(t).catch(oH)}:hE;function oH(t){setTimeout(function(){throw t})}function Zw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lm(e)}function Su(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kh=Math.random().toString(36).slice(2),ks="__reactFiber$"+kh,Bm="__reactProps$"+kh,Pl="__reactContainer$"+kh,pE="__reactEvents$"+kh,aH="__reactListeners$"+kh,sH="__reactHandles$"+kh;function Dc(t){var e=t[ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pl]||n[ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uA(t);t!==null;){if(n=t[ks])return n;t=uA(t)}return e}t=n,n=t.parentNode}return null}function Xg(t){return t=t[ks]||t[Pl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Dt(33))}function Bx(t){return t[Bm]||null}var mE=[],Ud=-1;function Vu(t){return{current:t}}function Sr(t){0>Ud||(t.current=mE[Ud],mE[Ud]=null,Ud--)}function mr(t,e){Ud++,mE[Ud]=t.current,t.current=e}var Du={},uo=Vu(Du),Go=Vu(!1),af=Du;function mh(t,e){var n=t.type.contextTypes;if(!n)return Du;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wo(t){return t=t.childContextTypes,t!=null}function H1(){Sr(Go),Sr(uo)}function cA(t,e,n){if(uo.current!==Du)throw Error(Dt(168));mr(uo,e),mr(Go,n)}function eN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Dt(108,Wz(t)||"Unknown",i));return Lr({},n,r)}function V1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Du,af=uo.current,mr(uo,t),mr(Go,Go.current),!0}function fA(t,e,n){var r=t.stateNode;if(!r)throw Error(Dt(169));n?(t=eN(t,e,af),r.__reactInternalMemoizedMergedChildContext=t,Sr(Go),Sr(uo),mr(uo,t)):Sr(Go),mr(Go,n)}var dl=null,Hx=!1,Jw=!1;function tN(t){dl===null?dl=[t]:dl.push(t)}function lH(t){Hx=!0,tN(t)}function ju(){if(!Jw&&dl!==null){Jw=!0;var t=0,e=ar;try{var n=dl;for(ar=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dl=null,Hx=!1}catch(i){throw dl!==null&&(dl=dl.slice(t+1)),ML(_M,ju),i}finally{ar=e,Jw=!1}}return null}var zd=[],Bd=0,j1=null,G1=0,La=[],Na=0,sf=null,yl=1,xl="";function wc(t,e){zd[Bd++]=G1,zd[Bd++]=j1,j1=t,G1=e}function nN(t,e,n){La[Na++]=yl,La[Na++]=xl,La[Na++]=sf,sf=t;var r=yl;t=xl;var i=32-ms(r)-1;r&=~(1<<i),n+=1;var o=32-ms(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,yl=1<<32-ms(e)+i|n<<i|r,xl=o+t}else yl=1<<o|n<<i|r,xl=t}function OM(t){t.return!==null&&(wc(t,1),nN(t,1,0))}function DM(t){for(;t===j1;)j1=zd[--Bd],zd[Bd]=null,G1=zd[--Bd],zd[Bd]=null;for(;t===sf;)sf=La[--Na],La[Na]=null,xl=La[--Na],La[Na]=null,yl=La[--Na],La[Na]=null}var ca=null,la=null,Cr=!1,us=null;function rN(t,e){var n=Ba(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ca=t,la=Su(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ca=t,la=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sf!==null?{id:yl,overflow:xl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ba(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ca=t,la=null,!0):!1;default:return!1}}function gE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vE(t){if(Cr){var e=la;if(e){var n=e;if(!dA(t,e)){if(gE(t))throw Error(Dt(418));e=Su(n.nextSibling);var r=ca;e&&dA(t,e)?rN(r,n):(t.flags=t.flags&-4097|2,Cr=!1,ca=t)}}else{if(gE(t))throw Error(Dt(418));t.flags=t.flags&-4097|2,Cr=!1,ca=t}}}function hA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ca=t}function wy(t){if(t!==ca)return!1;if(!Cr)return hA(t),Cr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dE(t.type,t.memoizedProps)),e&&(e=la)){if(gE(t))throw iN(),Error(Dt(418));for(;e;)rN(t,e),e=Su(e.nextSibling)}if(hA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Dt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){la=Su(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}la=null}}else la=ca?Su(t.stateNode.nextSibling):null;return!0}function iN(){for(var t=la;t;)t=Su(t.nextSibling)}function gh(){la=ca=null,Cr=!1}function kM(t){us===null?us=[t]:us.push(t)}var uH=kl.ReactCurrentBatchConfig;function is(t,e){if(t&&t.defaultProps){e=Lr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var W1=Vu(null),$1=null,Hd=null,LM=null;function NM(){LM=Hd=$1=null}function FM(t){var e=W1.current;Sr(W1),t._currentValue=e}function yE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sh(t,e){$1=t,LM=Hd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jo=!0),t.firstContext=null)}function ja(t){var e=t._currentValue;if(LM!==t)if(t={context:t,memoizedValue:e,next:null},Hd===null){if($1===null)throw Error(Dt(308));Hd=t,$1.dependencies={lanes:0,firstContext:t}}else Hd=Hd.next=t;return e}var kc=null;function UM(t){kc===null?kc=[t]:kc.push(t)}function oN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,UM(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rl(t,r)}function Rl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var su=!1;function zM(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _l(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _u(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rl(t,n)}return i=r.interleaved,i===null?(e.next=e,UM(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rl(t,n)}function i1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,EM(t,n)}}function pA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function K1(t,e,n,r){var i=t.updateQueue;su=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var p=s.lane,m=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,b=s;switch(p=e,m=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Lr({},f,p);break e;case 2:su=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);uf|=a,t.lanes=a,t.memoizedState=f}}function mA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Dt(191,i));i.call(r)}}}var sN=new oL.Component().refs;function xE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Lr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vx={isMounted:function(t){return(t=t._reactInternals)?yf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Co(),i=Cu(t),o=_l(r,i);o.payload=e,n!=null&&(o.callback=n),e=_u(t,o,i),e!==null&&(gs(e,t,i,r),i1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Co(),i=Cu(t),o=_l(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=_u(t,o,i),e!==null&&(gs(e,t,i,r),i1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Co(),r=Cu(t),i=_l(n,r);i.tag=2,e!=null&&(i.callback=e),e=_u(t,i,r),e!==null&&(gs(e,t,r,n),i1(e,t,r))}};function gA(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Fm(n,r)||!Fm(i,o):!0}function lN(t,e,n){var r=!1,i=Du,o=e.contextType;return typeof o=="object"&&o!==null?o=ja(o):(i=Wo(e)?af:uo.current,r=e.contextTypes,o=(r=r!=null)?mh(t,i):Du),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vx.enqueueReplaceState(e,e.state,null)}function bE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=sN,zM(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ja(o):(o=Wo(e)?af:uo.current,i.context=mh(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(xE(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vx.enqueueReplaceState(i,i.state,null),K1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Dt(309));var r=n.stateNode}if(!r)throw Error(Dt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===sN&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Dt(284));if(!n._owner)throw Error(Dt(290,t))}return t}function Sy(t,e){throw t=Object.prototype.toString.call(e),Error(Dt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yA(t){var e=t._init;return e(t._payload)}function uN(t){function e(g,x){if(t){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Mu(g,x),g.index=0,g.sibling=null,g}function o(g,x,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,x,w,C){return x===null||x.tag!==6?(x=oS(w,g.mode,C),x.return=g,x):(x=i(x,w),x.return=g,x)}function l(g,x,w,C){var R=w.type;return R===Dd?c(g,x,w.props.children,C,w.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===au&&yA(R)===x.type)?(C=i(x,w.props),C.ref=xp(g,x,w),C.return=g,C):(C=c1(w.type,w.key,w.props,null,g.mode,C),C.ref=xp(g,x,w),C.return=g,C)}function u(g,x,w,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=aS(w,g.mode,C),x.return=g,x):(x=i(x,w.children||[]),x.return=g,x)}function c(g,x,w,C,R){return x===null||x.tag!==7?(x=Xc(w,g.mode,C,R),x.return=g,x):(x=i(x,w),x.return=g,x)}function f(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=oS(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fy:return w=c1(x.type,x.key,x.props,null,g.mode,w),w.ref=xp(g,null,x),w.return=g,w;case Od:return x=aS(x,g.mode,w),x.return=g,x;case au:var C=x._init;return f(g,C(x._payload),w)}if(Xp(x)||pp(x))return x=Xc(x,g.mode,w,null),x.return=g,x;Sy(g,x)}return null}function p(g,x,w,C){var R=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:s(g,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fy:return w.key===R?l(g,x,w,C):null;case Od:return w.key===R?u(g,x,w,C):null;case au:return R=w._init,p(g,x,R(w._payload),C)}if(Xp(w)||pp(w))return R!==null?null:c(g,x,w,C,null);Sy(g,w)}return null}function m(g,x,w,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(w)||null,s(x,g,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fy:return g=g.get(C.key===null?w:C.key)||null,l(x,g,C,R);case Od:return g=g.get(C.key===null?w:C.key)||null,u(x,g,C,R);case au:var E=C._init;return m(g,x,w,E(C._payload),R)}if(Xp(C)||pp(C))return g=g.get(w)||null,c(x,g,C,R,null);Sy(x,C)}return null}function v(g,x,w,C){for(var R=null,E=null,P=x,D=x=0,L=null;P!==null&&D<w.length;D++){P.index>D?(L=P,P=null):L=P.sibling;var M=p(g,P,w[D],C);if(M===null){P===null&&(P=L);break}t&&P&&M.alternate===null&&e(g,P),x=o(M,x,D),E===null?R=M:E.sibling=M,E=M,P=L}if(D===w.length)return n(g,P),Cr&&wc(g,D),R;if(P===null){for(;D<w.length;D++)P=f(g,w[D],C),P!==null&&(x=o(P,x,D),E===null?R=P:E.sibling=P,E=P);return Cr&&wc(g,D),R}for(P=r(g,P);D<w.length;D++)L=m(P,g,D,w[D],C),L!==null&&(t&&L.alternate!==null&&P.delete(L.key===null?D:L.key),x=o(L,x,D),E===null?R=L:E.sibling=L,E=L);return t&&P.forEach(function(I){return e(g,I)}),Cr&&wc(g,D),R}function b(g,x,w,C){var R=pp(w);if(typeof R!="function")throw Error(Dt(150));if(w=R.call(w),w==null)throw Error(Dt(151));for(var E=R=null,P=x,D=x=0,L=null,M=w.next();P!==null&&!M.done;D++,M=w.next()){P.index>D?(L=P,P=null):L=P.sibling;var I=p(g,P,M.value,C);if(I===null){P===null&&(P=L);break}t&&P&&I.alternate===null&&e(g,P),x=o(I,x,D),E===null?R=I:E.sibling=I,E=I,P=L}if(M.done)return n(g,P),Cr&&wc(g,D),R;if(P===null){for(;!M.done;D++,M=w.next())M=f(g,M.value,C),M!==null&&(x=o(M,x,D),E===null?R=M:E.sibling=M,E=M);return Cr&&wc(g,D),R}for(P=r(g,P);!M.done;D++,M=w.next())M=m(P,g,D,M.value,C),M!==null&&(t&&M.alternate!==null&&P.delete(M.key===null?D:M.key),x=o(M,x,D),E===null?R=M:E.sibling=M,E=M);return t&&P.forEach(function(V){return e(g,V)}),Cr&&wc(g,D),R}function y(g,x,w,C){if(typeof w=="object"&&w!==null&&w.type===Dd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case fy:e:{for(var R=w.key,E=x;E!==null;){if(E.key===R){if(R=w.type,R===Dd){if(E.tag===7){n(g,E.sibling),x=i(E,w.props.children),x.return=g,g=x;break e}}else if(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===au&&yA(R)===E.type){n(g,E.sibling),x=i(E,w.props),x.ref=xp(g,E,w),x.return=g,g=x;break e}n(g,E);break}else e(g,E);E=E.sibling}w.type===Dd?(x=Xc(w.props.children,g.mode,C,w.key),x.return=g,g=x):(C=c1(w.type,w.key,w.props,null,g.mode,C),C.ref=xp(g,x,w),C.return=g,g=C)}return a(g);case Od:e:{for(E=w.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(g,x.sibling),x=i(x,w.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else e(g,x);x=x.sibling}x=aS(w,g.mode,C),x.return=g,g=x}return a(g);case au:return E=w._init,y(g,x,E(w._payload),C)}if(Xp(w))return v(g,x,w,C);if(pp(w))return b(g,x,w,C);Sy(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(g,x.sibling),x=i(x,w),x.return=g,g=x):(n(g,x),x=oS(w,g.mode,C),x.return=g,g=x),a(g)):n(g,x)}return y}var vh=uN(!0),cN=uN(!1),qg={},Vs=Vu(qg),Hm=Vu(qg),Vm=Vu(qg);function Lc(t){if(t===qg)throw Error(Dt(174));return t}function BM(t,e){switch(mr(Vm,e),mr(Hm,t),mr(Vs,qg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:J_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=J_(e,t)}Sr(Vs),mr(Vs,e)}function yh(){Sr(Vs),Sr(Hm),Sr(Vm)}function fN(t){Lc(Vm.current);var e=Lc(Vs.current),n=J_(e,t.type);e!==n&&(mr(Hm,t),mr(Vs,n))}function HM(t){Hm.current===t&&(Sr(Vs),Sr(Hm))}var Or=Vu(0);function X1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qw=[];function VM(){for(var t=0;t<Qw.length;t++)Qw[t]._workInProgressVersionPrimary=null;Qw.length=0}var o1=kl.ReactCurrentDispatcher,eS=kl.ReactCurrentBatchConfig,lf=0,kr=null,di=null,Ci=null,q1=!1,am=!1,jm=0,cH=0;function $i(){throw Error(Dt(321))}function jM(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xs(t[n],e[n]))return!1;return!0}function GM(t,e,n,r,i,o){if(lf=o,kr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,o1.current=t===null||t.memoizedState===null?pH:mH,t=n(r,i),am){o=0;do{if(am=!1,jm=0,25<=o)throw Error(Dt(301));o+=1,Ci=di=null,e.updateQueue=null,o1.current=gH,t=n(r,i)}while(am)}if(o1.current=Y1,e=di!==null&&di.next!==null,lf=0,Ci=di=kr=null,q1=!1,e)throw Error(Dt(300));return t}function WM(){var t=jm!==0;return jm=0,t}function As(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?kr.memoizedState=Ci=t:Ci=Ci.next=t,Ci}function Ga(){if(di===null){var t=kr.alternate;t=t!==null?t.memoizedState:null}else t=di.next;var e=Ci===null?kr.memoizedState:Ci.next;if(e!==null)Ci=e,di=t;else{if(t===null)throw Error(Dt(310));di=t,t={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},Ci===null?kr.memoizedState=Ci=t:Ci=Ci.next=t}return Ci}function Gm(t,e){return typeof e=="function"?e(t):e}function tS(t){var e=Ga(),n=e.queue;if(n===null)throw Error(Dt(311));n.lastRenderedReducer=t;var r=di,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((lf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,kr.lanes|=c,uf|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,xs(r,e.memoizedState)||(jo=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,kr.lanes|=o,uf|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nS(t){var e=Ga(),n=e.queue;if(n===null)throw Error(Dt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);xs(o,e.memoizedState)||(jo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function dN(){}function hN(t,e){var n=kr,r=Ga(),i=e(),o=!xs(r.memoizedState,i);if(o&&(r.memoizedState=i,jo=!0),r=r.queue,$M(gN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ci!==null&&Ci.memoizedState.tag&1){if(n.flags|=2048,Wm(9,mN.bind(null,n,r,i,e),void 0,null),Ti===null)throw Error(Dt(349));lf&30||pN(n,e,i)}return i}function pN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kr.updateQueue,e===null?(e={lastEffect:null,stores:null},kr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mN(t,e,n,r){e.value=n,e.getSnapshot=r,vN(e)&&yN(t)}function gN(t,e,n){return n(function(){vN(e)&&yN(t)})}function vN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xs(t,n)}catch{return!0}}function yN(t){var e=Rl(t,1);e!==null&&gs(e,t,1,-1)}function xA(t){var e=As();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:t},e.queue=t,t=t.dispatch=hH.bind(null,kr,t),[e.memoizedState,t]}function Wm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kr.updateQueue,e===null?(e={lastEffect:null,stores:null},kr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xN(){return Ga().memoizedState}function a1(t,e,n,r){var i=As();kr.flags|=t,i.memoizedState=Wm(1|e,n,void 0,r===void 0?null:r)}function jx(t,e,n,r){var i=Ga();r=r===void 0?null:r;var o=void 0;if(di!==null){var a=di.memoizedState;if(o=a.destroy,r!==null&&jM(r,a.deps)){i.memoizedState=Wm(e,n,o,r);return}}kr.flags|=t,i.memoizedState=Wm(1|e,n,o,r)}function bA(t,e){return a1(8390656,8,t,e)}function $M(t,e){return jx(2048,8,t,e)}function bN(t,e){return jx(4,2,t,e)}function wN(t,e){return jx(4,4,t,e)}function SN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _N(t,e,n){return n=n!=null?n.concat([t]):null,jx(4,4,SN.bind(null,e,t),n)}function KM(){}function EN(t,e){var n=Ga();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jM(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CN(t,e){var n=Ga();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jM(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MN(t,e,n){return lf&21?(xs(n,e)||(n=RL(),kr.lanes|=n,uf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jo=!0),t.memoizedState=n)}function fH(t,e){var n=ar;ar=n!==0&&4>n?n:4,t(!0);var r=eS.transition;eS.transition={};try{t(!1),e()}finally{ar=n,eS.transition=r}}function TN(){return Ga().memoizedState}function dH(t,e,n){var r=Cu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PN(t))RN(e,n);else if(n=oN(t,e,n,r),n!==null){var i=Co();gs(n,t,r,i),AN(n,e,r)}}function hH(t,e,n){var r=Cu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PN(t))RN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,xs(s,a)){var l=e.interleaved;l===null?(i.next=i,UM(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=oN(t,e,i,r),n!==null&&(i=Co(),gs(n,t,r,i),AN(n,e,r))}}function PN(t){var e=t.alternate;return t===kr||e!==null&&e===kr}function RN(t,e){am=q1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,EM(t,n)}}var Y1={readContext:ja,useCallback:$i,useContext:$i,useEffect:$i,useImperativeHandle:$i,useInsertionEffect:$i,useLayoutEffect:$i,useMemo:$i,useReducer:$i,useRef:$i,useState:$i,useDebugValue:$i,useDeferredValue:$i,useTransition:$i,useMutableSource:$i,useSyncExternalStore:$i,useId:$i,unstable_isNewReconciler:!1},pH={readContext:ja,useCallback:function(t,e){return As().memoizedState=[t,e===void 0?null:e],t},useContext:ja,useEffect:bA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,a1(4194308,4,SN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return a1(4194308,4,t,e)},useInsertionEffect:function(t,e){return a1(4,2,t,e)},useMemo:function(t,e){var n=As();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=As();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dH.bind(null,kr,t),[r.memoizedState,t]},useRef:function(t){var e=As();return t={current:t},e.memoizedState=t},useState:xA,useDebugValue:KM,useDeferredValue:function(t){return As().memoizedState=t},useTransition:function(){var t=xA(!1),e=t[0];return t=fH.bind(null,t[1]),As().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kr,i=As();if(Cr){if(n===void 0)throw Error(Dt(407));n=n()}else{if(n=e(),Ti===null)throw Error(Dt(349));lf&30||pN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,bA(gN.bind(null,r,o,t),[t]),r.flags|=2048,Wm(9,mN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=As(),e=Ti.identifierPrefix;if(Cr){var n=xl,r=yl;n=(r&~(1<<32-ms(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mH={readContext:ja,useCallback:EN,useContext:ja,useEffect:$M,useImperativeHandle:_N,useInsertionEffect:bN,useLayoutEffect:wN,useMemo:CN,useReducer:tS,useRef:xN,useState:function(){return tS(Gm)},useDebugValue:KM,useDeferredValue:function(t){var e=Ga();return MN(e,di.memoizedState,t)},useTransition:function(){var t=tS(Gm)[0],e=Ga().memoizedState;return[t,e]},useMutableSource:dN,useSyncExternalStore:hN,useId:TN,unstable_isNewReconciler:!1},gH={readContext:ja,useCallback:EN,useContext:ja,useEffect:$M,useImperativeHandle:_N,useInsertionEffect:bN,useLayoutEffect:wN,useMemo:CN,useReducer:nS,useRef:xN,useState:function(){return nS(Gm)},useDebugValue:KM,useDeferredValue:function(t){var e=Ga();return di===null?e.memoizedState=t:MN(e,di.memoizedState,t)},useTransition:function(){var t=nS(Gm)[0],e=Ga().memoizedState;return[t,e]},useMutableSource:dN,useSyncExternalStore:hN,useId:TN,unstable_isNewReconciler:!1};function xh(t,e){try{var n="",r=e;do n+=Gz(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function rS(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vH=typeof WeakMap=="function"?WeakMap:Map;function IN(t,e,n){n=_l(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){J1||(J1=!0,IE=r),wE(t,e)},n}function ON(t,e,n){n=_l(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wE(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){wE(t,e),typeof r!="function"&&(Eu===null?Eu=new Set([this]):Eu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function wA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IH.bind(null,t,e,n),e.then(t,t))}function SA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _A(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_l(-1,1),e.tag=2,_u(n,e,1))),n.lanes|=1),t)}var yH=kl.ReactCurrentOwner,jo=!1;function bo(t,e,n,r){e.child=t===null?cN(e,null,n,r):vh(e,t.child,n,r)}function EA(t,e,n,r,i){n=n.render;var o=e.ref;return sh(e,i),r=GM(t,e,n,r,o,i),n=WM(),t!==null&&!jo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Al(t,e,i)):(Cr&&n&&OM(e),e.flags|=1,bo(t,e,r,i),e.child)}function CA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!t3(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,DN(t,e,o,r,i)):(t=c1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fm,n(a,r)&&t.ref===e.ref)return Al(t,e,i)}return e.flags|=1,t=Mu(o,r),t.ref=e.ref,t.return=e,e.child=t}function DN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Fm(o,r)&&t.ref===e.ref)if(jo=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(jo=!0);else return e.lanes=t.lanes,Al(t,e,i)}return SE(t,e,n,r,i)}function kN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(jd,oa),oa|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mr(jd,oa),oa|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,mr(jd,oa),oa|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,mr(jd,oa),oa|=r;return bo(t,e,i,n),e.child}function LN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function SE(t,e,n,r,i){var o=Wo(n)?af:uo.current;return o=mh(e,o),sh(e,i),n=GM(t,e,n,r,o,i),r=WM(),t!==null&&!jo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Al(t,e,i)):(Cr&&r&&OM(e),e.flags|=1,bo(t,e,n,i),e.child)}function MA(t,e,n,r,i){if(Wo(n)){var o=!0;V1(e)}else o=!1;if(sh(e,i),e.stateNode===null)s1(t,e),lN(e,n,r),bE(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ja(u):(u=Wo(n)?af:uo.current,u=mh(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&vA(e,a,r,u),su=!1;var p=e.memoizedState;a.state=p,K1(e,r,a,i),l=e.memoizedState,s!==r||p!==l||Go.current||su?(typeof c=="function"&&(xE(e,n,c,r),l=e.memoizedState),(s=su||gA(e,n,s,r,p,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,aN(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:is(e.type,s),a.props=u,f=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ja(l):(l=Wo(n)?af:uo.current,l=mh(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||p!==l)&&vA(e,a,r,l),su=!1,p=e.memoizedState,a.state=p,K1(e,r,a,i);var v=e.memoizedState;s!==f||p!==v||Go.current||su?(typeof m=="function"&&(xE(e,n,m,r),v=e.memoizedState),(u=su||gA(e,n,u,r,p,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return _E(t,e,n,r,o,i)}function _E(t,e,n,r,i,o){LN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&fA(e,n,!1),Al(t,e,o);r=e.stateNode,yH.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=vh(e,t.child,null,o),e.child=vh(e,null,s,o)):bo(t,e,s,o),e.memoizedState=r.state,i&&fA(e,n,!0),e.child}function NN(t){var e=t.stateNode;e.pendingContext?cA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cA(t,e.context,!1),BM(t,e.containerInfo)}function TA(t,e,n,r,i){return gh(),kM(i),e.flags|=256,bo(t,e,n,r),e.child}var EE={dehydrated:null,treeContext:null,retryLane:0};function CE(t){return{baseLanes:t,cachePool:null,transitions:null}}function FN(t,e,n){var r=e.pendingProps,i=Or.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),mr(Or,i&1),t===null)return vE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=$x(a,r,0,null),t=Xc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=CE(n),e.memoizedState=EE,t):XM(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return xH(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Mu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Mu(s,o):(o=Xc(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?CE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=EE,r}return o=t.child,t=o.sibling,r=Mu(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function XM(t,e){return e=$x({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _y(t,e,n,r){return r!==null&&kM(r),vh(e,t.child,null,n),t=XM(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xH(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=rS(Error(Dt(422))),_y(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=$x({mode:"visible",children:r.children},i,0,null),o=Xc(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&vh(e,t.child,null,a),e.child.memoizedState=CE(a),e.memoizedState=EE,o);if(!(e.mode&1))return _y(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Dt(419)),r=rS(o,r,void 0),_y(t,e,a,r)}if(s=(a&t.childLanes)!==0,jo||s){if(r=Ti,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Rl(t,i),gs(r,t,i,-1))}return e3(),r=rS(Error(Dt(421))),_y(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=OH.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,la=Su(i.nextSibling),ca=e,Cr=!0,us=null,t!==null&&(La[Na++]=yl,La[Na++]=xl,La[Na++]=sf,yl=t.id,xl=t.overflow,sf=e),e=XM(e,r.children),e.flags|=4096,e)}function PA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yE(t.return,e,n)}function iS(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function UN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(bo(t,e,r.children,n),r=Or.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PA(t,n,e);else if(t.tag===19)PA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(mr(Or,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&X1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),iS(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&X1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}iS(e,!0,n,null,o);break;case"together":iS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function s1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Al(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Dt(153));if(e.child!==null){for(t=e.child,n=Mu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bH(t,e,n){switch(e.tag){case 3:NN(e),gh();break;case 5:fN(e);break;case 1:Wo(e.type)&&V1(e);break;case 4:BM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;mr(W1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(mr(Or,Or.current&1),e.flags|=128,null):n&e.child.childLanes?FN(t,e,n):(mr(Or,Or.current&1),t=Al(t,e,n),t!==null?t.sibling:null);mr(Or,Or.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mr(Or,Or.current),r)break;return null;case 22:case 23:return e.lanes=0,kN(t,e,n)}return Al(t,e,n)}var zN,ME,BN,HN;zN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ME=function(){};BN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Lc(Vs.current);var o=null;switch(n){case"input":i=X_(t,i),r=X_(t,r),o=[];break;case"select":i=Lr({},i,{value:void 0}),r=Lr({},r,{value:void 0}),o=[];break;case"textarea":i=Z_(t,i),r=Z_(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=B1)}Q_(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Am.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Am.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yr("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};HN=function(t,e,n,r){n!==r&&(e.flags|=4)};function bp(t,e){if(!Cr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ki(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wH(t,e,n){var r=e.pendingProps;switch(DM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ki(e),null;case 1:return Wo(e.type)&&H1(),Ki(e),null;case 3:return r=e.stateNode,yh(),Sr(Go),Sr(uo),VM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,us!==null&&(kE(us),us=null))),ME(t,e),Ki(e),null;case 5:HM(e);var i=Lc(Vm.current);if(n=e.type,t!==null&&e.stateNode!=null)BN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Dt(166));return Ki(e),null}if(t=Lc(Vs.current),wy(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ks]=e,r[Bm]=o,t=(e.mode&1)!==0,n){case"dialog":yr("cancel",r),yr("close",r);break;case"iframe":case"object":case"embed":yr("load",r);break;case"video":case"audio":for(i=0;i<Yp.length;i++)yr(Yp[i],r);break;case"source":yr("error",r);break;case"img":case"image":case"link":yr("error",r),yr("load",r);break;case"details":yr("toggle",r);break;case"input":FR(r,o),yr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},yr("invalid",r);break;case"textarea":zR(r,o),yr("invalid",r)}Q_(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&by(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&by(r.textContent,s,t),i=["children",""+s]):Am.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&yr("scroll",r)}switch(n){case"input":dy(r),UR(r,o,!0);break;case"textarea":dy(r),BR(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=B1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ks]=e,t[Bm]=r,zN(t,e,!1,!1),e.stateNode=t;e:{switch(a=eE(n,r),n){case"dialog":yr("cancel",t),yr("close",t),i=r;break;case"iframe":case"object":case"embed":yr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yp.length;i++)yr(Yp[i],t);i=r;break;case"source":yr("error",t),i=r;break;case"img":case"image":case"link":yr("error",t),yr("load",t),i=r;break;case"details":yr("toggle",t),i=r;break;case"input":FR(t,r),i=X_(t,r),yr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Lr({},r,{value:void 0}),yr("invalid",t);break;case"textarea":zR(t,r),i=Z_(t,r),yr("invalid",t);break;default:i=r}Q_(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?vL(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mL(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Im(t,l):typeof l=="number"&&Im(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Am.hasOwnProperty(o)?l!=null&&o==="onScroll"&&yr("scroll",t):l!=null&&yM(t,o,l,a))}switch(n){case"input":dy(t),UR(t,r,!1);break;case"textarea":dy(t),BR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ou(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?rh(t,!!r.multiple,o,!1):r.defaultValue!=null&&rh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=B1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ki(e),null;case 6:if(t&&e.stateNode!=null)HN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Dt(166));if(n=Lc(Vm.current),Lc(Vs.current),wy(e)){if(r=e.stateNode,n=e.memoizedProps,r[ks]=e,(o=r.nodeValue!==n)&&(t=ca,t!==null))switch(t.tag){case 3:by(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&by(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ks]=e,e.stateNode=r}return Ki(e),null;case 13:if(Sr(Or),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Cr&&la!==null&&e.mode&1&&!(e.flags&128))iN(),gh(),e.flags|=98560,o=!1;else if(o=wy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Dt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Dt(317));o[ks]=e}else gh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ki(e),o=!1}else us!==null&&(kE(us),us=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Or.current&1?hi===0&&(hi=3):e3())),e.updateQueue!==null&&(e.flags|=4),Ki(e),null);case 4:return yh(),ME(t,e),t===null&&Um(e.stateNode.containerInfo),Ki(e),null;case 10:return FM(e.type._context),Ki(e),null;case 17:return Wo(e.type)&&H1(),Ki(e),null;case 19:if(Sr(Or),o=e.memoizedState,o===null)return Ki(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)bp(o,!1);else{if(hi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=X1(t),a!==null){for(e.flags|=128,bp(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return mr(Or,Or.current&1|2),e.child}t=t.sibling}o.tail!==null&&Zr()>bh&&(e.flags|=128,r=!0,bp(o,!1),e.lanes=4194304)}else{if(!r)if(t=X1(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Cr)return Ki(e),null}else 2*Zr()-o.renderingStartTime>bh&&n!==1073741824&&(e.flags|=128,r=!0,bp(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Zr(),e.sibling=null,n=Or.current,mr(Or,r?n&1|2:n&1),e):(Ki(e),null);case 22:case 23:return QM(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?oa&1073741824&&(Ki(e),e.subtreeFlags&6&&(e.flags|=8192)):Ki(e),null;case 24:return null;case 25:return null}throw Error(Dt(156,e.tag))}function SH(t,e){switch(DM(e),e.tag){case 1:return Wo(e.type)&&H1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yh(),Sr(Go),Sr(uo),VM(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return HM(e),null;case 13:if(Sr(Or),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Dt(340));gh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sr(Or),null;case 4:return yh(),null;case 10:return FM(e.type._context),null;case 22:case 23:return QM(),null;case 24:return null;default:return null}}var Ey=!1,to=!1,_H=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function Vd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Br(t,e,r)}else n.current=null}function TE(t,e,n){try{n()}catch(r){Br(t,e,r)}}var RA=!1;function EH(t,e){if(cE=F1,t=WL(),IM(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===i&&(s=a),p===o&&++c===r&&(l=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fE={focusedElem:t,selectionRange:n},F1=!1,Zt=e;Zt!==null;)if(e=Zt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Zt=t;else for(;Zt!==null;){e=Zt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,y=v.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:is(e.type,b),y);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Dt(163))}}catch(C){Br(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Zt=t;break}Zt=e.return}return v=RA,RA=!1,v}function sm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&TE(e,n,o)}i=i.next}while(i!==r)}}function Gx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function PE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VN(t){var e=t.alternate;e!==null&&(t.alternate=null,VN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ks],delete e[Bm],delete e[pE],delete e[aH],delete e[sH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jN(t){return t.tag===5||t.tag===3||t.tag===4}function AA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function RE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=B1));else if(r!==4&&(t=t.child,t!==null))for(RE(t,e,n),t=t.sibling;t!==null;)RE(t,e,n),t=t.sibling}function AE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(AE(t,e,n),t=t.sibling;t!==null;)AE(t,e,n),t=t.sibling}var Ni=null,as=!1;function Kl(t,e,n){for(n=n.child;n!==null;)GN(t,e,n),n=n.sibling}function GN(t,e,n){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(Nx,n)}catch{}switch(n.tag){case 5:to||Vd(n,e);case 6:var r=Ni,i=as;Ni=null,Kl(t,e,n),Ni=r,as=i,Ni!==null&&(as?(t=Ni,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ni.removeChild(n.stateNode));break;case 18:Ni!==null&&(as?(t=Ni,n=n.stateNode,t.nodeType===8?Zw(t.parentNode,n):t.nodeType===1&&Zw(t,n),Lm(t)):Zw(Ni,n.stateNode));break;case 4:r=Ni,i=as,Ni=n.stateNode.containerInfo,as=!0,Kl(t,e,n),Ni=r,as=i;break;case 0:case 11:case 14:case 15:if(!to&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&TE(n,e,a),i=i.next}while(i!==r)}Kl(t,e,n);break;case 1:if(!to&&(Vd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Br(n,e,s)}Kl(t,e,n);break;case 21:Kl(t,e,n);break;case 22:n.mode&1?(to=(r=to)||n.memoizedState!==null,Kl(t,e,n),to=r):Kl(t,e,n);break;default:Kl(t,e,n)}}function IA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _H),e.forEach(function(r){var i=DH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Za(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ni=s.stateNode,as=!1;break e;case 3:Ni=s.stateNode.containerInfo,as=!0;break e;case 4:Ni=s.stateNode.containerInfo,as=!0;break e}s=s.return}if(Ni===null)throw Error(Dt(160));GN(o,a,i),Ni=null,as=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Br(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WN(e,t),e=e.sibling}function WN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Za(e,t),Ts(t),r&4){try{sm(3,t,t.return),Gx(3,t)}catch(b){Br(t,t.return,b)}try{sm(5,t,t.return)}catch(b){Br(t,t.return,b)}}break;case 1:Za(e,t),Ts(t),r&512&&n!==null&&Vd(n,n.return);break;case 5:if(Za(e,t),Ts(t),r&512&&n!==null&&Vd(n,n.return),t.flags&32){var i=t.stateNode;try{Im(i,"")}catch(b){Br(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&dL(i,o),eE(s,a);var u=eE(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?vL(i,f):c==="dangerouslySetInnerHTML"?mL(i,f):c==="children"?Im(i,f):yM(i,c,f,u)}switch(s){case"input":q_(i,o);break;case"textarea":hL(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?rh(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?rh(i,!!o.multiple,o.defaultValue,!0):rh(i,!!o.multiple,o.multiple?[]:"",!1))}i[Bm]=o}catch(b){Br(t,t.return,b)}}break;case 6:if(Za(e,t),Ts(t),r&4){if(t.stateNode===null)throw Error(Dt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){Br(t,t.return,b)}}break;case 3:if(Za(e,t),Ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lm(e.containerInfo)}catch(b){Br(t,t.return,b)}break;case 4:Za(e,t),Ts(t);break;case 13:Za(e,t),Ts(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ZM=Zr())),r&4&&IA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(to=(u=to)||c,Za(e,t),to=u):Za(e,t),Ts(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Zt=t,c=t.child;c!==null;){for(f=Zt=c;Zt!==null;){switch(p=Zt,m=p.child,p.tag){case 0:case 11:case 14:case 15:sm(4,p,p.return);break;case 1:Vd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Br(r,n,b)}}break;case 5:Vd(p,p.return);break;case 22:if(p.memoizedState!==null){DA(f);continue}}m!==null?(m.return=p,Zt=m):DA(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=gL("display",a))}catch(b){Br(t,t.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Br(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Za(e,t),Ts(t),r&4&&IA(t);break;case 21:break;default:Za(e,t),Ts(t)}}function Ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jN(n)){var r=n;break e}n=n.return}throw Error(Dt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Im(i,""),r.flags&=-33);var o=AA(t);AE(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=AA(t);RE(t,s,a);break;default:throw Error(Dt(161))}}catch(l){Br(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CH(t,e,n){Zt=t,$N(t)}function $N(t,e,n){for(var r=(t.mode&1)!==0;Zt!==null;){var i=Zt,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ey;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||to;s=Ey;var u=to;if(Ey=a,(to=l)&&!u)for(Zt=i;Zt!==null;)a=Zt,l=a.child,a.tag===22&&a.memoizedState!==null?kA(i):l!==null?(l.return=a,Zt=l):kA(i);for(;o!==null;)Zt=o,$N(o),o=o.sibling;Zt=i,Ey=s,to=u}OA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Zt=o):OA(t)}}function OA(t){for(;Zt!==null;){var e=Zt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:to||Gx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!to)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:is(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&mA(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mA(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Lm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Dt(163))}to||e.flags&512&&PE(e)}catch(p){Br(e,e.return,p)}}if(e===t){Zt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Zt=n;break}Zt=e.return}}function DA(t){for(;Zt!==null;){var e=Zt;if(e===t){Zt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Zt=n;break}Zt=e.return}}function kA(t){for(;Zt!==null;){var e=Zt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gx(4,e)}catch(l){Br(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Br(e,i,l)}}var o=e.return;try{PE(e)}catch(l){Br(e,o,l)}break;case 5:var a=e.return;try{PE(e)}catch(l){Br(e,a,l)}}}catch(l){Br(e,e.return,l)}if(e===t){Zt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Zt=s;break}Zt=e.return}}var MH=Math.ceil,Z1=kl.ReactCurrentDispatcher,qM=kl.ReactCurrentOwner,Va=kl.ReactCurrentBatchConfig,Yn=0,Ti=null,ii=null,Ui=0,oa=0,jd=Vu(0),hi=0,$m=null,uf=0,Wx=0,YM=0,lm=null,Ho=null,ZM=0,bh=1/0,fl=null,J1=!1,IE=null,Eu=null,Cy=!1,pu=null,Q1=0,um=0,OE=null,l1=-1,u1=0;function Co(){return Yn&6?Zr():l1!==-1?l1:l1=Zr()}function Cu(t){return t.mode&1?Yn&2&&Ui!==0?Ui&-Ui:uH.transition!==null?(u1===0&&(u1=RL()),u1):(t=ar,t!==0||(t=window.event,t=t===void 0?16:NL(t.type)),t):1}function gs(t,e,n,r){if(50<um)throw um=0,OE=null,Error(Dt(185));$g(t,n,r),(!(Yn&2)||t!==Ti)&&(t===Ti&&(!(Yn&2)&&(Wx|=n),hi===4&&cu(t,Ui)),$o(t,r),n===1&&Yn===0&&!(e.mode&1)&&(bh=Zr()+500,Hx&&ju()))}function $o(t,e){var n=t.callbackNode;uB(t,e);var r=N1(t,t===Ti?Ui:0);if(r===0)n!==null&&jR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jR(n),e===1)t.tag===0?lH(LA.bind(null,t)):tN(LA.bind(null,t)),iH(function(){!(Yn&6)&&ju()}),n=null;else{switch(AL(r)){case 1:n=_M;break;case 4:n=TL;break;case 16:n=L1;break;case 536870912:n=PL;break;default:n=L1}n=e6(n,KN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KN(t,e){if(l1=-1,u1=0,Yn&6)throw Error(Dt(327));var n=t.callbackNode;if(lh()&&t.callbackNode!==n)return null;var r=N1(t,t===Ti?Ui:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ex(t,r);else{e=r;var i=Yn;Yn|=2;var o=qN();(Ti!==t||Ui!==e)&&(fl=null,bh=Zr()+500,Kc(t,e));do try{RH();break}catch(s){XN(t,s)}while(!0);NM(),Z1.current=o,Yn=i,ii!==null?e=0:(Ti=null,Ui=0,e=hi)}if(e!==0){if(e===2&&(i=oE(t),i!==0&&(r=i,e=DE(t,i))),e===1)throw n=$m,Kc(t,0),cu(t,r),$o(t,Zr()),n;if(e===6)cu(t,r);else{if(i=t.current.alternate,!(r&30)&&!TH(i)&&(e=ex(t,r),e===2&&(o=oE(t),o!==0&&(r=o,e=DE(t,o))),e===1))throw n=$m,Kc(t,0),cu(t,r),$o(t,Zr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Dt(345));case 2:Sc(t,Ho,fl);break;case 3:if(cu(t,r),(r&130023424)===r&&(e=ZM+500-Zr(),10<e)){if(N1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Co(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hE(Sc.bind(null,t,Ho,fl),e);break}Sc(t,Ho,fl);break;case 4:if(cu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ms(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Zr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MH(r/1960))-r,10<r){t.timeoutHandle=hE(Sc.bind(null,t,Ho,fl),r);break}Sc(t,Ho,fl);break;case 5:Sc(t,Ho,fl);break;default:throw Error(Dt(329))}}}return $o(t,Zr()),t.callbackNode===n?KN.bind(null,t):null}function DE(t,e){var n=lm;return t.current.memoizedState.isDehydrated&&(Kc(t,e).flags|=256),t=ex(t,e),t!==2&&(e=Ho,Ho=n,e!==null&&kE(e)),t}function kE(t){Ho===null?Ho=t:Ho.push.apply(Ho,t)}function TH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xs(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cu(t,e){for(e&=~YM,e&=~Wx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ms(e),r=1<<n;t[n]=-1,e&=~r}}function LA(t){if(Yn&6)throw Error(Dt(327));lh();var e=N1(t,0);if(!(e&1))return $o(t,Zr()),null;var n=ex(t,e);if(t.tag!==0&&n===2){var r=oE(t);r!==0&&(e=r,n=DE(t,r))}if(n===1)throw n=$m,Kc(t,0),cu(t,e),$o(t,Zr()),n;if(n===6)throw Error(Dt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sc(t,Ho,fl),$o(t,Zr()),null}function JM(t,e){var n=Yn;Yn|=1;try{return t(e)}finally{Yn=n,Yn===0&&(bh=Zr()+500,Hx&&ju())}}function cf(t){pu!==null&&pu.tag===0&&!(Yn&6)&&lh();var e=Yn;Yn|=1;var n=Va.transition,r=ar;try{if(Va.transition=null,ar=1,t)return t()}finally{ar=r,Va.transition=n,Yn=e,!(Yn&6)&&ju()}}function QM(){oa=jd.current,Sr(jd)}function Kc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rH(n)),ii!==null)for(n=ii.return;n!==null;){var r=n;switch(DM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&H1();break;case 3:yh(),Sr(Go),Sr(uo),VM();break;case 5:HM(r);break;case 4:yh();break;case 13:Sr(Or);break;case 19:Sr(Or);break;case 10:FM(r.type._context);break;case 22:case 23:QM()}n=n.return}if(Ti=t,ii=t=Mu(t.current,null),Ui=oa=e,hi=0,$m=null,YM=Wx=uf=0,Ho=lm=null,kc!==null){for(e=0;e<kc.length;e++)if(n=kc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}kc=null}return t}function XN(t,e){do{var n=ii;try{if(NM(),o1.current=Y1,q1){for(var r=kr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}q1=!1}if(lf=0,Ci=di=kr=null,am=!1,jm=0,qM.current=null,n===null||n.return===null){hi=1,$m=e,ii=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ui,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=SA(a);if(m!==null){m.flags&=-257,_A(m,a,s,o,e),m.mode&1&&wA(o,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){wA(o,u,e),e3();break e}l=Error(Dt(426))}}else if(Cr&&s.mode&1){var y=SA(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),_A(y,a,s,o,e),kM(xh(l,s));break e}}o=l=xh(l,s),hi!==4&&(hi=2),lm===null?lm=[o]:lm.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=IN(o,l,e);pA(o,g);break e;case 1:s=l;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Eu===null||!Eu.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=ON(o,s,e);pA(o,C);break e}}o=o.return}while(o!==null)}ZN(n)}catch(R){e=R,ii===n&&n!==null&&(ii=n=n.return);continue}break}while(!0)}function qN(){var t=Z1.current;return Z1.current=Y1,t===null?Y1:t}function e3(){(hi===0||hi===3||hi===2)&&(hi=4),Ti===null||!(uf&268435455)&&!(Wx&268435455)||cu(Ti,Ui)}function ex(t,e){var n=Yn;Yn|=2;var r=qN();(Ti!==t||Ui!==e)&&(fl=null,Kc(t,e));do try{PH();break}catch(i){XN(t,i)}while(!0);if(NM(),Yn=n,Z1.current=r,ii!==null)throw Error(Dt(261));return Ti=null,Ui=0,hi}function PH(){for(;ii!==null;)YN(ii)}function RH(){for(;ii!==null&&!eB();)YN(ii)}function YN(t){var e=QN(t.alternate,t,oa);t.memoizedProps=t.pendingProps,e===null?ZN(t):ii=e,qM.current=null}function ZN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SH(n,e),n!==null){n.flags&=32767,ii=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hi=6,ii=null;return}}else if(n=wH(n,e,oa),n!==null){ii=n;return}if(e=e.sibling,e!==null){ii=e;return}ii=e=t}while(e!==null);hi===0&&(hi=5)}function Sc(t,e,n){var r=ar,i=Va.transition;try{Va.transition=null,ar=1,AH(t,e,n,r)}finally{Va.transition=i,ar=r}return null}function AH(t,e,n,r){do lh();while(pu!==null);if(Yn&6)throw Error(Dt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Dt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(cB(t,o),t===Ti&&(ii=Ti=null,Ui=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cy||(Cy=!0,e6(L1,function(){return lh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Va.transition,Va.transition=null;var a=ar;ar=1;var s=Yn;Yn|=4,qM.current=null,EH(t,n),WN(n,t),YB(fE),F1=!!cE,fE=cE=null,t.current=n,CH(n),tB(),Yn=s,ar=a,Va.transition=o}else t.current=n;if(Cy&&(Cy=!1,pu=t,Q1=i),o=t.pendingLanes,o===0&&(Eu=null),iB(n.stateNode),$o(t,Zr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(J1)throw J1=!1,t=IE,IE=null,t;return Q1&1&&t.tag!==0&&lh(),o=t.pendingLanes,o&1?t===OE?um++:(um=0,OE=t):um=0,ju(),null}function lh(){if(pu!==null){var t=AL(Q1),e=Va.transition,n=ar;try{if(Va.transition=null,ar=16>t?16:t,pu===null)var r=!1;else{if(t=pu,pu=null,Q1=0,Yn&6)throw Error(Dt(331));var i=Yn;for(Yn|=4,Zt=t.current;Zt!==null;){var o=Zt,a=o.child;if(Zt.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Zt=u;Zt!==null;){var c=Zt;switch(c.tag){case 0:case 11:case 15:sm(8,c,o)}var f=c.child;if(f!==null)f.return=c,Zt=f;else for(;Zt!==null;){c=Zt;var p=c.sibling,m=c.return;if(VN(c),c===u){Zt=null;break}if(p!==null){p.return=m,Zt=p;break}Zt=m}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}Zt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Zt=a;else e:for(;Zt!==null;){if(o=Zt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sm(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Zt=g;break e}Zt=o.return}}var x=t.current;for(Zt=x;Zt!==null;){a=Zt;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Zt=w;else e:for(a=x;Zt!==null;){if(s=Zt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Gx(9,s)}}catch(R){Br(s,s.return,R)}if(s===a){Zt=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,Zt=C;break e}Zt=s.return}}if(Yn=i,ju(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(Nx,t)}catch{}r=!0}return r}finally{ar=n,Va.transition=e}}return!1}function NA(t,e,n){e=xh(n,e),e=IN(t,e,1),t=_u(t,e,1),e=Co(),t!==null&&($g(t,1,e),$o(t,e))}function Br(t,e,n){if(t.tag===3)NA(t,t,n);else for(;e!==null;){if(e.tag===3){NA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eu===null||!Eu.has(r))){t=xh(n,t),t=ON(e,t,1),e=_u(e,t,1),t=Co(),e!==null&&($g(e,1,t),$o(e,t));break}}e=e.return}}function IH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Co(),t.pingedLanes|=t.suspendedLanes&n,Ti===t&&(Ui&n)===n&&(hi===4||hi===3&&(Ui&130023424)===Ui&&500>Zr()-ZM?Kc(t,0):YM|=n),$o(t,e)}function JN(t,e){e===0&&(t.mode&1?(e=my,my<<=1,!(my&130023424)&&(my=4194304)):e=1);var n=Co();t=Rl(t,e),t!==null&&($g(t,e,n),$o(t,n))}function OH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JN(t,n)}function DH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Dt(314))}r!==null&&r.delete(e),JN(t,n)}var QN;QN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Go.current)jo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jo=!1,bH(t,e,n);jo=!!(t.flags&131072)}else jo=!1,Cr&&e.flags&1048576&&nN(e,G1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;s1(t,e),t=e.pendingProps;var i=mh(e,uo.current);sh(e,n),i=GM(null,e,r,t,i,n);var o=WM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wo(r)?(o=!0,V1(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zM(e),i.updater=Vx,e.stateNode=i,i._reactInternals=e,bE(e,r,t,n),e=_E(null,e,r,!0,o,n)):(e.tag=0,Cr&&o&&OM(e),bo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(s1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LH(r),t=is(r,t),i){case 0:e=SE(null,e,r,t,n);break e;case 1:e=MA(null,e,r,t,n);break e;case 11:e=EA(null,e,r,t,n);break e;case 14:e=CA(null,e,r,is(r.type,t),n);break e}throw Error(Dt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:is(r,i),SE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:is(r,i),MA(t,e,r,i,n);case 3:e:{if(NN(e),t===null)throw Error(Dt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,aN(t,e),K1(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=xh(Error(Dt(423)),e),e=TA(t,e,r,n,i);break e}else if(r!==i){i=xh(Error(Dt(424)),e),e=TA(t,e,r,n,i);break e}else for(la=Su(e.stateNode.containerInfo.firstChild),ca=e,Cr=!0,us=null,n=cN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gh(),r===i){e=Al(t,e,n);break e}bo(t,e,r,n)}e=e.child}return e;case 5:return fN(e),t===null&&vE(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,dE(r,i)?a=null:o!==null&&dE(r,o)&&(e.flags|=32),LN(t,e),bo(t,e,a,n),e.child;case 6:return t===null&&vE(e),null;case 13:return FN(t,e,n);case 4:return BM(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vh(e,null,r,n):bo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:is(r,i),EA(t,e,r,i,n);case 7:return bo(t,e,e.pendingProps,n),e.child;case 8:return bo(t,e,e.pendingProps.children,n),e.child;case 12:return bo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,mr(W1,r._currentValue),r._currentValue=a,o!==null)if(xs(o.value,a)){if(o.children===i.children&&!Go.current){e=Al(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=_l(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),yE(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Dt(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),yE(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}bo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sh(e,n),i=ja(i),r=r(i),e.flags|=1,bo(t,e,r,n),e.child;case 14:return r=e.type,i=is(r,e.pendingProps),i=is(r.type,i),CA(t,e,r,i,n);case 15:return DN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:is(r,i),s1(t,e),e.tag=1,Wo(r)?(t=!0,V1(e)):t=!1,sh(e,n),lN(e,r,i),bE(e,r,i,n),_E(null,e,r,!0,t,n);case 19:return UN(t,e,n);case 22:return kN(t,e,n)}throw Error(Dt(156,e.tag))};function e6(t,e){return ML(t,e)}function kH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ba(t,e,n,r){return new kH(t,e,n,r)}function t3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LH(t){if(typeof t=="function")return t3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bM)return 11;if(t===wM)return 14}return 2}function Mu(t,e){var n=t.alternate;return n===null?(n=Ba(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function c1(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")t3(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Dd:return Xc(n.children,i,o,e);case xM:a=8,i|=8;break;case G_:return t=Ba(12,n,e,i|2),t.elementType=G_,t.lanes=o,t;case W_:return t=Ba(13,n,e,i),t.elementType=W_,t.lanes=o,t;case $_:return t=Ba(19,n,e,i),t.elementType=$_,t.lanes=o,t;case uL:return $x(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sL:a=10;break e;case lL:a=9;break e;case bM:a=11;break e;case wM:a=14;break e;case au:a=16,r=null;break e}throw Error(Dt(130,t==null?t:typeof t,""))}return e=Ba(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Xc(t,e,n,r){return t=Ba(7,t,r,e),t.lanes=n,t}function $x(t,e,n,r){return t=Ba(22,t,r,e),t.elementType=uL,t.lanes=n,t.stateNode={isHidden:!1},t}function oS(t,e,n){return t=Ba(6,t,null,e),t.lanes=n,t}function aS(t,e,n){return e=Ba(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bw(0),this.expirationTimes=Bw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function n3(t,e,n,r,i,o,a,s,l){return t=new NH(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ba(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zM(o),t}function FH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Od,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function t6(t){if(!t)return Du;t=t._reactInternals;e:{if(yf(t)!==t||t.tag!==1)throw Error(Dt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Dt(171))}if(t.tag===1){var n=t.type;if(Wo(n))return eN(t,n,e)}return e}function n6(t,e,n,r,i,o,a,s,l){return t=n3(n,r,!0,t,i,o,a,s,l),t.context=t6(null),n=t.current,r=Co(),i=Cu(n),o=_l(r,i),o.callback=e??null,_u(n,o,i),t.current.lanes=i,$g(t,i,r),$o(t,r),t}function Kx(t,e,n,r){var i=e.current,o=Co(),a=Cu(i);return n=t6(n),e.context===null?e.context=n:e.pendingContext=n,e=_l(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_u(i,e,a),t!==null&&(gs(t,i,a,o),i1(t,i,a)),a}function tx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function r3(t,e){FA(t,e),(t=t.alternate)&&FA(t,e)}function UH(){return null}var r6=typeof reportError=="function"?reportError:function(t){console.error(t)};function i3(t){this._internalRoot=t}Xx.prototype.render=i3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Dt(409));Kx(t,e,null,null)};Xx.prototype.unmount=i3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cf(function(){Kx(null,t,null,null)}),e[Pl]=null}};function Xx(t){this._internalRoot=t}Xx.prototype.unstable_scheduleHydration=function(t){if(t){var e=DL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<uu.length&&e!==0&&e<uu[n].priority;n++);uu.splice(n,0,t),n===0&&LL(t)}};function o3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function UA(){}function zH(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=tx(a);o.call(u)}}var a=n6(e,r,t,0,null,!1,!1,"",UA);return t._reactRootContainer=a,t[Pl]=a.current,Um(t.nodeType===8?t.parentNode:t),cf(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=tx(l);s.call(u)}}var l=n3(t,0,!1,null,null,!1,!1,"",UA);return t._reactRootContainer=l,t[Pl]=l.current,Um(t.nodeType===8?t.parentNode:t),cf(function(){Kx(e,l,n,r)}),l}function Yx(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=tx(a);s.call(l)}}Kx(e,a,t,i)}else a=zH(n,e,t,i,r);return tx(a)}IL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qp(e.pendingLanes);n!==0&&(EM(e,n|1),$o(e,Zr()),!(Yn&6)&&(bh=Zr()+500,ju()))}break;case 13:cf(function(){var r=Rl(t,1);if(r!==null){var i=Co();gs(r,t,1,i)}}),r3(t,1)}};CM=function(t){if(t.tag===13){var e=Rl(t,134217728);if(e!==null){var n=Co();gs(e,t,134217728,n)}r3(t,134217728)}};OL=function(t){if(t.tag===13){var e=Cu(t),n=Rl(t,e);if(n!==null){var r=Co();gs(n,t,e,r)}r3(t,e)}};DL=function(){return ar};kL=function(t,e){var n=ar;try{return ar=t,e()}finally{ar=n}};nE=function(t,e,n){switch(e){case"input":if(q_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bx(r);if(!i)throw Error(Dt(90));fL(r),q_(r,i)}}}break;case"textarea":hL(t,n);break;case"select":e=n.value,e!=null&&rh(t,!!n.multiple,e,!1)}};bL=JM;wL=cf;var BH={usingClientEntryPoint:!1,Events:[Xg,Fd,Bx,yL,xL,JM]},wp={findFiberByHostInstance:Dc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HH={bundleType:wp.bundleType,version:wp.version,rendererPackageName:wp.rendererPackageName,rendererConfig:wp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=EL(t),t===null?null:t.stateNode},findFiberByHostInstance:wp.findFiberByHostInstance||UH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var My=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!My.isDisabled&&My.supportsFiber)try{Nx=My.inject(HH),Hs=My}catch{}}ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BH;ga.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o3(e))throw Error(Dt(200));return FH(t,e,null,n)};ga.createRoot=function(t,e){if(!o3(t))throw Error(Dt(299));var n=!1,r="",i=r6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=n3(t,1,!1,null,null,n,!1,r,i),t[Pl]=e.current,Um(t.nodeType===8?t.parentNode:t),new i3(e)};ga.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Dt(188)):(t=Object.keys(t).join(","),Error(Dt(268,t)));return t=EL(e),t=t===null?null:t.stateNode,t};ga.flushSync=function(t){return cf(t)};ga.hydrate=function(t,e,n){if(!qx(e))throw Error(Dt(200));return Yx(null,t,e,!0,n)};ga.hydrateRoot=function(t,e,n){if(!o3(t))throw Error(Dt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=r6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=n6(e,null,t,1,n??null,i,!1,o,a),t[Pl]=e.current,Um(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xx(e)};ga.render=function(t,e,n){if(!qx(e))throw Error(Dt(200));return Yx(null,t,e,!1,n)};ga.unmountComponentAtNode=function(t){if(!qx(t))throw Error(Dt(40));return t._reactRootContainer?(cf(function(){Yx(null,null,t,!1,function(){t._reactRootContainer=null,t[Pl]=null})}),!0):!1};ga.unstable_batchedUpdates=JM;ga.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qx(n))throw Error(Dt(200));if(t==null||t._reactInternals===void 0)throw Error(Dt(38));return Yx(t,e,n,!1,r)};ga.version="18.2.0-next-9e3b772b8-20220608";function i6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i6)}catch(t){console.error(t)}}i6(),nL.exports=ga;var a3=nL.exports;const Gd=Gg(a3),VH=Wk({__proto__:null,default:Gd},[a3]);var o6,zA=a3;o6=V_.createRoot=zA.createRoot,V_.hydrateRoot=zA.hydrateRoot;/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hr.apply(this,arguments)}var qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qr||(qr={}));const BA="popstate";function jH(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return Km("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yg(i)}return WH(e,n,null,t)}function Bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GH(){return Math.random().toString(36).substr(2,8)}function HA(t,e){return{usr:t.state,key:t.key,idx:e}}function Km(t,e,n,r){return n===void 0&&(n=null),Hr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ll(e):e,{state:n,key:e&&e.key||r||GH()})}function Yg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WH(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=qr.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Hr({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=qr.Pop;let y=c(),g=y==null?null:y-u;u=y,l&&l({action:s,location:b.location,delta:g})}function p(y,g){s=qr.Push;let x=Km(b.location,y,g);n&&n(x,y),u=c()+1;let w=HA(x,u),C=b.createHref(x);try{a.pushState(w,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(C)}o&&l&&l({action:s,location:b.location,delta:1})}function m(y,g){s=qr.Replace;let x=Km(b.location,y,g);n&&n(x,y),u=c();let w=HA(x,u),C=b.createHref(x);a.replaceState(w,"",C),o&&l&&l({action:s,location:b.location,delta:0})}function v(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:Yg(y);return x=x.replace(/ $/,"%20"),Bn(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let b={get action(){return s},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(BA,f),l=y,()=>{i.removeEventListener(BA,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(y){return a.go(y)}};return b}var zr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zr||(zr={}));const $H=new Set(["lazy","caseSensitive","path","id","index","children"]);function KH(t){return t.index===!0}function LE(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let a=[...n,o],s=typeof i.id=="string"?i.id:a.join("-");if(Bn(i.index!==!0||!i.children,"Cannot specify children on an index route"),Bn(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),KH(i)){let l=Hr({},i,e(i),{id:s});return r[s]=l,l}else{let l=Hr({},i,e(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=LE(i.children,e,a,r)),l}})}function Wd(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ll(e):e,i=Zg(r.pathname||"/",n);if(i==null)return null;let o=a6(t);qH(o);let a=null;for(let s=0;a==null&&s<o.length;++s){let l=aV(i);a=iV(o[s],l)}return a}function XH(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function a6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Bn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Tu([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Bn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),a6(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:nV(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of s6(o.path))i(o,a,l)}),e}function s6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=s6(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function qH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YH=/^:[\w-]+$/,ZH=3,JH=2,QH=1,eV=10,tV=-2,VA=t=>t==="*";function nV(t,e){let n=t.split("/"),r=n.length;return n.some(VA)&&(r+=tV),e&&(r+=JH),n.filter(i=>!VA(i)).reduce((i,o)=>i+(YH.test(o)?ZH:o===""?QH:eV),r)}function rV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iV(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let a=0;a<n.length;++a){let s=n[a],l=a===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Md({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=s.route;o.push({params:r,pathname:Tu([i,c.pathname]),pathnameBase:uV(Tu([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Tu([i,c.pathnameBase]))}return o}function Md(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let b=s[f]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const v=s[f];return m&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function oV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ll(t):t;return{pathname:n?n.startsWith("/")?n:lV(n,e):e,search:cV(r),hash:fV(i)}}function lV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sS(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function u6(t,e){let n=l6(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function c6(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ll(t):(i=Hr({},t),Bn(!i.pathname||!i.pathname.includes("?"),sS("?","pathname","search",i)),Bn(!i.pathname||!i.pathname.includes("#"),sS("#","pathname","hash",i)),Bn(!i.search||!i.search.includes("#"),sS("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}s=f>=0?e[f]:"/"}let l=sV(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Tu=t=>t.join("/").replace(/\/\/+/g,"/"),uV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class s3{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function f6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const d6=["post","put","patch","delete"],dV=new Set(d6),hV=["get",...d6],pV=new Set(hV),mV=new Set([301,302,303,307,308]),gV=new Set([307,308]),lS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},h6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yV=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),p6="remix-router-transitions";function xV(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Bn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let te=t.detectErrorBoundary;i=ue=>({hasErrorBoundary:te(ue)})}else i=yV;let o={},a=LE(t.routes,i,void 0,o),s,l=t.basename||"/",u=Hr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,f=new Set,p=null,m=null,v=null,b=t.hydrationData!=null,y=Wd(a,t.history.location,l),g=null;if(y==null){let te=Oa(404,{pathname:t.history.location.pathname}),{matches:ue,route:ae}=YA(a);y=ue,g={[ae.id]:te}}let x,w=y.some(te=>te.route.lazy),C=y.some(te=>te.route.loader);if(w)x=!1;else if(!C)x=!0;else if(u.v7_partialHydration){let te=t.hydrationData?t.hydrationData.loaderData:null,ue=t.hydrationData?t.hydrationData.errors:null;x=y.every(ae=>ae.route.loader&&ae.route.loader.hydrate!==!0&&(te&&te[ae.route.id]!==void 0||ue&&ue[ae.route.id]!==void 0))}else x=t.hydrationData!=null;let R,E={historyAction:t.history.action,location:t.history.location,matches:y,initialized:x,navigation:lS,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},P=qr.Pop,D=!1,L,M=!1,I=new Map,V=null,Z=!1,j=!1,fe=[],ye=[],ve=new Map,X=0,ne=-1,F=new Map,ce=new Set,se=new Map,K=new Map,ge=new Set,ze=new Map,Be=new Map,st=!1;function it(){if(c=t.history.listen(te=>{let{action:ue,location:ae,delta:Ne}=te;if(st){st=!1;return}wh(Be.size===0||Ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let rt=H({currentLocation:E.location,nextLocation:ae,historyAction:ue});if(rt&&Ne!=null){st=!0,t.history.go(Ne*-1),Le(rt,{state:"blocked",location:ae,proceed(){Le(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),t.history.go(Ne)},reset(){let wt=new Map(E.blockers);wt.set(rt,Sp),je({blockers:wt})}});return}return et(ue,ae)}),n){AV(e,I);let te=()=>IV(e,I);e.addEventListener("pagehide",te),V=()=>e.removeEventListener("pagehide",te)}return E.initialized||et(qr.Pop,E.location,{initialHydration:!0}),R}function gt(){c&&c(),V&&V(),f.clear(),L&&L.abort(),E.fetchers.forEach((te,ue)=>qe(ue)),E.blockers.forEach((te,ue)=>De(ue))}function yt(te){return f.add(te),()=>f.delete(te)}function je(te,ue){ue===void 0&&(ue={}),E=Hr({},E,te);let ae=[],Ne=[];u.v7_fetcherPersist&&E.fetchers.forEach((rt,wt)=>{rt.state==="idle"&&(ge.has(wt)?Ne.push(wt):ae.push(wt))}),[...f].forEach(rt=>rt(E,{deletedFetchers:Ne,unstable_viewTransitionOpts:ue.viewTransitionOpts,unstable_flushSync:ue.flushSync===!0})),u.v7_fetcherPersist&&(ae.forEach(rt=>E.fetchers.delete(rt)),Ne.forEach(rt=>qe(rt)))}function Y(te,ue,ae){var Ne,rt;let{flushSync:wt}=ae===void 0?{}:ae,bt=E.actionData!=null&&E.navigation.formMethod!=null&&ss(E.navigation.formMethod)&&E.navigation.state==="loading"&&((Ne=te.state)==null?void 0:Ne._isRedirect)!==!0,xt;ue.actionData?Object.keys(ue.actionData).length>0?xt=ue.actionData:xt=null:bt?xt=E.actionData:xt=null;let Et=ue.loaderData?qA(E.loaderData,ue.loaderData,ue.matches||[],ue.errors):E.loaderData,Ut=E.blockers;Ut.size>0&&(Ut=new Map(Ut),Ut.forEach((rn,hn)=>Ut.set(hn,Sp)));let mn=D===!0||E.navigation.formMethod!=null&&ss(E.navigation.formMethod)&&((rt=te.state)==null?void 0:rt._isRedirect)!==!0;s&&(a=s,s=void 0),Z||P===qr.Pop||(P===qr.Push?t.history.push(te,te.state):P===qr.Replace&&t.history.replace(te,te.state));let Xt;if(P===qr.Pop){let rn=I.get(E.location.pathname);rn&&rn.has(te.pathname)?Xt={currentLocation:E.location,nextLocation:te}:I.has(te.pathname)&&(Xt={currentLocation:te,nextLocation:E.location})}else if(M){let rn=I.get(E.location.pathname);rn?rn.add(te.pathname):(rn=new Set([te.pathname]),I.set(E.location.pathname,rn)),Xt={currentLocation:E.location,nextLocation:te}}je(Hr({},ue,{actionData:xt,loaderData:Et,historyAction:P,location:te,initialized:!0,navigation:lS,revalidation:"idle",restoreScrollPosition:Pe(te,ue.matches||E.matches),preventScrollReset:mn,blockers:Ut}),{viewTransitionOpts:Xt,flushSync:wt===!0}),P=qr.Pop,D=!1,M=!1,Z=!1,j=!1,fe=[],ye=[]}async function Fe(te,ue){if(typeof te=="number"){t.history.go(te);return}let ae=NE(E.location,E.matches,l,u.v7_prependBasename,te,u.v7_relativeSplatPath,ue==null?void 0:ue.fromRouteId,ue==null?void 0:ue.relative),{path:Ne,submission:rt,error:wt}=jA(u.v7_normalizeFormMethod,!1,ae,ue),bt=E.location,xt=Km(E.location,Ne,ue&&ue.state);xt=Hr({},xt,t.history.encodeLocation(xt));let Et=ue&&ue.replace!=null?ue.replace:void 0,Ut=qr.Push;Et===!0?Ut=qr.Replace:Et===!1||rt!=null&&ss(rt.formMethod)&&rt.formAction===E.location.pathname+E.location.search&&(Ut=qr.Replace);let mn=ue&&"preventScrollReset"in ue?ue.preventScrollReset===!0:void 0,Xt=(ue&&ue.unstable_flushSync)===!0,rn=H({currentLocation:bt,nextLocation:xt,historyAction:Ut});if(rn){Le(rn,{state:"blocked",location:xt,proceed(){Le(rn,{state:"proceeding",proceed:void 0,reset:void 0,location:xt}),Fe(te,ue)},reset(){let hn=new Map(E.blockers);hn.set(rn,Sp),je({blockers:hn})}});return}return await et(Ut,xt,{submission:rt,pendingError:wt,preventScrollReset:mn,replace:ue&&ue.replace,enableViewTransition:ue&&ue.unstable_viewTransition,flushSync:Xt})}function Me(){if(ee(),je({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){et(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}et(P||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function et(te,ue,ae){L&&L.abort(),L=null,P=te,Z=(ae&&ae.startUninterruptedRevalidation)===!0,nt(E.location,E.matches),D=(ae&&ae.preventScrollReset)===!0,M=(ae&&ae.enableViewTransition)===!0;let Ne=s||a,rt=ae&&ae.overrideNavigation,wt=Wd(Ne,ue,l),bt=(ae&&ae.flushSync)===!0;if(!wt){let hn=Oa(404,{pathname:ue.pathname}),{matches:Ht,route:ln}=YA(Ne);me(),Y(ue,{matches:Ht,loaderData:{},errors:{[ln.id]:hn}},{flushSync:bt});return}if(E.initialized&&!j&&EV(E.location,ue)&&!(ae&&ae.submission&&ss(ae.submission.formMethod))){Y(ue,{matches:wt},{flushSync:bt});return}L=new AbortController;let xt=Ep(t.history,ue,L.signal,ae&&ae.submission),Et,Ut;if(ae&&ae.pendingError)Ut={[cm(wt).route.id]:ae.pendingError};else if(ae&&ae.submission&&ss(ae.submission.formMethod)){let hn=await Ve(xt,ue,ae.submission,wt,{replace:ae.replace,flushSync:bt});if(hn.shortCircuited)return;Et=hn.pendingActionData,Ut=hn.pendingActionError,rt=uS(ue,ae.submission),bt=!1,xt=new Request(xt.url,{signal:xt.signal})}let{shortCircuited:mn,loaderData:Xt,errors:rn}=await lt(xt,ue,wt,rt,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,ae&&ae.initialHydration===!0,bt,Et,Ut);mn||(L=null,Y(ue,Hr({matches:wt},Et?{actionData:Et}:{},{loaderData:Xt,errors:rn})))}async function Ve(te,ue,ae,Ne,rt){rt===void 0&&(rt={}),ee();let wt=PV(ue,ae);je({navigation:wt},{flushSync:rt.flushSync===!0});let bt,xt=UE(Ne,ue);if(!xt.route.action&&!xt.route.lazy)bt={type:zr.error,error:Oa(405,{method:te.method,pathname:ue.pathname,routeId:xt.route.id})};else if(bt=await _p("action",te,xt,Ne,o,i,l,u.v7_relativeSplatPath),te.signal.aborted)return{shortCircuited:!0};if(Fc(bt)){let Et;return rt&&rt.replace!=null?Et=rt.replace:Et=bt.location===E.location.pathname+E.location.search,await B(E,bt,{submission:ae,replace:Et}),{shortCircuited:!0}}if($d(bt)){let Et=cm(Ne,xt.route.id);return(rt&&rt.replace)!==!0&&(P=qr.Push),{pendingActionData:{},pendingActionError:{[Et.route.id]:bt.error}}}if(Nc(bt))throw Oa(400,{type:"defer-action"});return{pendingActionData:{[xt.route.id]:bt.data}}}async function lt(te,ue,ae,Ne,rt,wt,bt,xt,Et,Ut,mn){let Xt=Ne||uS(ue,rt),rn=rt||wt||QA(Xt),hn=s||a,[Ht,ln]=GA(t.history,E,ae,rn,ue,u.v7_partialHydration&&xt===!0,j,fe,ye,ge,se,ce,hn,l,Ut,mn);if(me(we=>!(ae&&ae.some(pe=>pe.route.id===we))||Ht&&Ht.some(pe=>pe.route.id===we)),ne=++X,Ht.length===0&&ln.length===0){let we=at();return Y(ue,Hr({matches:ae,loaderData:{},errors:mn||null},Ut?{actionData:Ut}:{},we?{fetchers:new Map(E.fetchers)}:{}),{flushSync:Et}),{shortCircuited:!0}}if(!Z&&(!u.v7_partialHydration||!xt)){ln.forEach(pe=>{let G=E.fetchers.get(pe.key),Re=Cp(void 0,G?G.data:void 0);E.fetchers.set(pe.key,Re)});let we=Ut||E.actionData;je(Hr({navigation:Xt},we?Object.keys(we).length===0?{actionData:null}:{actionData:we}:{},ln.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:Et})}ln.forEach(we=>{ve.has(we.key)&&be(we.key),we.controller&&ve.set(we.key,we.controller)});let _t=()=>ln.forEach(we=>be(we.key));L&&L.signal.addEventListener("abort",_t);let{results:N,loaderResults:W,fetcherResults:$}=await O(E.matches,ae,Ht,ln,te);if(te.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",_t),ln.forEach(we=>ve.delete(we.key));let A=ZA(N);if(A){if(A.idx>=Ht.length){let we=ln[A.idx-Ht.length].key;ce.add(we)}return await B(E,A.result,{replace:bt}),{shortCircuited:!0}}let{loaderData:z,errors:q}=XA(E,ae,Ht,W,mn,ln,$,ze);ze.forEach((we,pe)=>{we.subscribe(G=>{(G||we.done)&&ze.delete(pe)})}),u.v7_partialHydration&&xt&&E.errors&&Object.entries(E.errors).filter(we=>{let[pe]=we;return!Ht.some(G=>G.route.id===pe)}).forEach(we=>{let[pe,G]=we;q=Object.assign(q||{},{[pe]:G})});let re=at(),oe=tt(ne),Ie=re||oe||ln.length>0;return Hr({loaderData:z,errors:q},Ie?{fetchers:new Map(E.fetchers)}:{})}function J(te,ue,ae,Ne){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ve.has(te)&&be(te);let rt=(Ne&&Ne.unstable_flushSync)===!0,wt=s||a,bt=NE(E.location,E.matches,l,u.v7_prependBasename,ae,u.v7_relativeSplatPath,ue,Ne==null?void 0:Ne.relative),xt=Wd(wt,bt,l);if(!xt){le(te,ue,Oa(404,{pathname:bt}),{flushSync:rt});return}let{path:Et,submission:Ut,error:mn}=jA(u.v7_normalizeFormMethod,!0,bt,Ne);if(mn){le(te,ue,mn,{flushSync:rt});return}let Xt=UE(xt,Et);if(D=(Ne&&Ne.preventScrollReset)===!0,Ut&&ss(Ut.formMethod)){Q(te,ue,Et,Xt,xt,rt,Ut);return}se.set(te,{routeId:ue,path:Et}),xe(te,ue,Et,Xt,xt,rt,Ut)}async function Q(te,ue,ae,Ne,rt,wt,bt){if(ee(),se.delete(te),!Ne.route.action&&!Ne.route.lazy){let pe=Oa(405,{method:bt.formMethod,pathname:ae,routeId:ue});le(te,ue,pe,{flushSync:wt});return}let xt=E.fetchers.get(te);he(te,RV(bt,xt),{flushSync:wt});let Et=new AbortController,Ut=Ep(t.history,ae,Et.signal,bt);ve.set(te,Et);let mn=X,Xt=await _p("action",Ut,Ne,rt,o,i,l,u.v7_relativeSplatPath);if(Ut.signal.aborted){ve.get(te)===Et&&ve.delete(te);return}if(u.v7_fetcherPersist&&ge.has(te)){if(Fc(Xt)||$d(Xt)){he(te,iu(void 0));return}}else{if(Fc(Xt))if(ve.delete(te),ne>mn){he(te,iu(void 0));return}else return ce.add(te),he(te,Cp(bt)),B(E,Xt,{fetcherSubmission:bt});if($d(Xt)){le(te,ue,Xt.error);return}}if(Nc(Xt))throw Oa(400,{type:"defer-action"});let rn=E.navigation.location||E.location,hn=Ep(t.history,rn,Et.signal),Ht=s||a,ln=E.navigation.state!=="idle"?Wd(Ht,E.navigation.location,l):E.matches;Bn(ln,"Didn't find any matches after fetcher action");let _t=++X;F.set(te,_t);let N=Cp(bt,Xt.data);E.fetchers.set(te,N);let[W,$]=GA(t.history,E,ln,bt,rn,!1,j,fe,ye,ge,se,ce,Ht,l,{[Ne.route.id]:Xt.data},void 0);$.filter(pe=>pe.key!==te).forEach(pe=>{let G=pe.key,Re=E.fetchers.get(G),Ae=Cp(void 0,Re?Re.data:void 0);E.fetchers.set(G,Ae),ve.has(G)&&be(G),pe.controller&&ve.set(G,pe.controller)}),je({fetchers:new Map(E.fetchers)});let A=()=>$.forEach(pe=>be(pe.key));Et.signal.addEventListener("abort",A);let{results:z,loaderResults:q,fetcherResults:re}=await O(E.matches,ln,W,$,hn);if(Et.signal.aborted)return;Et.signal.removeEventListener("abort",A),F.delete(te),ve.delete(te),$.forEach(pe=>ve.delete(pe.key));let oe=ZA(z);if(oe){if(oe.idx>=W.length){let pe=$[oe.idx-W.length].key;ce.add(pe)}return B(E,oe.result)}let{loaderData:Ie,errors:we}=XA(E,E.matches,W,q,void 0,$,re,ze);if(E.fetchers.has(te)){let pe=iu(Xt.data);E.fetchers.set(te,pe)}tt(_t),E.navigation.state==="loading"&&_t>ne?(Bn(P,"Expected pending action"),L&&L.abort(),Y(E.navigation.location,{matches:ln,loaderData:Ie,errors:we,fetchers:new Map(E.fetchers)})):(je({errors:we,loaderData:qA(E.loaderData,Ie,ln,we),fetchers:new Map(E.fetchers)}),j=!1)}async function xe(te,ue,ae,Ne,rt,wt,bt){let xt=E.fetchers.get(te);he(te,Cp(bt,xt?xt.data:void 0),{flushSync:wt});let Et=new AbortController,Ut=Ep(t.history,ae,Et.signal);ve.set(te,Et);let mn=X,Xt=await _p("loader",Ut,Ne,rt,o,i,l,u.v7_relativeSplatPath);if(Nc(Xt)&&(Xt=await v6(Xt,Ut.signal,!0)||Xt),ve.get(te)===Et&&ve.delete(te),!Ut.signal.aborted){if(ge.has(te)){he(te,iu(void 0));return}if(Fc(Xt))if(ne>mn){he(te,iu(void 0));return}else{ce.add(te),await B(E,Xt);return}if($d(Xt)){le(te,ue,Xt.error);return}Bn(!Nc(Xt),"Unhandled fetcher deferred data"),he(te,iu(Xt.data))}}async function B(te,ue,ae){let{submission:Ne,fetcherSubmission:rt,replace:wt}=ae===void 0?{}:ae;ue.revalidate&&(j=!0);let bt=Km(te.location,ue.location,{_isRedirect:!0});if(Bn(bt,"Expected a location on the redirect navigation"),n){let rn=!1;if(ue.reloadDocument)rn=!0;else if(h6.test(ue.location)){const hn=t.history.createURL(ue.location);rn=hn.origin!==e.location.origin||Zg(hn.pathname,l)==null}if(rn){wt?e.location.replace(ue.location):e.location.assign(ue.location);return}}L=null;let xt=wt===!0?qr.Replace:qr.Push,{formMethod:Et,formAction:Ut,formEncType:mn}=te.navigation;!Ne&&!rt&&Et&&Ut&&mn&&(Ne=QA(te.navigation));let Xt=Ne||rt;if(gV.has(ue.status)&&Xt&&ss(Xt.formMethod))await et(xt,bt,{submission:Hr({},Xt,{formAction:ue.location}),preventScrollReset:D});else{let rn=uS(bt,Ne);await et(xt,bt,{overrideNavigation:rn,fetcherSubmission:rt,preventScrollReset:D})}}async function O(te,ue,ae,Ne,rt){let wt=await Promise.all([...ae.map(Et=>_p("loader",rt,Et,ue,o,i,l,u.v7_relativeSplatPath)),...Ne.map(Et=>Et.matches&&Et.match&&Et.controller?_p("loader",Ep(t.history,Et.path,Et.controller.signal),Et.match,Et.matches,o,i,l,u.v7_relativeSplatPath):{type:zr.error,error:Oa(404,{pathname:Et.path})})]),bt=wt.slice(0,ae.length),xt=wt.slice(ae.length);return await Promise.all([JA(te,ae,bt,bt.map(()=>rt.signal),!1,E.loaderData),JA(te,Ne.map(Et=>Et.match),xt,Ne.map(Et=>Et.controller?Et.controller.signal:null),!0)]),{results:wt,loaderResults:bt,fetcherResults:xt}}function ee(){j=!0,fe.push(...me()),se.forEach((te,ue)=>{ve.has(ue)&&(ye.push(ue),be(ue))})}function he(te,ue,ae){ae===void 0&&(ae={}),E.fetchers.set(te,ue),je({fetchers:new Map(E.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function le(te,ue,ae,Ne){Ne===void 0&&(Ne={});let rt=cm(E.matches,ue);qe(te),je({errors:{[rt.route.id]:ae},fetchers:new Map(E.fetchers)},{flushSync:(Ne&&Ne.flushSync)===!0})}function Ee(te){return u.v7_fetcherPersist&&(K.set(te,(K.get(te)||0)+1),ge.has(te)&&ge.delete(te)),E.fetchers.get(te)||vV}function qe(te){let ue=E.fetchers.get(te);ve.has(te)&&!(ue&&ue.state==="loading"&&F.has(te))&&be(te),se.delete(te),F.delete(te),ce.delete(te),ge.delete(te),E.fetchers.delete(te)}function Ke(te){if(u.v7_fetcherPersist){let ue=(K.get(te)||0)-1;ue<=0?(K.delete(te),ge.add(te)):K.set(te,ue)}else qe(te);je({fetchers:new Map(E.fetchers)})}function be(te){let ue=ve.get(te);Bn(ue,"Expected fetch controller: "+te),ue.abort(),ve.delete(te)}function Ye(te){for(let ue of te){let ae=Ee(ue),Ne=iu(ae.data);E.fetchers.set(ue,Ne)}}function at(){let te=[],ue=!1;for(let ae of ce){let Ne=E.fetchers.get(ae);Bn(Ne,"Expected fetcher: "+ae),Ne.state==="loading"&&(ce.delete(ae),te.push(ae),ue=!0)}return Ye(te),ue}function tt(te){let ue=[];for(let[ae,Ne]of F)if(Ne<te){let rt=E.fetchers.get(ae);Bn(rt,"Expected fetcher: "+ae),rt.state==="loading"&&(be(ae),F.delete(ae),ue.push(ae))}return Ye(ue),ue.length>0}function ft(te,ue){let ae=E.blockers.get(te)||Sp;return Be.get(te)!==ue&&Be.set(te,ue),ae}function De(te){E.blockers.delete(te),Be.delete(te)}function Le(te,ue){let ae=E.blockers.get(te)||Sp;Bn(ae.state==="unblocked"&&ue.state==="blocked"||ae.state==="blocked"&&ue.state==="blocked"||ae.state==="blocked"&&ue.state==="proceeding"||ae.state==="blocked"&&ue.state==="unblocked"||ae.state==="proceeding"&&ue.state==="unblocked","Invalid blocker state transition: "+ae.state+" -> "+ue.state);let Ne=new Map(E.blockers);Ne.set(te,ue),je({blockers:Ne})}function H(te){let{currentLocation:ue,nextLocation:ae,historyAction:Ne}=te;if(Be.size===0)return;Be.size>1&&wh(!1,"A router only supports one blocker at a time");let rt=Array.from(Be.entries()),[wt,bt]=rt[rt.length-1],xt=E.blockers.get(wt);if(!(xt&&xt.state==="proceeding")&&bt({currentLocation:ue,nextLocation:ae,historyAction:Ne}))return wt}function me(te){let ue=[];return ze.forEach((ae,Ne)=>{(!te||te(Ne))&&(ae.cancel(),ue.push(Ne),ze.delete(Ne))}),ue}function He(te,ue,ae){if(p=te,v=ue,m=ae||null,!b&&E.navigation===lS){b=!0;let Ne=Pe(E.location,E.matches);Ne!=null&&je({restoreScrollPosition:Ne})}return()=>{p=null,v=null,m=null}}function ct(te,ue){return m&&m(te,ue.map(Ne=>XH(Ne,E.loaderData)))||te.key}function nt(te,ue){if(p&&v){let ae=ct(te,ue);p[ae]=v()}}function Pe(te,ue){if(p){let ae=ct(te,ue),Ne=p[ae];if(typeof Ne=="number")return Ne}return null}function dt(te){o={},s=LE(te,i,void 0,o)}return R={get basename(){return l},get future(){return u},get state(){return E},get routes(){return a},get window(){return e},initialize:it,subscribe:yt,enableScrollRestoration:He,navigate:Fe,fetch:J,revalidate:Me,createHref:te=>t.history.createHref(te),encodeLocation:te=>t.history.encodeLocation(te),getFetcher:Ee,deleteFetcher:Ke,dispose:gt,getBlocker:ft,deleteBlocker:De,_internalFetchControllers:ve,_internalActiveDeferreds:ze,_internalSetRoutes:dt},R}function bV(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function NE(t,e,n,r,i,o,a,s){let l,u;if(a){l=[];for(let f of e)if(l.push(f),f.route.id===a){u=f;break}}else l=e,u=e[e.length-1];let c=c6(i||".",u6(l,o),Zg(t.pathname,n)||t.pathname,s==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!l3(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Tu([n,c.pathname])),Yg(c)}function jA(t,e,n,r){if(!r||!bV(r))return{path:n};if(r.formMethod&&!TV(r.formMethod))return{path:n,error:Oa(405,{method:r.formMethod})};let i=()=>({path:n,error:Oa(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=t?o.toUpperCase():o.toLowerCase(),s=g6(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ss(a))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,v)=>{let[b,y]=v;return""+m+b+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!ss(a))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Bn(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=FE(r.formData),u=r.formData;else if(r.body instanceof FormData)l=FE(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=KA(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=KA(l)}catch{return i()}let c={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ss(c.formMethod))return{path:n,submission:c};let f=Ll(n);return e&&f.search&&l3(f.search)&&l.append("index",""),f.search="?"+l,{path:Yg(f),submission:c}}function wV(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function GA(t,e,n,r,i,o,a,s,l,u,c,f,p,m,v,b){let y=b?Object.values(b)[0]:v?Object.values(v)[0]:void 0,g=t.createURL(e.location),x=t.createURL(i),w=b?Object.keys(b)[0]:void 0,R=wV(n,w).filter((P,D)=>{let{route:L}=P;if(L.lazy)return!0;if(L.loader==null)return!1;if(o)return L.loader.hydrate?!0:e.loaderData[L.id]===void 0&&(!e.errors||e.errors[L.id]===void 0);if(SV(e.loaderData,e.matches[D],P)||s.some(V=>V===P.route.id))return!0;let M=e.matches[D],I=P;return WA(P,Hr({currentUrl:g,currentParams:M.params,nextUrl:x,nextParams:I.params},r,{actionResult:y,defaultShouldRevalidate:a||g.pathname+g.search===x.pathname+x.search||g.search!==x.search||m6(M,I)}))}),E=[];return c.forEach((P,D)=>{if(o||!n.some(Z=>Z.route.id===P.routeId)||u.has(D))return;let L=Wd(p,P.path,m);if(!L){E.push({key:D,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(D),I=UE(L,P.path),V=!1;f.has(D)?V=!1:l.includes(D)?V=!0:M&&M.state!=="idle"&&M.data===void 0?V=a:V=WA(I,Hr({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:a})),V&&E.push({key:D,routeId:P.routeId,path:P.path,matches:L,match:I,controller:new AbortController})}),[R,E]}function SV(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function m6(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function WA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function $A(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Bn(i,"No route found in manifest");let o={};for(let a in r){let l=i[a]!==void 0&&a!=="hasErrorBoundary";wh(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!$H.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,Hr({},e(i),{lazy:void 0}))}async function _p(t,e,n,r,i,o,a,s,l){l===void 0&&(l={});let u,c,f,p=b=>{let y,g=new Promise((x,w)=>y=w);return f=()=>y(),e.signal.addEventListener("abort",f),Promise.race([b({request:e,params:n.params,context:l.requestContext}),g])};try{let b=n.route[t];if(n.route.lazy)if(b){let y,g=await Promise.all([p(b).catch(x=>{y=x}),$A(n.route,o,i)]);if(y)throw y;c=g[0]}else if(await $A(n.route,o,i),b=n.route[t],b)c=await p(b);else if(t==="action"){let y=new URL(e.url),g=y.pathname+y.search;throw Oa(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:zr.data,data:void 0};else if(b)c=await p(b);else{let y=new URL(e.url),g=y.pathname+y.search;throw Oa(404,{pathname:g})}Bn(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(b){u=zr.error,c=b}finally{f&&e.signal.removeEventListener("abort",f)}if(MV(c)){let b=c.status;if(mV.has(b)){let g=c.headers.get("Location");if(Bn(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!h6.test(g))g=NE(new URL(e.url),r.slice(0,r.indexOf(n)+1),a,!0,g,s);else if(!l.isStaticRequest){let x=new URL(e.url),w=g.startsWith("//")?new URL(x.protocol+g):new URL(g),C=Zg(w.pathname,a)!=null;w.origin===x.origin&&C&&(g=w.pathname+w.search+w.hash)}if(l.isStaticRequest)throw c.headers.set("Location",g),c;return{type:zr.redirect,status:b,location:g,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===zr.error?zr.error:zr.data,response:c};let y;try{let g=c.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?c.body==null?y=null:y=await c.json():y=await c.text()}catch(g){return{type:zr.error,error:g}}return u===zr.error?{type:u,error:new s3(b,c.statusText,y),headers:c.headers}:{type:zr.data,data:y,statusCode:c.status,headers:c.headers}}if(u===zr.error)return{type:u,error:c};if(CV(c)){var m,v;return{type:zr.deferred,deferredData:c,statusCode:(m=c.init)==null?void 0:m.status,headers:((v=c.init)==null?void 0:v.headers)&&new Headers(c.init.headers)}}return{type:zr.data,data:c}}function Ep(t,e,n,r){let i=t.createURL(g6(e)).toString(),o={signal:n};if(r&&ss(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=FE(r.formData):o.body=r.formData}return new Request(i,o)}function FE(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function KA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function _V(t,e,n,r,i){let o={},a=null,s,l=!1,u={};return n.forEach((c,f)=>{let p=e[f].route.id;if(Bn(!Fc(c),"Cannot handle redirect results in processLoaderData"),$d(c)){let m=cm(t,p),v=c.error;r&&(v=Object.values(r)[0],r=void 0),a=a||{},a[m.route.id]==null&&(a[m.route.id]=v),o[p]=void 0,l||(l=!0,s=f6(c.error)?c.error.status:500),c.headers&&(u[p]=c.headers)}else Nc(c)?(i.set(p,c.deferredData),o[p]=c.deferredData.data):o[p]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(s=c.statusCode),c.headers&&(u[p]=c.headers)}),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:u}}function XA(t,e,n,r,i,o,a,s){let{loaderData:l,errors:u}=_V(e,n,r,i,s);for(let c=0;c<o.length;c++){let{key:f,match:p,controller:m}=o[c];Bn(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let v=a[c];if(!(m&&m.signal.aborted))if($d(v)){let b=cm(t.matches,p==null?void 0:p.route.id);u&&u[b.route.id]||(u=Hr({},u,{[b.route.id]:v.error})),t.fetchers.delete(f)}else if(Fc(v))Bn(!1,"Unhandled fetcher revalidation redirect");else if(Nc(v))Bn(!1,"Unhandled fetcher deferred data");else{let b=iu(v.data);t.fetchers.set(f,b)}}return{loaderData:l,errors:u}}function qA(t,e,n,r){let i=Hr({},e);for(let o of n){let a=o.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&o.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function cm(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function YA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Oa(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,a="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):t===403?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",s='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new s3(t||500,a,new Error(s),!0)}function ZA(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Fc(n))return{result:n,idx:e}}}function g6(t){let e=typeof t=="string"?Ll(t):t;return Yg(Hr({},e,{hash:""}))}function EV(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Nc(t){return t.type===zr.deferred}function $d(t){return t.type===zr.error}function Fc(t){return(t&&t.type)===zr.redirect}function CV(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function MV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function TV(t){return pV.has(t.toLowerCase())}function ss(t){return dV.has(t.toLowerCase())}async function JA(t,e,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=e[a];if(!l)continue;let u=t.find(f=>f.route.id===l.route.id),c=u!=null&&!m6(u,l)&&(o&&o[l.route.id])!==void 0;if(Nc(s)&&(i||c)){let f=r[a];Bn(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await v6(s,f,i).then(p=>{p&&(n[a]=p||n[a])})}}}async function v6(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:zr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:zr.error,error:i}}return{type:zr.data,data:t.deferredData.data}}}function l3(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function UE(t,e){let n=typeof e=="string"?Ll(e).search:e.search;if(t[t.length-1].route.index&&l3(n||""))return t[t.length-1];let r=l6(t);return r[r.length-1]}function QA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function uS(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function PV(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Cp(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function RV(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function iu(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function AV(t,e){try{let n=t.sessionStorage.getItem(p6);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function IV(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(p6,JSON.stringify(n))}catch(r){wh(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}const Zx=S.createContext(null),y6=S.createContext(null),Jx=S.createContext(null),Qx=S.createContext(null),xf=S.createContext({outlet:null,matches:[],isDataRoute:!1}),x6=S.createContext(null);function eb(){return S.useContext(Qx)!=null}function u3(){return eb()||Bn(!1),S.useContext(Qx).location}function b6(t){S.useContext(Jx).static||S.useLayoutEffect(t)}function w6(){let{isDataRoute:t}=S.useContext(xf);return t?GV():OV()}function OV(){eb()||Bn(!1);let t=S.useContext(Zx),{basename:e,future:n,navigator:r}=S.useContext(Jx),{matches:i}=S.useContext(xf),{pathname:o}=u3(),a=JSON.stringify(u6(i,n.v7_relativeSplatPath)),s=S.useRef(!1);return b6(()=>{s.current=!0}),S.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=c6(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Tu([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}const DV=S.createContext(null);function kV(t){let e=S.useContext(xf).outlet;return e&&S.createElement(DV.Provider,{value:t},e)}function LV(t,e,n,r){eb()||Bn(!1);let{navigator:i}=S.useContext(Jx),{matches:o}=S.useContext(xf),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=u3(),c;if(e){var f;let y=typeof e=="string"?Ll(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||Bn(!1),c=y}else c=u;let p=c.pathname||"/",m=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=Wd(t,{pathname:m}),b=BV(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Tu([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Tu([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&b?S.createElement(Qx.Provider,{value:{location:Xm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:qr.Pop}},b):b}function NV(){let t=E6(),e=f6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const FV=S.createElement(NV,null);class UV extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(xf.Provider,{value:this.props.routeContext},S.createElement(x6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zV(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(Zx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(xf.Provider,{value:e},r)}function BV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id]));c>=0||Bn(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:m}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,p)=>{let m,v=!1,b=null,y=null;n&&(m=s&&f.route.id?s[f.route.id]:void 0,b=f.route.errorElement||FV,l&&(u<0&&p===0?(WV("route-fallback",!1),v=!0,y=null):u===p&&(v=!0,y=f.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,p+1)),x=()=>{let w;return m?w=b:v?w=y:f.route.Component?w=S.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=c,S.createElement(zV,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?S.createElement(UV,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var S6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(S6||{}),nx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nx||{});function HV(t){let e=S.useContext(Zx);return e||Bn(!1),e}function VV(t){let e=S.useContext(y6);return e||Bn(!1),e}function jV(t){let e=S.useContext(xf);return e||Bn(!1),e}function _6(t){let e=jV(),n=e.matches[e.matches.length-1];return n.route.id||Bn(!1),n.route.id}function E6(){var t;let e=S.useContext(x6),n=VV(nx.UseRouteError),r=_6(nx.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function GV(){let{router:t}=HV(S6.UseNavigateStable),e=_6(nx.UseNavigateStable),n=S.useRef(!1);return b6(()=>{n.current=!0}),S.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xm({fromRouteId:e},o)))},[t,e])}const eI={};function WV(t,e,n){!e&&!eI[t]&&(eI[t]=!0)}function $V(t){return kV(t.context)}function KV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qr.Pop,navigator:o,static:a=!1,future:s}=t;eb()&&Bn(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:o,static:a,future:Xm({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Ll(r));let{pathname:c="/",search:f="",hash:p="",state:m=null,key:v="default"}=r,b=S.useMemo(()=>{let y=Zg(c,l);return y==null?null:{location:{pathname:y,search:f,hash:p,state:m,key:v},navigationType:i}},[l,c,f,p,m,v,i]);return b==null?null:S.createElement(Jx.Provider,{value:u},S.createElement(Qx.Provider,{children:n,value:b}))}new Promise(()=>{});function XV(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:S.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:S.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:S.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}const qV="6";try{window.__reactRouterVersion=qV}catch{}function YV(t,e){return xV({basename:e==null?void 0:e.basename,future:rx({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:jH({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||ZV(),routes:t,mapRouteProperties:XV,window:e==null?void 0:e.window}).initialize()}function ZV(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=rx({},e,{errors:JV(e.errors)})),e}function JV(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new s3(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const QV=S.createContext({isTransitioning:!1}),ej=S.createContext(new Map),tj="startTransition",tI=Oz[tj],nj="flushSync",nI=VH[nj];function rj(t){tI?tI(t):t()}function Mp(t){nI?nI(t):t()}class ij{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function oj(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=S.useState(n.state),[a,s]=S.useState(),[l,u]=S.useState({isTransitioning:!1}),[c,f]=S.useState(),[p,m]=S.useState(),[v,b]=S.useState(),y=S.useRef(new Map),{v7_startTransition:g}=r||{},x=S.useCallback(P=>{g?rj(P):P()},[g]),w=S.useCallback((P,D)=>{let{deletedFetchers:L,unstable_flushSync:M,unstable_viewTransitionOpts:I}=D;L.forEach(Z=>y.current.delete(Z)),P.fetchers.forEach((Z,j)=>{Z.data!==void 0&&y.current.set(j,Z.data)});let V=n.window==null||typeof n.window.document.startViewTransition!="function";if(!I||V){M?Mp(()=>o(P)):x(()=>o(P));return}if(M){Mp(()=>{p&&(c&&c.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let Z=n.window.document.startViewTransition(()=>{Mp(()=>o(P))});Z.finished.finally(()=>{Mp(()=>{f(void 0),m(void 0),s(void 0),u({isTransitioning:!1})})}),Mp(()=>m(Z));return}p?(c&&c.resolve(),p.skipTransition(),b({state:P,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(s(P),u({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[n.window,p,c,y,x]);S.useLayoutEffect(()=>n.subscribe(w),[n,w]),S.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new ij)},[l]),S.useEffect(()=>{if(c&&a&&n.window){let P=a,D=c.promise,L=n.window.document.startViewTransition(async()=>{x(()=>o(P)),await D});L.finished.finally(()=>{f(void 0),m(void 0),s(void 0),u({isTransitioning:!1})}),m(L)}},[x,a,c,n.window]),S.useEffect(()=>{c&&a&&i.location.key===a.location.key&&c.resolve()},[c,p,i.location,a]),S.useEffect(()=>{!l.isTransitioning&&v&&(s(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),b(void 0))},[l.isTransitioning,v]),S.useEffect(()=>{},[]);let C=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,D,L)=>n.navigate(P,{state:D,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(P,D,L)=>n.navigate(P,{replace:!0,state:D,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),R=n.basename||"/",E=S.useMemo(()=>({router:n,navigator:C,static:!1,basename:R}),[n,C,R]);return S.createElement(S.Fragment,null,S.createElement(Zx.Provider,{value:E},S.createElement(y6.Provider,{value:i},S.createElement(ej.Provider,{value:y.current},S.createElement(QV.Provider,{value:l},S.createElement(KV,{basename:R,location:i.location,navigationType:i.historyAction,navigator:C,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?S.createElement(aj,{routes:n.routes,future:n.future,state:i}):e))))),null)}function aj(t){let{routes:e,future:n,state:r}=t;return LV(e,void 0,r,n)}var rI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rI||(rI={}));var iI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iI||(iI={}));var sj={};function lj(t){if(Array.isArray(t))return t}function uj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C6(t,e){if(t){if(typeof t=="string")return zE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zE(t,e)}}function cj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f1(t,e){return lj(t)||uj(t,e)||C6(t,e)||cj()}function Mi(t){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(t)}function Ct(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var r=[],i=0;i<e.length;i++){var o=e[i];if(o){var a=Mi(o);if(a==="string"||a==="number")r.push(o);else if(a==="object"){var s=Array.isArray(o)?o:Object.entries(o).map(function(l){var u=f1(l,2),c=u[0],f=u[1];return f?c:null});r=s.length?r.concat(s.filter(function(l){return!!l})):r}}}return r.join(" ").trim()}}function fj(t){if(Array.isArray(t))return zE(t)}function dj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ix(t){return fj(t)||dj(t)||C6(t)||hj()}function c3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pj(t,e){if(Mi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M6(t){var e=pj(t,"string");return Mi(e)==="symbol"?e:String(e)}function oI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M6(r.key),r)}}function f3(t,e,n){return e&&oI(t.prototype,e),n&&oI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tb(t,e,n){return e=M6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cS(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=mj(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function mj(t,e){if(t){if(typeof t=="string")return aI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aI(t,e)}}function aI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ke=function(){function t(){c3(this,t)}return f3(t,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var i=n.getBoundingClientRect().width||n.offsetWidth;if(r){var o=getComputedStyle(n);i+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return i}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var i=n.getBoundingClientRect().height||n.offsetHeight;if(r){var o=getComputedStyle(n);i+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return i}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var i=n.clientHeight;if(r){var o=getComputedStyle(n);i+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return i}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var i=n.clientWidth;if(r){var o=getComputedStyle(n);i+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return i}return 0}},{key:"getViewport",value:function(){var n=window,r=document,i=r.documentElement,o=r.getElementsByTagName("body")[0],a=n.innerWidth||i.clientWidth||o.clientWidth,s=n.innerHeight||i.clientHeight||o.clientHeight;return{width:a,height:s}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,i=0,o=0;o<r.length;o++){if(r[o]===n)return i;r[o].nodeType===1&&i++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),o=0;o<i.length;o++)n.classList.add(i[o]);else for(var a=r.split(" "),s=0;s<a.length;s++)n.className+=" "+a[s]}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),o=0;o<i.length;o++)n.classList.remove(i[o]);else for(var a=r.split(" "),s=0;s<a.length;s++)n.className=n.className.replace(new RegExp("(^|\\b)"+a[s].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className+=" "+r)}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"addStyles",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n&&Object.entries(r).forEach(function(i){var o=f1(i,2),a=o[0],s=o[1];return n.style[a]=s})}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"setAttributes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var o=function a(s,l){var u,c,f=n!=null&&(u=n.$attrs)!==null&&u!==void 0&&u[s]?[n==null||(c=n.$attrs)===null||c===void 0?void 0:c[s]]:[];return[l].flat().reduce(function(p,m){if(m!=null){var v=Mi(m);if(v==="string"||v==="number")p.push(m);else if(v==="object"){var b=Array.isArray(m)?a(s,m):Object.entries(m).map(function(y){var g=f1(y,2),x=g[0],w=g[1];return s==="style"&&(w||w===0)?"".concat(x.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(w):w?x:void 0});p=b.length?p.concat(b.filter(function(y){return!!y})):p}}return p},f)};Object.entries(i).forEach(function(a){var s=f1(a,2),l=s[0],u=s[1];if(u!=null){var c=l.match(/^on(.+)/);c?n.addEventListener(c[1].toLowerCase(),u):l==="p-bind"?r.setAttributes(n,u):(u=l==="class"?ix(new Set(o("class",u))).join(" ").trim():l==="style"?o("style",u).join(";").trim():u,(n.$attrs=n.$attrs||{})&&(n.$attrs[l]=u),n.setAttribute(l,u))}})}}},{key:"getAttribute",value:function(n,r){if(n){var i=n.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}},{key:"isAttributeEquals",value:function(n,r,i){return n?this.getAttribute(n,r)===i:!1}},{key:"isAttributeNotEquals",value:function(n,r,i){return!this.isAttributeEquals(n,r,i)}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,i=getComputedStyle(n);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}return 0}},{key:"alignOverlay",value:function(n,r,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(i==="self"?this.relativePosition(n,r):(o&&(n.style.minWidth=t.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var o=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),a=o.height,s=o.width,l=r.offsetHeight,u=r.offsetWidth,c=r.getBoundingClientRect(),f=this.getWindowScrollTop(),p=this.getWindowScrollLeft(),m=this.getViewport(),v,b;c.top+l+a>m.height?(v=c.top+f-a,v<0&&(v=f),n.style.transformOrigin="bottom"):(v=l+c.top+f,n.style.transformOrigin="top");var y=c.left,g=i==="left"?0:s-u;y+u+s>m.width?b=Math.max(0,y+p+u-s):b=y-g+p,n.style.top=v+"px",n.style.left=b+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=r.offsetHeight,a=r.getBoundingClientRect(),s=this.getViewport(),l,u;a.top+o+i.height>s.height?(l=-1*i.height,a.top+l<0&&(l=-1*a.top),n.style.transformOrigin="bottom"):(l=o,n.style.transformOrigin="top"),i.width>s.width?u=a.left*-1:a.left+i.width>s.width?u=(a.left+i.width-s.width)*-1:u=0,n.style.top=l+"px",n.style.left=u+"px"}}},{key:"flipfitCollision",value:function(n,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",s=arguments.length>4?arguments[4]:void 0;if(n&&r){var l=r.getBoundingClientRect(),u=this.getViewport(),c=o.split(" "),f=a.split(" "),p=function(g,x){return x?+g.substring(g.search(/(\+|-)/g))||0:g.substring(0,g.search(/(\+|-)/g))||g},m={my:{x:p(c[0]),y:p(c[1]||c[0]),offsetX:p(c[0],!0),offsetY:p(c[1]||c[0],!0)},at:{x:p(f[0]),y:p(f[1]||f[0]),offsetX:p(f[0],!0),offsetY:p(f[1]||f[0],!0)}},v={left:function(){var g=m.my.offsetX+m.at.offsetX;return g+l.left+(m.my.x==="left"?0:-1*(m.my.x==="center"?i.getOuterWidth(n)/2:i.getOuterWidth(n)))},top:function(){var g=m.my.offsetY+m.at.offsetY;return g+l.top+(m.my.y==="top"?0:-1*(m.my.y==="center"?i.getOuterHeight(n)/2:i.getOuterHeight(n)))}},b={count:{x:0,y:0},left:function(){var g=v.left(),x=t.getWindowScrollLeft();n.style.left=g+x+"px",this.count.x===2?(n.style.left=x+"px",this.count.x=0):g<0&&(this.count.x++,m.my.x="left",m.at.x="right",m.my.offsetX*=-1,m.at.offsetX*=-1,this.right())},right:function(){var g=v.left()+t.getOuterWidth(r),x=t.getWindowScrollLeft();n.style.left=g+x+"px",this.count.x===2?(n.style.left=u.width-t.getOuterWidth(n)+x+"px",this.count.x=0):g+t.getOuterWidth(n)>u.width&&(this.count.x++,m.my.x="right",m.at.x="left",m.my.offsetX*=-1,m.at.offsetX*=-1,this.left())},top:function(){var g=v.top(),x=t.getWindowScrollTop();n.style.top=g+x+"px",this.count.y===2?(n.style.left=x+"px",this.count.y=0):g<0&&(this.count.y++,m.my.y="top",m.at.y="bottom",m.my.offsetY*=-1,m.at.offsetY*=-1,this.bottom())},bottom:function(){var g=v.top()+t.getOuterHeight(r),x=t.getWindowScrollTop();n.style.top=g+x+"px",this.count.y===2?(n.style.left=u.height-t.getOuterHeight(n)+x+"px",this.count.y=0):g+t.getOuterHeight(r)>u.height&&(this.count.y++,m.my.y="bottom",m.at.y="top",m.my.offsetY*=-1,m.at.offsetY*=-1,this.top())},center:function(g){if(g==="y"){var x=v.top()+t.getOuterHeight(r)/2;n.style.top=x+t.getWindowScrollTop()+"px",x<0?this.bottom():x+t.getOuterHeight(r)>u.height&&this.top()}else{var w=v.left()+t.getOuterWidth(r)/2;n.style.left=w+t.getWindowScrollLeft()+"px",w<0?this.left():w+t.getOuterWidth(n)>u.width&&this.right()}}};b[m.at.x]("x"),b[m.at.y]("y"),this.isFunction(s)&&s(m)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",i=n==="left"?"right":"left",o=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(o),at:"center ".concat(n)}:{axis:"x",my:"".concat(i," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=[];if(n){var o=this.getParents(n),a=/(auto|scroll)/,s=function(w){var C=w?getComputedStyle(w):null;return C&&(a.test(C.getPropertyValue("overflow"))||a.test(C.getPropertyValue("overflowX"))||a.test(C.getPropertyValue("overflowY")))},l=function(w){r?i.push(w.nodeName==="BODY"||w.nodeName==="HTML"||w.nodeType===9?window:w):i.push(w)},u=cS(o),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,p=f.nodeType===1&&f.dataset.scrollselectors;if(p){var m=p.split(","),v=cS(m),b;try{for(v.s();!(b=v.n()).done;){var y=b.value,g=this.findSingle(f,y);g&&s(g)&&l(g)}}catch(x){v.e(x)}finally{v.f()}}f.nodeType===1&&s(f)&&l(f)}}catch(x){u.e(x)}finally{u.f()}}return i.some(function(x){return x===document.body||x===window})||i.push(window),i}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var i=+new Date,o=0,a=function s(){o=+n.style.opacity+(new Date().getTime()-i)/r,n.style.opacity=o,i=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};a()}}},{key:"fadeOut",value:function(n,r){if(n)var i=1,o=50,a=o/r,s=setInterval(function(){i-=a,i<=0&&(i=0,clearInterval(s)),n.style.opacity=i},o)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":Mi(HTMLElement))==="object"?n instanceof HTMLElement:n&&Mi(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var i=getComputedStyle(n).getPropertyValue("borderTopWidth"),o=i?parseFloat(i):0,a=getComputedStyle(n).getPropertyValue("paddingTop"),s=a?parseFloat(a):0,l=n.getBoundingClientRect(),u=r.getBoundingClientRect(),c=u.top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-s,f=n.scrollTop,p=n.clientHeight,m=this.getOuterHeight(r);c<0?n.scrollTop=f+c:c+m>p&&(n.scrollTop=f+c-p+m)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);var o=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=o,o}}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}},{key:"unblockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),o=[],a=cS(i),s;try{for(a.s();!(s=a.n()).done;){var l=s.value;getComputedStyle(l).display!=="none"&&getComputedStyle(l).visibility!=="hidden"&&o.push(l)}}catch(u){a.e(u)}finally{a.f()}return o}},{key:"getFirstFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[i.length-1]:null}},{key:"focus",value:function(n,r){var i=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:i})}},{key:"focusFirstElement",value:function(n,r){if(n){var i=t.getFirstFocusableElement(n);return i&&t.focus(i,r),i}}},{key:"getCursorOffset",value:function(n,r,i,o){if(n){var a=getComputedStyle(n),s=document.createElement("div");s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.visibility="hidden",s.style.pointerEvents="none",s.style.overflow=a.overflow,s.style.width=a.width,s.style.height=a.height,s.style.padding=a.padding,s.style.border=a.border,s.style.overflowWrap=a.overflowWrap,s.style.whiteSpace=a.whiteSpace,s.style.lineHeight=a.lineHeight,s.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var l=document.createElement("span");l.textContent=o,s.appendChild(l);var u=document.createTextNode(i);s.appendChild(u),document.body.appendChild(s);var c=l.offsetLeft,f=l.offsetTop,p=l.clientHeight;return document.body.removeChild(s),{left:Math.abs(c-n.scrollLeft),top:Math.abs(f-n.scrollTop)+p}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,i){n[r].apply(n,i)}},{key:"isClickable",value:function(n){var r=n.nodeName,i=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=this.style;else for(var i in this.style)n.style[i]=r[i]}},{key:"exportCSV",value:function(n,r){var i=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,r+".csv");else{var o=t.saveAs({name:r+".csv",src:URL.createObjectURL(i)});o||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var i=n.name,o=n.src;return r.setAttribute("href",o),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n,r){var i=document.createElement("style");return t.addNonce(i,n),r||(r=document.head),r.appendChild(i),i}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{n.parentNode.removeChild(n)}catch{}n=null}return n}},{key:"addNonce",value:function(n,r){try{r||(r=sj.REACT_APP_CSS_NONCE)}catch{}r&&n.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(Mi(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},i=r(n)?n():n;return i&&i.nodeType===9||this.isExist(i)?i:null}},{key:"getAttributeNames",value:function(n){var r,i,o;for(i=[],o=n.attributes,r=0;r<o.length;++r)i.push(o[r].nodeName);return i.sort(),i}},{key:"isEqualElement",value:function(n,r){var i,o,a,s,l;if(i=t.getAttributeNames(n),o=t.getAttributeNames(r),i.join(",")!==o.join(","))return!1;for(var u=0;u<i.length;++u)if(a=i[u],a==="style")for(var c=n.style,f=r.style,p=/^\d+$/,m=0,v=Object.keys(c);m<v.length;m++){var b=v[m];if(!p.test(b)&&c[b]!==f[b])return!1}else if(n.getAttribute(a)!==r.getAttribute(a))return!1;for(s=n.firstChild,l=r.firstChild;s&&l;s=s.nextSibling,l=l.nextSibling){if(s.nodeType!==l.nodeType)return!1;if(s.nodeType===1){if(!t.isEqualElement(s,l))return!1}else if(s.nodeValue!==l.nodeValue)return!1}return!(s||l)}}]),t}();tb(ke,"DATA_PROPS",["data-"]);tb(ke,"ARIA_PROPS",["aria","focus-target"]);function gj(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().forEach(function(o){return o(r)})}}}function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BE.apply(this,arguments)}function vj(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=yj(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function yj(t,e){if(t){if(typeof t=="string")return sI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(t,e)}}function sI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _e=function(){function t(){c3(this,t)}return f3(t,null,[{key:"equals",value:function(n,r,i){return i&&n&&Mi(n)==="object"&&r&&Mi(r)==="object"?this.deepEquals(this.resolveFieldData(n,i),this.resolveFieldData(r,i)):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Mi(n)=="object"&&Mi(r)=="object"){var i=Array.isArray(n),o=Array.isArray(r),a,s,l;if(i&&o){if(s=n.length,s!==r.length)return!1;for(a=s;a--!==0;)if(!this.deepEquals(n[a],r[a]))return!1;return!0}if(i!==o)return!1;var u=n instanceof Date,c=r instanceof Date;if(u!==c)return!1;if(u&&c)return n.getTime()===r.getTime();var f=n instanceof RegExp,p=r instanceof RegExp;if(f!==p)return!1;if(f&&p)return n.toString()===r.toString();var m=Object.keys(n);if(s=m.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,m[a]))return!1;for(a=s;a--!==0;)if(l=m[a],!this.deepEquals(n[l],r[l]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(!n||!r)return null;try{var i=n[r];if(this.isNotEmpty(i))return i}catch{}if(Object.keys(n).length){if(this.isFunction(r))return r(n);if(this.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var o=r.split("."),a=n,s=0,l=o.length;s<l;++s){if(a==null)return null;a=a[o[s]]}return a}return null}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(i){return!r.hasOwnProperty(i)}).reduce(function(i,o){return i[o]=n[o],i},{})}},{key:"reduceKeys",value:function(n,r){var i={};return!n||!r||r.length===0||Object.keys(n).filter(function(o){return r.some(function(a){return o.startsWith(a)})}).forEach(function(o){i[o]=n[o],delete n[o]}),i}},{key:"reorderArray",value:function(n,r,i){n&&r!==i&&(i>=n.length&&(i%=n.length,r%=n.length),n.splice(i,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,i){var o=this;return r?i?r.findIndex(function(a){return o.equals(a,n,i)}):r.findIndex(function(a){return a===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getItemValue",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n?n[r]:void 0;return o===void 0?i[r]:o}},{key:"getPropCaseInsensitive",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.toFlatCase(r);for(var a in n)if(n.hasOwnProperty(a)&&this.toFlatCase(a)===o)return n[a];for(var s in i)if(i.hasOwnProperty(s)&&this.toFlatCase(s)===o)return i[s]}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,i):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,i){if(n){var o,a=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0);!a&&n!==null&&n!==void 0&&(o=n.type)!==null&&o!==void 0&&(o=o._payload)!==null&&o!==void 0&&o.value&&(a=n.type._payload.value.find(function(u){return u===r}));var s=a===r;try{var l}catch{}return s}return!1}},{key:"getRefElement",value:function(n){return n?Mi(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"toFlatCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"toCapitalCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n[0].toUpperCase()+n.slice(1):n}},{key:"trim",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.trim():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Mi(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isDate",value:function(n){return n!==null&&n instanceof Date&&n.constructor===Date}},{key:"isArray",value:function(n){return n!==null&&Array.isArray(n)}},{key:"isString",value:function(n){return n!==null&&typeof n=="string"}},{key:"isPrintableCharacter",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}},{key:"isLetter",value:function(n){return/^[a-zA-Z\u00C0-\u017F]$/.test(n)}},{key:"findLast",value:function(n,r){var i;if(this.isNotEmpty(n))try{i=n.findLast(r)}catch{i=ix(n).reverse().find(r)}return i}},{key:"findLastIndex",value:function(n,r){var i=-1;if(this.isNotEmpty(n))try{i=n.findLastIndex(r)}catch{i=n.lastIndexOf(ix(n).reverse().find(r))}return i}},{key:"sort",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s=this.compare(n,r,o,i),l=i;return(this.isEmpty(n)||this.isEmpty(r))&&(l=a===1?i:a),l*s}},{key:"compare",value:function(n,r,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=-1,s=this.isEmpty(n),l=this.isEmpty(r);return s&&l?a=0:s?a=o:l?a=-o:typeof n=="string"&&typeof r=="string"?a=i(n,r):a=n<r?-1:n>r?1:0,a}},{key:"localeComparator",value:function(n){return new Intl.Collator(n,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(n,r){var i=vj(n),o;try{for(i.s();!(o=i.n()).done;){var a=o.value;if(a.key===r)return a.children||[];if(a.children){var s=this.findChildrenByKey(a.children,r);if(s.length>0)return s}}}catch(l){i.e(l)}finally{i.f()}return[]}},{key:"mutateFieldData",value:function(n,r,i){if(!(Mi(n)!=="object"||typeof r!="string"))for(var o=r.split("."),a=n,s=0,l=o.length;s<l;++s){if(s+1-l===0){a[o[s]]=i;break}a[o[s]]||(a[o[s]]={}),a=a[o[s]]}}}]),t}();function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Hn=function(){function t(){c3(this,t)}return f3(t,null,[{key:"getJSXIcon",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=null;if(n!==null){var a=Mi(n),s=Ct(r.className,a==="string"&&n);if(o=S.createElement("span",BE({},r,{className:s})),a!=="string"){var l=xj({iconProps:r,element:o},i);return _e.getJSXElement(n,l)}}return o}}]),t}();function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ox(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ax(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var n=e.classNameMergeFunction,r=function(o){return!!(o&&o.constructor&&o.call&&o.apply)};return t.reduce(function(i,o){var a=function(){var u=o[s];if(s==="style")i.style=ox(ox({},i.style),o.style);else if(s==="className"){var c="";n&&n instanceof Function?c=n(i.className,o.className):c=[i.className,o.className].join(" ").trim();var f=c==null||c==="";i.className=f?void 0:c}else if(r(u)){var p=i[s];i[s]=p?function(){p.apply(void 0,arguments),u.apply(void 0,arguments)}:u}else i[s]=u};for(var s in o)a();return i},{})}}function Rc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){var r=function(o){return!!(o&&o.constructor&&o.call&&o.apply)};return e.reduce(function(i,o){var a=function(){var u=o[s];if(s==="style")i.style=ox(ox({},i.style),o.style);else if(s==="className")i.className=[i.className,o.className].join(" ").trim();else if(r(u)){var c=i[s];i[s]=c?function(){c.apply(void 0,arguments),u.apply(void 0,arguments)}:u}else i[s]=u};for(var s in o)a();return i},{})}}var cI=0;function Jg(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return cI++,"".concat(t).concat(cI)}function bj(){var t=[],e=function(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(s,l,u),f=c.value+(c.key===s?0:u)+1;return t.push({key:s,value:f}),f},n=function(s){t=t.filter(function(l){return l.value!==s})},r=function(s,l){return i(s,l).value},i=function(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ix(t).reverse().find(function(c){return l?!0:c.key===s})||{key:s,value:u}},o=function(s){return s&&parseInt(s.style.zIndex,10)||0};return{get:o,set:function(s,l,u,c){l&&(l.style.zIndex=String(e(s,u,c)))},clear:function(s){s&&(n(Fi.get(s)),s.style.zIndex="")},getCurrent:function(s,l){return r(s,l)}}}var Fi=bj(),Fn=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),fm=Object.freeze({AND:"and",OR:"or"});function fI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=wj(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function wj(t,e){if(t){if(typeof t=="string")return dI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(t,e)}}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dm={filter:function(e,n,r,i,o){var a=[];if(!e)return a;var s=fI(e),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,o)){a.push(u);continue}}else{var c=fI(n),f;try{for(c.s();!(f=c.n()).done;){var p=f.value,m=_e.resolveFieldData(u,p);if(this.filters[i](m,r,o)){a.push(u);break}}}catch(v){c.e(v)}finally{c.f()}}}}catch(v){s.e(v)}finally{s.f()}return a},filters:{startsWith:function(e,n,r){if(n==null||n.trim()==="")return!0;if(e==null)return!1;var i=_e.removeAccents(n.toString()).toLocaleLowerCase(r),o=_e.removeAccents(e.toString()).toLocaleLowerCase(r);return o.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(e==null)return!1;var i=_e.removeAccents(n.toString()).toLocaleLowerCase(r),o=_e.removeAccents(e.toString()).toLocaleLowerCase(r);return o.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(e==null)return!1;var i=_e.removeAccents(n.toString()).toLocaleLowerCase(r),o=_e.removeAccents(e.toString()).toLocaleLowerCase(r);return o.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n.trim()==="")return!0;if(e==null)return!1;var i=_e.removeAccents(n.toString()).toLocaleLowerCase(r),o=_e.removeAccents(e.toString()).toLocaleLowerCase(r);return o.indexOf(i,o.length-i.length)!==-1},equals:function(e,n,r){return n==null||typeof n=="string"&&n.trim()===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():_e.removeAccents(e.toString()).toLocaleLowerCase(r)===_e.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||typeof n=="string"&&n.trim()===""||e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():_e.removeAccents(e.toString()).toLocaleLowerCase(r)!==_e.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(_e.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function Sj(t,e){if(qm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T6(t){var e=Sj(t,"string");return qm(e)==="symbol"?e:String(e)}function ya(t,e,n){return e=T6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T6(r.key),r)}}function _j(t,e,n){return e&&hI(t.prototype,e),n&&hI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ej(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var si=_j(function t(){Ej(this,t)});ya(si,"ripple",!1);ya(si,"inputStyle","outlined");ya(si,"locale","en");ya(si,"appendTo",null);ya(si,"cssTransition",!0);ya(si,"autoZIndex",!0);ya(si,"hideOverlaysOnDocumentScrolling",!1);ya(si,"nonce",null);ya(si,"nullSortOrder",1);ya(si,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});ya(si,"pt",void 0);ya(si,"filterMatchModeOptions",{text:[Fn.STARTS_WITH,Fn.CONTAINS,Fn.NOT_CONTAINS,Fn.ENDS_WITH,Fn.EQUALS,Fn.NOT_EQUALS],numeric:[Fn.EQUALS,Fn.NOT_EQUALS,Fn.LESS_THAN,Fn.LESS_THAN_OR_EQUAL_TO,Fn.GREATER_THAN,Fn.GREATER_THAN_OR_EQUAL_TO],date:[Fn.DATE_IS,Fn.DATE_IS_NOT,Fn.DATE_BEFORE,Fn.DATE_AFTER]});ya(si,"changeTheme",function(t,e,n,r){var i,o=document.getElementById(n),a=o.cloneNode(!0),s=o.getAttribute("href").replace(t,e);a.setAttribute("id",n+"-clone"),a.setAttribute("href",s),a.addEventListener("load",function(){o.remove(),a.setAttribute("id",n),r&&r()}),(i=o.parentNode)===null||i===void 0||i.insertBefore(a,o.nextSibling)});var Cj={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",prevMilliSecond:"Previous Second",nextMilliSecond:"Next Second",am:"am",pm:"pm",today:"Today",now:"Now",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}};function eo(t,e){var n=e||si.locale;try{return P6(n)[t]}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(n,"')."))}}function Ei(t,e){var n=si.locale;try{var r=P6(n).aria[t];if(r)for(var i in e)e.hasOwnProperty(i)&&(r=r.replace("{".concat(i,"}"),e[i]));return r}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(n,"')."))}}function P6(t){var e=t||si.locale;return Cj[e]}function Mj(t){if(Array.isArray(t))return t}function Tj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pj(t,e){if(t){if(typeof t=="string")return pI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(t,e)}}function Rj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function go(t,e){return Mj(t)||Tj(t,e)||Pj(t,e)||Rj()}var Xn=fn.createContext(),Aj=function(e){var n=e.value||{},r=S.useState(n.ripple||!1),i=go(r,2),o=i[0],a=i[1],s=S.useState(n.inputStyle||"outlined"),l=go(s,2),u=l[0],c=l[1],f=S.useState(n.locale||"en"),p=go(f,2),m=p[0],v=p[1],b=S.useState(n.appendTo||null),y=go(b,2),g=y[0],x=y[1],w=S.useState(n.styleContainer||null),C=go(w,2),R=C[0],E=C[1],P=S.useState(n.cssTransition||!0),D=go(P,2),L=D[0],M=D[1],I=S.useState(n.autoZIndex||!0),V=go(I,2),Z=V[0],j=V[1],fe=S.useState(n.hideOverlaysOnDocumentScrolling||!1),ye=go(fe,2),ve=ye[0],X=ye[1],ne=S.useState(n.nonce||null),F=go(ne,2),ce=F[0],se=F[1],K=S.useState(n.nullSortOrder||1),ge=go(K,2),ze=ge[0],Be=ge[1],st=S.useState(n.zIndex||{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200}),it=go(st,2),gt=it[0],yt=it[1],je=S.useState(n.ptOptions||{mergeSections:!0,mergeProps:!0}),Y=go(je,2),Fe=Y[0],Me=Y[1],et=S.useState(n.pt||void 0),Ve=go(et,2),lt=Ve[0],J=Ve[1],Q=S.useState(n.unstyled||!1),xe=go(Q,2),B=xe[0],O=xe[1],ee=S.useState(n.filterMatchModeOptions||{text:[Fn.STARTS_WITH,Fn.CONTAINS,Fn.NOT_CONTAINS,Fn.ENDS_WITH,Fn.EQUALS,Fn.NOT_EQUALS],numeric:[Fn.EQUALS,Fn.NOT_EQUALS,Fn.LESS_THAN,Fn.LESS_THAN_OR_EQUAL_TO,Fn.GREATER_THAN,Fn.GREATER_THAN_OR_EQUAL_TO],date:[Fn.DATE_IS,Fn.DATE_IS_NOT,Fn.DATE_BEFORE,Fn.DATE_AFTER]}),he=go(ee,2),le=he[0],Ee=he[1],qe=function(Ye,at,tt,ft){var De,Le=document.getElementById(tt),H=Le.cloneNode(!0),me=Le.getAttribute("href").replace(Ye,at);H.setAttribute("id",tt+"-clone"),H.setAttribute("href",me),H.addEventListener("load",function(){Le.remove(),H.setAttribute("id",tt),ft&&ft()}),(De=Le.parentNode)===null||De===void 0||De.insertBefore(H,Le.nextSibling)};fn.useEffect(function(){si.ripple=o},[o]),fn.useEffect(function(){si.inputStyle=u},[u]),fn.useEffect(function(){si.locale=m},[m]);var Ke={changeTheme:qe,ripple:o,setRipple:a,inputStyle:u,setInputStyle:c,locale:m,setLocale:v,appendTo:g,setAppendTo:x,styleContainer:R,setStyleContainer:E,cssTransition:L,setCssTransition:M,autoZIndex:Z,setAutoZIndex:j,hideOverlaysOnDocumentScrolling:ve,setHideOverlaysOnDocumentScrolling:X,nonce:ce,setNonce:se,nullSortOrder:ze,setNullSortOrder:Be,zIndex:gt,setZIndex:yt,ptOptions:Fe,setPtOptions:Me,pt:lt,setPt:J,filterMatchModeOptions:le,setFilterMatchModeOptions:Ee,unstyled:B,setUnstyled:O};return fn.createElement(Xn.Provider,{value:Ke},e.children)},En=si;function Ij(t){if(Array.isArray(t))return t}function Oj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function HE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R6(t,e){if(t){if(typeof t=="string")return HE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HE(t,e)}}function Dj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mu(t,e){return Ij(t)||Oj(t,e)||R6(t,e)||Dj()}var Ym=function(e){var n=S.useRef(void 0);return S.useEffect(function(){n.current=e}),n.current},Ro=function(e){return S.useEffect(function(){return e},[])},Vo=function(e){var n=e.target,r=n===void 0?"document":n,i=e.type,o=e.listener,a=e.options,s=e.when,l=s===void 0?!0:s,u=S.useRef(null),c=S.useRef(null),f=Ym(o),p=Ym(a),m=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_e.isNotEmpty(y.target)&&(v(),(y.when||l)&&(u.current=ke.getTargetElement(y.target))),!c.current&&u.current&&(c.current=function(g){return o&&o(g)},u.current.addEventListener(i,c.current,a))},v=function(){c.current&&(u.current.removeEventListener(i,c.current,a),c.current=null)};return S.useEffect(function(){l?u.current=ke.getTargetElement(r):(v(),u.current=null)},[r,l]),S.useEffect(function(){c.current&&(""+f!=""+o||p!==a)&&(v(),l&&m())},[o,a,l]),Ro(function(){v()}),[m,v]},ac={},kj=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=S.useState(function(){return Jg()}),i=mu(r,1),o=i[0],a=S.useState(0),s=mu(a,2),l=s[0],u=s[1];return S.useEffect(function(){if(n){e in ac||(ac[e]=[]);var c=ac[e].length+1;return ac[e].push(o),u(c),function(){delete ac[e][c];var f=ac[e].findLastIndex(function(p){return p!==void 0});ac[e].splice(f+1),u(void 0)}}},[e,o,n]),l};function Lj(t){if(Array.isArray(t))return HE(t)}function Nj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mI(t){return Lj(t)||Nj(t)||R6(t)||Fj()}var Uj={SIDEBAR:100,SLIDE_MENU:200,DIALOG:300,IMAGE:400,MENU:500,OVERLAY_PANEL:600,PASSWORD:700,CASCADE_SELECT:800,SPLIT_BUTTON:900,SPEED_DIAL:1e3},A6={escKeyListeners:new Map,onGlobalKeyDown:function(e){if(e.code==="Escape"){var n=A6.escKeyListeners,r=Math.max.apply(Math,mI(n.keys())),i=n.get(r),o=Math.max.apply(Math,mI(i.keys())),a=i.get(o);a(e)}},refreshGlobalKeyDownListener:function(){var e=ke.getTargetElement("document");this.escKeyListeners.size>0?e.addEventListener("keydown",this.onGlobalKeyDown):e.removeEventListener("keydown",this.onGlobalKeyDown)},addListener:function(e,n){var r=this,i=mu(n,2),o=i[0],a=i[1],s=this.escKeyListeners;s.has(o)||s.set(o,new Map);var l=s.get(o);if(l.has(a))throw new Error("Unexpected: global esc key listener with priority [".concat(o,", ").concat(a,"] already exists."));return l.set(a,e),this.refreshGlobalKeyDownListener(),function(){l.delete(a),l.size===0&&s.delete(o),r.refreshGlobalKeyDownListener()}}},zj=function(e){var n=e.callback,r=e.when,i=e.priority;S.useEffect(function(){if(r)return A6.addListener(n,i)},[n,r,i])};function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function Bj(t,e){if(Zm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hj(t){var e=Bj(t,"string");return Zm(e)==="symbol"?e:String(e)}function Vj(t,e,n){return e=Hj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){Vj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Nn=function(){var e=S.useContext(Xn);return function(){for(var n,r=jj({},(e==null||(n=e.ptOptions)===null||n===void 0?void 0:n.classNameMergeFunction)&&{classNameMergeFunction:e.classNameMergeFunction}),i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return ax(o,r)}},xa=function(e){var n=S.useRef(!1);return S.useEffect(function(){if(!n.current)return n.current=!0,e&&e()},[])},I6=function(e){var n=e.target,r=e.listener,i=e.options,o=e.when,a=o===void 0?!0:o,s=S.useRef(null),l=S.useRef(null),u=S.useRef([]),c=Ym(i),f=S.useContext(Xn),p=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_e.isNotEmpty(b.target)&&(m(),(b.when||a)&&(s.current=ke.getTargetElement(b.target))),!l.current&&s.current){var y=f?f.hideOverlaysOnDocumentScrolling:En.hideOverlaysOnDocumentScrolling,g=u.current=ke.getScrollableParents(s.current,y);l.current=function(x){return r&&r(x)},g.forEach(function(x){return x.addEventListener("scroll",l.current,i)})}},m=function(){if(l.current){var b=u.current;b.forEach(function(y){return y.removeEventListener("scroll",l.current,i)}),l.current=null}};return S.useEffect(function(){a?s.current=ke.getTargetElement(n):(m(),s.current=null)},[n,a]),S.useEffect(function(){l.current&&(l.current!==r||c!==i)&&(m(),a&&p())},[r,i]),Ro(function(){m()}),[p,m]},d3=function(e){var n=e.listener,r=e.when,i=r===void 0?!0:r;return Vo({target:"window",type:"resize",listener:n,when:i})},h3=function(e){var n=e.target,r=e.overlay,i=e.listener,o=e.when,a=o===void 0?!0:o,s=S.useRef(null),l=S.useRef(null),u=Vo({target:"window",type:"click",listener:function(Z){i&&i(Z,{type:"outside",valid:Z.which!==3&&L(Z)})}}),c=mu(u,2),f=c[0],p=c[1],m=d3({target:"window",listener:function(Z){i&&i(Z,{type:"resize",valid:!ke.isTouchDevice()})}}),v=mu(m,2),b=v[0],y=v[1],g=Vo({target:"window",type:"orientationchange",listener:function(Z){i&&i(Z,{type:"orientationchange",valid:!0})}}),x=mu(g,2),w=x[0],C=x[1],R=I6({target:n,listener:function(Z){i&&i(Z,{type:"scroll",valid:!0})}}),E=mu(R,2),P=E[0],D=E[1],L=function(Z){return s.current&&!(s.current.isSameNode(Z.target)||s.current.contains(Z.target)||l.current&&l.current.contains(Z.target))},M=function(){f(),b(),w(),P()},I=function(){p(),y(),C(),D()};return S.useEffect(function(){a?(s.current=ke.getTargetElement(n),l.current=ke.getTargetElement(r)):(I(),s.current=l.current=null)},[n,r,a]),S.useEffect(function(){I()},[a]),Ro(function(){I()}),[M,I]},Gj=0,Uc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=S.useState(!1),i=mu(r,2),o=i[0],a=i[1],s=S.useRef(null),l=S.useContext(Xn),u=ke.isClient()?window.document:void 0,c=n.document,f=c===void 0?u:c,p=n.manual,m=p===void 0?!1:p,v=n.name,b=v===void 0?"style_".concat(++Gj):v,y=n.id,g=y===void 0?void 0:y,x=n.media,w=x===void 0?void 0:x,C=function(D){o&&e!==D&&(s.current.textContent=D)},R=function(){if(!(!f||o)){var D=(l==null?void 0:l.styleContainer)||f.head;s.current=D.querySelector('style[data-primereact-style-id="'.concat(b,'"]'))||f.getElementById(g)||f.createElement("style"),s.current.isConnected||(s.current.type="text/css",g&&(s.current.id=g),w&&(s.current.media=w),ke.addNonce(s.current,l&&l.nonce||En.nonce),D.appendChild(s.current),b&&s.current.setAttribute("data-primereact-style-id",b)),s.current.textContent=e,a(!0)}},E=function(){!f||!s.current||(ke.removeInlineStyle(s.current),a(!1))};return S.useEffect(function(){m||R()},[m]),{id:g,name:b,update:C,unload:E,load:R,isLoaded:o}},Wn=function(e,n){var r=S.useRef(!1);return S.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},n)};function VE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wj(t){if(Array.isArray(t))return VE(t)}function $j(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kj(t,e){if(t){if(typeof t=="string")return VE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VE(t,e)}}function Xj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vI(t){return Wj(t)||$j(t)||Kj(t)||Xj()}function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function qj(t,e){if(Jm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yj(t){var e=qj(t,"string");return Jm(e)==="symbol"?e:String(e)}function jE(t,e,n){return e=Yj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){jE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Zj=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,Jj=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-buttonset .p-button {
    margin: 0;
}

.p-buttonset .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-buttonset .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-buttonset .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-buttonset .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-buttonset .p-button:focus {
    position: relative;
    z-index: 1;
}
`,Qj=`
.p-checkbox {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    vertical-align: bottom;
    position: relative;
}

.p-checkbox.p-checkbox-disabled {
    cursor: auto;
}

.p-checkbox-box {
    display: flex;
    justify-content: center;
    align-items: center;
}
`,eG=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,tG=`
.p-radiobutton {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    vertical-align: bottom;
}

.p-radiobutton-box {
    display: flex;
    justify-content: center;
    align-items: center;
}

.p-radiobutton-icon {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    transform: translateZ(0) scale(.1);
    border-radius: 50%;
    visibility: hidden;
}

.p-radiobutton-box.p-highlight .p-radiobutton-icon {
    transform: translateZ(0) scale(1.0, 1.0);
    visibility: visible;
}

`,nG=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,rG=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    .p-sr-only {
        border: 0;
        clip: rect(1px, 1px, 1px, 1px);
        clip-path: inset(50%);
        height: 1px;
        margin: -1px;
        overflow: hidden;
        padding: 0;
        position: absolute;
        width: 1px;
        word-wrap: normal;
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(Jj,`
    `).concat(Qj,`
    `).concat(eG,`
    `).concat(tG,`
    `).concat(nG,`
}
`),Sn={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.css,r=Si(Si({},e.defaultProps),Sn.defaultProps),i={},o=function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Sn.context=f,Sn.cProps=c,_e.getMergedProps(c,r)},a=function(c){return _e.getDiffProps(c,r)},s=function(){var c,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;f.hasOwnProperty("pt")&&f.pt!==void 0&&(f=f.pt);var b=p,y=/./g.test(b)&&!!m[b.split(".")[0]],g=y?_e.toFlatCase(b.split(".")[1]):_e.toFlatCase(b),x=m.hostName&&_e.toFlatCase(m.hostName),w=x||m.props&&m.props.__TYPE&&_e.toFlatCase(m.props.__TYPE)||"",C=g==="transition",R="data-pc-",E=function ve(X){return X!=null&&X.props?X.hostName?X.props.__TYPE===X.hostName?X.props:ve(X.parent):X.parent:void 0},P=function(X){var ne,F;return((ne=m.props)===null||ne===void 0?void 0:ne[X])||((F=E(m))===null||F===void 0?void 0:F[X])};Sn.cParams=m,Sn.cName=w;var D=P("ptOptions")||Sn.context.ptOptions||{},L=D.mergeSections,M=L===void 0?!0:L,I=D.mergeProps,V=I===void 0?!1:I,Z=function(){var X=gu.apply(void 0,arguments);return Array.isArray(X)?{className:Ct.apply(void 0,vI(X))}:_e.isString(X)?{className:X}:X!=null&&X.hasOwnProperty("className")&&Array.isArray(X.className)?{className:Ct.apply(void 0,vI(X.className))}:X},j=v?y?O6(Z,b,m):D6(Z,b,m):void 0,fe=y?void 0:rb(nb(f,w),Z,b,m),ye=!C&&Si(Si({},g==="root"&&jE({},"".concat(R,"name"),m.props&&m.props.__parentMetadata?_e.toFlatCase(m.props.__TYPE):w)),{},jE({},"".concat(R,"section"),g));return M||!M&&fe?V?ax([j,fe,Object.keys(ye).length?ye:{}],{classNameMergeFunction:(c=Sn.context.ptOptions)===null||c===void 0?void 0:c.classNameMergeFunction}):Si(Si(Si({},j),fe),Object.keys(ye).length?ye:{}):Si(Si({},fe),Object.keys(ye).length?ye:{})},l=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=c.props,p=c.state,m=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s((f||{}).pt,w,Si(Si({},c),C))},v=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s(w,C,R,!1)},b=function(){return Sn.context.unstyled||En.unstyled||f.unstyled},y=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b()?void 0:gu(n&&n.classes,w,Si({props:f,state:p},C))},g=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(R){var E,P=gu(n&&n.inlineStyles,w,Si({props:f,state:p},C)),D=gu(i,w,Si({props:f,state:p},C));return ax([D,P],{classNameMergeFunction:(E=Sn.context.ptOptions)===null||E===void 0?void 0:E.classNameMergeFunction})}};return{ptm:m,ptmo:v,sx:g,cx:y,isUnstyled:b}};return Si(Si({getProps:o,getOtherProps:a,setMetaData:l},e),{},{defaultProps:r})}},gu=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=String(_e.toFlatCase(n)).split("."),o=i.shift(),a=_e.isNotEmpty(e)?Object.keys(e).find(function(s){return _e.toFlatCase(s)===o}):"";return o?_e.isObject(e)?t(_e.getItemValue(e[a],r),i.join("."),r):void 0:_e.getItemValue(e,r)},nb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=e==null?void 0:e._usept,o=function(s){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=r?r(s):s,f=_e.toFlatCase(n);return(l=u?f!==Sn.cName?c==null?void 0:c[f]:void 0:c==null?void 0:c[f])!==null&&l!==void 0?l:c};return _e.isNotEmpty(i)?{_usept:i,originalValue:o(e.originalValue),value:o(e.value)}:o(e,!0)},rb=function(e,n,r,i){var o=function(b){return n(b,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var a=e._usept||Sn.context.ptOptions||{},s=a.mergeSections,l=s===void 0?!0:s,u=a.mergeProps,c=u===void 0?!1:u,f=a.classNameMergeFunction,p=o(e.originalValue),m=o(e.value);return p===void 0&&m===void 0?void 0:_e.isString(m)?m:_e.isString(p)?p:l||!l&&m?c?ax([p,m],{classNameMergeFunction:f}):Si(Si({},p),m):m}return o(e)},iG=function(){return nb(Sn.context.pt||En.pt,void 0,function(e){return _e.getItemValue(e,Sn.cParams)})},oG=function(){return nb(Sn.context.pt||En.pt,void 0,function(e){return gu(e,Sn.cName,Sn.cParams)||_e.getItemValue(e,Sn.cParams)})},O6=function(e,n,r){return rb(iG(),e,n,r)},D6=function(e,n,r){return rb(oG(),e,n,r)},Xo=function(e){var n=arguments.length>2?arguments[2]:void 0,r=n.name,i=n.styled,o=i===void 0?!1:i,a=n.hostName,s=a===void 0?"":a,l=O6(gu,"global.css",Sn.cParams),u=_e.toFlatCase(r),c=Uc(Zj,{name:"base",manual:!0}),f=c.load,p=Uc(rG,{name:"common",manual:!0}),m=p.load,v=Uc(l,{name:"global",manual:!0}),b=v.load,y=Uc(e,{name:r,manual:!0}),g=y.load,x=function(C){if(!s){var R=rb(nb((Sn.cProps||{}).pt,u),gu,"hooks.".concat(C)),E=D6(gu,"hooks.".concat(C));R==null||R(),E==null||E()}};x("useMountEffect"),xa(function(){f(),b(),m(),o||g()}),Wn(function(){x("useUpdateEffect")}),Ro(function(){x("useUnmountEffect")})};function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function aG(t,e){if(Qm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sG(t){var e=aG(t,"string");return Qm(e)==="symbol"?e:String(e)}function lG(t,e,n){return e=sG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(this,arguments)}function uG(t){if(Array.isArray(t))return t}function cG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function xI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fG(t,e){if(t){if(typeof t=="string")return xI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xI(t,e)}}function dG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bI(t,e){return uG(t)||cG(t,e)||fG(t,e)||dG()}var hG={root:function(e){var n=e.props,r=e.state;return Ct("p-avatar p-component",{"p-avatar-image":_e.isNotEmpty(n.image)&&!r.imageFailed,"p-avatar-circle":n.shape==="circle","p-avatar-lg":n.size==="large","p-avatar-xl":n.size==="xlarge","p-avatar-clickable":!!n.onClick})},label:"p-avatar-text",icon:"p-avatar-icon"},pG=`
@layer primereact {
    .p-avatar {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        font-size: 1rem;
    }
    
    .p-avatar.p-avatar-image {
        background-color: transparent;
    }
    
    .p-avatar.p-avatar-circle {
        border-radius: 50%;
    }
    
    .p-avatar.p-avatar-circle img {
        border-radius: 50%;
    }
    
    .p-avatar .p-avatar-icon {
        font-size: 1rem;
    }
    
    .p-avatar img {
        width: 100%;
        height: 100%;
    }
    
    .p-avatar-clickable {
        cursor: pointer;
    }
}
`,Ty=Sn.extend({defaultProps:{__TYPE:"Avatar",className:null,icon:null,image:null,imageAlt:"avatar",imageFallback:"default",label:null,onImageError:null,shape:"square",size:"normal",style:null,template:null,children:void 0},css:{classes:hG,styles:pG}});function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){lG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var k6=S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=Ty.getProps(t,r),o=S.useRef(null),a=S.useState(!1),s=bI(a,2),l=s[0],u=s[1],c=S.useState(!1),f=bI(c,2),p=f[0],m=f[1],v=Ty.setMetaData({props:i,state:{imageFailed:l,nested:p}}),b=v.ptm,y=v.cx,g=v.isUnstyled;Xo(Ty.css.styles,g,{name:"avatar"});var x=function(){if(_e.isNotEmpty(i.image)&&!l){var P=n({src:i.image,onError:w},b("image"));return S.createElement("img",GE({alt:i.imageAlt},P))}else if(i.label){var D=n({className:y("label")},b("label"));return S.createElement("span",D,i.label)}else if(i.icon){var L=n({className:y("icon")},b("icon"));return Hn.getJSXIcon(i.icon,mG({},L),{props:i})}return null},w=function(P){i.imageFallback==="default"?i.onImageError||(u(!0),P.target.src=null):P.target.src=i.imageFallback,i.onImageError&&i.onImageError(P)};S.useEffect(function(){var E=ke.isAttributeEquals(o.current.parentElement,"data-pc-name","avatargroup");m(E)},[]),S.useImperativeHandle(e,function(){return{props:i,getElement:function(){return o.current}}});var C=n({ref:o,style:i.style,className:Ct(i.className,y("root",{imageFailed:l}))},Ty.getOtherProps(i),b("root")),R=i.template?_e.getJSXElement(i.template,i):x();return S.createElement("div",C,R,i.children)});k6.displayName="Avatar";function L6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=L6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Tp(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=L6(t))&&(r&&(r+=" "),r+=e);return r}function jr(){return jr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jr.apply(this,arguments)}function N6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WE(t,e){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WE(t,e)}function F6(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,WE(t,e)}function gG(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function vG(t,e){t.classList?t.classList.add(e):gG(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function SI(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yG(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=SI(t.className,e):t.setAttribute("class",SI(t.className&&t.className.baseVal||"",e))}const _I={disabled:!1},U6=fn.createContext(null);var z6=function(e){return e.scrollTop},Zp="unmounted",_c="exited",Ec="entering",Td="entered",$E="exiting",Nl=function(t){F6(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?s?(l=_c,o.appearStatus=Ec):l=Td:r.unmountOnExit||r.mountOnEnter?l=Zp:l=_c,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Zp?{status:_c}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Ec&&a!==Td&&(o=Ec):(a===Ec||a===Td)&&(o=$E)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ec){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Gd.findDOMNode(this);a&&z6(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_c&&this.setState({status:Zp})},n.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[Gd.findDOMNode(this),s],u=l[0],c=l[1],f=this.getTimeouts(),p=s?f.appear:f.enter;if(!i&&!a||_I.disabled){this.safeSetState({status:Td},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ec},function(){o.props.onEntering(u,c),o.onTransitionEnd(p,function(){o.safeSetState({status:Td},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:Gd.findDOMNode(this);if(!o||_I.disabled){this.safeSetState({status:_c},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:$E},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:_c},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:Gd.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Zp)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=N6(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fn.createElement(U6.Provider,{value:null},typeof a=="function"?a(i,s):fn.cloneElement(fn.Children.only(a),s))},e}(fn.Component);Nl.contextType=U6;Nl.propTypes={};function Kf(){}Nl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Kf,onEntering:Kf,onEntered:Kf,onExit:Kf,onExiting:Kf,onExited:Kf};Nl.UNMOUNTED=Zp;Nl.EXITED=_c;Nl.ENTERING=Ec;Nl.ENTERED=Td;Nl.EXITING=$E;const xG=Nl;var bG=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return vG(e,r)})},fS=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return yG(e,r)})},p3=function(t){F6(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(s,l){var u=r.resolveArguments(s,l),c=u[0],f=u[1];r.removeClasses(c,"exit"),r.addClass(c,f?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(s,l)},r.onEntering=function(s,l){var u=r.resolveArguments(s,l),c=u[0],f=u[1],p=f?"appear":"enter";r.addClass(c,p,"active"),r.props.onEntering&&r.props.onEntering(s,l)},r.onEntered=function(s,l){var u=r.resolveArguments(s,l),c=u[0],f=u[1],p=f?"appear":"enter";r.removeClasses(c,p),r.addClass(c,p,"done"),r.props.onEntered&&r.props.onEntered(s,l)},r.onExit=function(s){var l=r.resolveArguments(s),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(s)},r.onExiting=function(s){var l=r.resolveArguments(s),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(s)},r.onExited=function(s){var l=r.resolveArguments(s),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(s)},r.resolveArguments=function(s,l){return r.props.nodeRef?[r.props.nodeRef.current,s]:[s,l]},r.getClassNames=function(s){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",f=u?""+c+s:l[s],p=u?f+"-active":l[s+"Active"],m=u?f+"-done":l[s+"Done"];return{baseClassName:f,activeClassName:p,doneClassName:m}},r}var n=e.prototype;return n.addClass=function(i,o,a){var s=this.getClassNames(o)[a+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;o==="appear"&&a==="done"&&u&&(s+=" "+u),a==="active"&&i&&z6(i),s&&(this.appliedClasses[o][a]=s,bG(i,s))},n.removeClasses=function(i,o){var a=this.appliedClasses[o],s=a.base,l=a.active,u=a.done;this.appliedClasses[o]={},s&&fS(i,s),l&&fS(i,l),u&&fS(i,u)},n.render=function(){var i=this.props;i.classNames;var o=N6(i,["classNames"]);return fn.createElement(xG,jr({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(fn.Component);p3.defaultProps={classNames:""};p3.propTypes={};const wG=p3;function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function SG(t,e){if(eg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _G(t){var e=SG(t,"string");return eg(e)==="symbol"?e:String(e)}function EG(t,e,n){return e=_G(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var KE={defaultProps:{__TYPE:"CSSTransition",children:void 0},getProps:function(e){return _e.getMergedProps(e,KE.defaultProps)},getOtherProps:function(e){return _e.getDiffProps(e,KE.defaultProps)}};function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){EG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ku=S.forwardRef(function(t,e){var n=KE.getProps(t),r=S.useContext(Xn),i=n.disabled||n.options&&n.options.disabled||r&&!r.cssTransition||!En.cssTransition,o=function(b,y){n.onEnter&&n.onEnter(b,y),n.options&&n.options.onEnter&&n.options.onEnter(b,y)},a=function(b,y){n.onEntering&&n.onEntering(b,y),n.options&&n.options.onEntering&&n.options.onEntering(b,y)},s=function(b,y){n.onEntered&&n.onEntered(b,y),n.options&&n.options.onEntered&&n.options.onEntered(b,y)},l=function(b){n.onExit&&n.onExit(b),n.options&&n.options.onExit&&n.options.onExit(b)},u=function(b){n.onExiting&&n.onExiting(b),n.options&&n.options.onExiting&&n.options.onExiting(b)},c=function(b){n.onExited&&n.onExited(b),n.options&&n.options.onExited&&n.options.onExited(b)};if(Wn(function(){if(i){var v=_e.getRefElement(n.nodeRef);n.in?(o(v,!0),a(v,!0),s(v,!0)):(l(v),u(v),c(v))}},[n.in]),i)return n.in?n.children:null;var f={nodeRef:n.nodeRef,in:n.in,onEnter:o,onEntering:a,onEntered:s,onExit:l,onExiting:u,onExited:c},p={classNames:n.classNames,timeout:n.timeout,unmountOnExit:n.unmountOnExit},m=dS(dS(dS({},p),n.options||{}),f);return S.createElement(wG,m,n.children)});ku.displayName="CSSTransition";var tr={defaultProps:{__TYPE:"IconBase",className:null,label:null,spin:!1},getProps:function(e){return _e.getMergedProps(e,tr.defaultProps)},getOtherProps:function(e){return _e.getDiffProps(e,tr.defaultProps)},getPTI:function(e){var n=_e.isEmpty(e.label),r=tr.getOtherProps(e),i={className:Ct("p-icon",{"p-icon-spin":e.spin},e.className),role:n?void 0:"img","aria-label":n?void 0:e.label,"aria-hidden":n};return _e.getMergedProps(r,i)}};function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(this,arguments)}var Lh=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",XE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))}));Lh.displayName="ChevronDownIcon";function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(this,arguments)}var Qg=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",qE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"}))}));Qg.displayName="ChevronRightIcon";function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(this,arguments)}function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function CG(t,e){if(tg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MG(t){var e=CG(t,"string");return tg(e)==="symbol"?e:String(e)}function TG(t,e,n){return e=MG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PG(t){if(Array.isArray(t))return t}function RG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function CI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AG(t,e){if(t){if(typeof t=="string")return CI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CI(t,e)}}function IG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OG(t,e){return PG(t)||RG(t,e)||AG(t,e)||IG()}var DG=`
@layer primereact {
    .p-ripple {
        overflow: hidden;
        position: relative;
    }
    
    .p-ink {
        display: block;
        position: absolute;
        background: rgba(255, 255, 255, 0.5);
        border-radius: 100%;
        transform: scale(0);
    }
    
    .p-ink-active {
        animation: ripple 0.4s linear;
    }
    
    .p-ripple-disabled .p-ink {
        display: none;
    }
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}

`,kG={root:"p-ink"},Kd=Sn.extend({defaultProps:{__TYPE:"Ripple",children:void 0},css:{styles:DG,classes:kG},getProps:function(e){return _e.getMergedProps(e,Kd.defaultProps)},getOtherProps:function(e){return _e.getDiffProps(e,Kd.defaultProps)}});function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){TG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ai=S.memo(S.forwardRef(function(t,e){var n=S.useState(!1),r=OG(n,2),i=r[0],o=r[1],a=S.useRef(null),s=S.useRef(null),l=Nn(),u=S.useContext(Xn),c=Kd.getProps(t,u),f=u&&u.ripple||En.ripple,p={props:c};Uc(Kd.css.styles,{name:"ripple",manual:!f});var m=Kd.setMetaData(LG({},p)),v=m.ptm,b=m.cx,y=function(){return a.current&&a.current.parentElement},g=function(){s.current&&s.current.addEventListener("pointerdown",w)},x=function(){s.current&&s.current.removeEventListener("pointerdown",w)},w=function(L){var M=ke.getOffset(s.current),I=L.pageX-M.left+document.body.scrollTop-ke.getWidth(a.current)/2,V=L.pageY-M.top+document.body.scrollLeft-ke.getHeight(a.current)/2;C(I,V)},C=function(L,M){!a.current||getComputedStyle(a.current,null).display==="none"||(ke.removeClass(a.current,"p-ink-active"),E(),a.current.style.top=M+"px",a.current.style.left=L+"px",ke.addClass(a.current,"p-ink-active"))},R=function(L){ke.removeClass(L.currentTarget,"p-ink-active")},E=function(){if(a.current&&!ke.getHeight(a.current)&&!ke.getWidth(a.current)){var L=Math.max(ke.getOuterWidth(s.current),ke.getOuterHeight(s.current));a.current.style.height=L+"px",a.current.style.width=L+"px"}};if(S.useImperativeHandle(e,function(){return{props:c,getInk:function(){return a.current},getTarget:function(){return s.current}}}),xa(function(){o(!0)}),Wn(function(){i&&a.current&&(s.current=y(),E(),g())},[i]),Wn(function(){a.current&&!s.current&&(s.current=y(),E(),g())}),Ro(function(){a.current&&(s.current=null,x())}),!f)return null;var P=l({"aria-hidden":!0,className:Ct(b("root"))},Kd.getOtherProps(c),v("root"));return S.createElement("span",YE({role:"presentation",ref:a},P,{onAnimationEnd:R}))}));ai.displayName="Ripple";function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(this,arguments)}function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function NG(t,e){if(ng(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ng(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FG(t){var e=NG(t,"string");return ng(e)==="symbol"?e:String(e)}function B6(t,e,n){return e=FG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UG(t){if(Array.isArray(t))return t}function zG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function TI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BG(t,e){if(t){if(typeof t=="string")return TI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TI(t,e)}}function HG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ls(t,e){return UG(t)||zG(t,e)||BG(t,e)||HG()}var VG={headerIcon:function(e){var n=e.item;return Ct("p-menuitem-icon",n.icon)},headerSubmenuIcon:"p-submenu-icon",headerLabel:"p-menuitem-text",headerAction:"p-panelmenu-header-link",panel:function(e){var n=e.item;return Ct("p-panelmenu-panel",n.className)},header:function(e){var n=e.active,r=e.item;return Ct("p-component p-panelmenu-header",{"p-highlight":n&&!!r.items,"p-disabled":r.disabled})},headerContent:"p-panelmenu-header-content",menuContent:"p-panelmenu-content",root:function(e){var n=e.props;return Ct("p-panelmenu p-component",n.className)},separator:"p-menuitem-separator",toggleableContent:function(e){var n=e.active;return Ct("p-toggleable-content",{"p-toggleable-content-collapsed":!n})},icon:function(e){var n=e.item;return Ct("p-menuitem-icon",n.icon)},label:"p-menuitem-text",submenuicon:"p-submenu-icon",content:"p-menuitem-content",action:function(e){var n=e.item;return Ct("p-menuitem-link",{"p-disabled":n.disabled})},menuitem:function(e){var n=e.item,r=e.focused,i=e.disabled;return Ct("p-menuitem",n.className,{"p-focus":r,"p-disabled":i})},menu:"p-panelmenu-root-list",submenu:"p-submenu-list",transition:"p-toggleable-content"},jG=`
@layer primereact {
    .p-panelmenu .p-panelmenu-header-link {
        display: flex;
        align-items: center;
        user-select: none;
        cursor: pointer;
        position: relative;
        text-decoration: none;
    }

    .p-panelmenu .p-panelmenu-header-link:focus {
        z-index: 1;
    }

    .p-panelmenu .p-submenu-list {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .p-panelmenu .p-menuitem-link {
        display: flex;
        align-items: center;
        user-select: none;
        cursor: pointer;
        text-decoration: none;
        text-decoration: none;
        position: relative;
        overflow: hidden;
    }

    .p-panelmenu .p-menuitem-text {
        line-height: 1;
    }
}
`,Py=Sn.extend({defaultProps:{__TYPE:"PanelMenu",id:null,model:null,style:null,submenuIcon:null,expandedKeys:null,className:null,onExpandedKeysChange:null,onOpen:null,onClose:null,multiple:!1,transitionOptions:null,children:void 0},css:{classes:VG,styles:jG}}),GG=function(e,n){var r=S.useRef(!1);return S.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},n)};function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){B6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var m3=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=t.ptm,i=t.cx,o=S.useRef(null),a=function(V,Z){return r(V,RI({hostName:t.hostName},Z))},s=function(V,Z,j){return a(Z,{context:{item:V,index:j,active:c(V),focused:m(V),disabled:p(V)}})},l=function(V){return"".concat(t.panelId,"_").concat(V.key)},u=function(V,Z,j){return V&&V.item?_e.getItemValue(V.item[Z],j):void 0},c=function(V){return t.activeItemPath&&t.activeItemPath.some(function(Z){return Z.key===V.key})},f=function(V){return u(V,"visible")!==!1},p=function(V){return u(V,"disabled")},m=function(V){return t.focusedItemId===l(V)},v=function(V){return _e.isNotEmpty(V.items)},b=function(V,Z){u(Z,"url")||V.preventDefault(),u(Z,"command",{originalEvent:V,item:Z.item}),y({processedItem:Z,expanded:!c(Z)})},y=function(V){t.onItemToggle(V)},g=function(){return t.model.filter(function(V){return f(V)&&!u(V,"separator")}).length},x=function(V){return V-t.model.slice(0,V).filter(function(Z){return f(Z)&&u(Z,"separator")}).length+1};S.useImperativeHandle(e,function(){return{getElement:function(){return o.current}}});var w=function(V){var Z=t.id+"_sep_"+V,j=n({id:Z,key:Z,className:i("separator"),role:"separator"},a("separator"));return S.createElement("li",j)},C=function(V,Z){var j=S.createRef(),fe=n({className:i("toggleableContent",{active:Z})},a("toggleableContent"));if(f(V)&&v(V)){var ye=n({classNames:i("transition"),timeout:{enter:1e3,exit:450},in:Z,unmountOnExit:!0},a("transition"));return S.createElement(ku,Sh({nodeRef:j},ye),S.createElement("div",Sh({ref:j},fe),S.createElement(m3,{id:l(V)+"_list",role:"group",panelId:t.panelId,level:t.level+1,focusedItemId:t.focusedItemId,activeItemPath:t.activeItemPath,onItemToggle:y,menuProps:t.menuProps,model:V.items,submenuIcon:t.submenuIcon,ptm:r,cx:i})))}return null},R=function(V,Z){var j=V.item;if(f(V)===!1)return null;var fe=l(V),ye=c(V),ve=m(V),X=p(j),ne=Ct("p-menuitem-link",{"p-disabled":j.disabled}),F=Ct("p-menuitem-icon",j.icon),ce=n({className:i("icon",{item:j})},s(V,"icon",Z)),se=Hn.getJSXIcon(j.icon,RI({},ce),{props:t.menuProps}),K=n({className:i("label")},s(V,"label",Z)),ge=j.label&&S.createElement("span",K,j.label),ze="p-panelmenu-icon",Be=n({className:i("submenuicon")},s(V,"submenuicon",Z)),st=j.items&&Hn.getJSXIcon(ye?t.submenuIcon||S.createElement(Lh,Be):t.submenuIcon||S.createElement(Qg,Be)),it=C(V,ye),gt=n({href:j.url||"#",className:i("action",{item:j}),target:j.target,onFocus:function(et){return et.stopPropagation()},tabIndex:"-1","aria-hidden":!0},s(V,"action",Z)),yt=S.createElement("a",gt,st,se,ge,S.createElement(ai,null));if(j.template){var je={className:ne,labelClassName:"p-menuitem-text",iconClassName:F,submenuIconClassName:ze,element:yt,props:t,leaf:!j.items,active:ye};yt=_e.getJSXElement(j.template,j,je)}var Y=n({onClick:function(et){return b(et,V)},className:i("content")},s(V,"content",Z)),Fe=n({key:fe,id:fe,className:i("menuitem",{item:j,focused:ve,disabled:X}),style:j.style,role:"treeitem","aria-label":j.label,"aria-expanded":v(j)?ye:void 0,"aria-level":t.level+1,"aria-setsize":g(),"aria-posinset":x(Z),"data-p-focused":ve,"data-p-disabled":X},s(V,"menuitem",Z));return S.createElement("li",Fe,S.createElement("div",Y,yt),it)},E=function(V,Z){return u(V,"separator")?w(Z):R(V,Z)},P=function(){return t.model?t.model.map(E):null},D=P(),L=t.root?"menu":"submenu",M=n({id:t.id,ref:o,tabIndex:t.tabIndex,onFocus:t.onFocus,onBlur:t.onBlur,onKeyDown:t.onKeyDown,"aria-activedescendant":t.ariaActivedescendant,role:t.role,className:Ct(i(L),t.className)},r(L));return S.createElement("ul",M,D)}));m3.displayName="PanelMenuSub";var H6=S.memo(function(t){var e=t.ptm,n=t.cx,r=S.useState(!1),i=ls(r,2),o=i[0],a=i[1],s=S.useState(null),l=ls(s,2),u=l[0],c=l[1],f=S.useState(null),p=ls(f,2),m=p[0],v=p[1],b=S.useState([]),y=ls(b,2),g=y[0],x=y[1],w=S.useState(null),C=ls(w,2),R=C[0],E=C[1],P=S.useState([]),D=ls(P,2),L=D[0],M=D[1],I=S.useRef(null),V=S.useRef(null),Z=S.useRef(null),j=function(be,Ye){return be&&be.item?_e.getItemValue(be.item[Ye]):void 0},fe=function(be){return j(be,"label")},ye=function(be){return j(be,"visible")!==!1},ve=function(be){return j(be,"disabled")},X=function(be){return g&&g.some(function(Ye){return Ye.key===be.parentKey})},ne=function(be){return _e.isNotEmpty(be.items)},F=function(){return Z.current&&Z.current.getElement()},ce=function(be){a(!0);var Ye=u||(Fe(be,be.relatedTarget)?lt():J());c(Ye)},se=function(){a(!1),c(null),I.current=""},K=function(be){var Ye=be.metaKey||be.ctrlKey;switch(be.code){case"ArrowDown":ge(be);break;case"ArrowUp":ze(be);break;case"ArrowLeft":Be(be);break;case"ArrowRight":st(be);break;case"Home":it(be);break;case"End":gt(be);break;case"Space":je(be);break;case"Enter":case"NumpadEnter":yt(be);break;case"Escape":case"Tab":case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!Ye&&_e.isPrintableCharacter(be.key)&&B(be,be.key);break}},ge=function(be){var Ye=_e.isNotEmpty(u)?Q(u):lt();O({originalEvent:be,processedItem:Ye,focusOnNext:!0}),be.preventDefault()},ze=function(be){var Ye=_e.isNotEmpty(u)?xe(u):J();O({originalEvent:be,processedItem:Ye,selfCheck:!0}),be.preventDefault()},Be=function(be){if(_e.isNotEmpty(u)){var Ye=g.some(function(at){return at.key===u.key});Ye?x(g.filter(function(at){return at.key!==u.key})):c(_e.isNotEmpty(u.parent)?u.parent:u),be.preventDefault()}},st=function(be){if(_e.isNotEmpty(u)){var Ye=ne(u);if(Ye){var at=g.some(function(ft){return ft.key===u.key});if(at)ge(be);else{var tt=g.filter(function(ft){return ft.parentKey!==u.parentKey});tt.push(u),x(tt)}}be.preventDefault()}},it=function(be){O({originalEvent:be,processedItem:lt(),allowHeaderFocus:!1}),be.preventDefault()},gt=function(be){O({originalEvent:be,processedItem:J(),focusOnNext:!0,allowHeaderFocus:!1}),be.preventDefault()},yt=function(be){if(_e.isNotEmpty(u)){var Ye=ke.findSingle(F(),'li[id="'.concat("".concat(m),'"]')),at=Ye&&(ke.findSingle(Ye,'[data-pc-section="action"]')||ke.findSingle(Ye,"a,button"));at?at.click():Ye&&Ye.click()}be.preventDefault()},je=function(be){yt(be)},Y=function(be){var Ye=be.processedItem,at=be.expanded;if(t.expandedKeys)t.onToggle&&t.onToggle({item:Ye.item,expanded:at});else{var tt=g.filter(function(ft){return ft.parentKey!==Ye.parentKey});at&&tt.push(Ye),x(tt)}ke.focus(F()),c(Ye)},Fe=function(be,Ye){var at=be.currentTarget.closest('[data-pc-section="panel"]');return at&&at.contains(Ye)},Me=function(be){return Ve(be)&&fe(be).toLocaleLowerCase().startsWith(I.current.toLocaleLowerCase())},et=function(be){return!!be&&(be.level===0||X(be))&&ye(be)},Ve=function(be){return!!be&&!ve(be)&&!j(be,"separator")},lt=function(){return L.find(function(be){return Ve(be)})},J=function(){return _e.findLast(L,function(be){return Ve(be)})},Q=function(be){var Ye=L.findIndex(function(tt){return tt.key===be.key}),at=Ye<L.length-1?L.slice(Ye+1).find(function(tt){return Ve(tt)}):void 0;return at||be},xe=function(be){var Ye=L.findIndex(function(tt){return tt.key===be.key}),at=Ye>0?_e.findLast(L.slice(0,Ye),function(tt){return Ve(tt)}):void 0;return at||be},B=function(be,Ye){I.current=(I.current||"")+Ye;var at=null,tt=!1;if(_e.isNotEmpty(u)){var ft=L.findIndex(function(De){return De.key===u.key});at=L.slice(ft).find(function(De){return Me(De)}),at=_e.isEmpty(at)?L.slice(0,ft).find(function(De){return Me(De)}):at}else at=L.find(function(De){return Me(De)});return _e.isNotEmpty(at)&&(tt=!0),_e.isEmpty(at)&&_e.isEmpty(u)&&(at=lt()),_e.isNotEmpty(at)&&O({originalEvent:be,processedItem:at,allowHeaderFocus:!1}),V&&clearTimeout(V.current),V.current=setTimeout(function(){I.current="",V.currentt=null},500),tt},O=function(be){var Ye=be.originalEvent,at=be.processedItem,tt=be.focusOnNext,ft=be.selfCheck,De=be.allowHeaderFocus,Le=De===void 0?!0:De;_e.isNotEmpty(u)&&u.key!==at.key?(c(at),ee()):Le&&t.onHeaderFocus&&t.onHeaderFocus({originalEvent:Ye,focusOnNext:tt,selfCheck:ft})},ee=function(){var be=ke.findSingle(F(),'li[id="'.concat("".concat(m),'"]'));be&&be.scrollIntoView&&be.scrollIntoView({block:"nearest",inline:"start"})},he=function(be){var Ye=Object.entries(be||{}).reduce(function(at,tt){var ft=ls(tt,2),De=ft[0],Le=ft[1];if(Le){var H=le(De);H&&at.push(H)}return at},[]);x(Ye)},le=function Ke(be,Ye){var at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,tt=Ye||at===0&&t.model;if(!tt)return null;for(var ft=0;ft<tt.length;ft++){var De=tt[ft],Le=j(De,"key")||De.key;if(Le===be)return De;var H=Ke(be,De.items,at+1);if(H)return H}},Ee=function Ke(be){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",ft=[];return be&&be.forEach(function(De,Le){var H=De.key?De.key:(tt!==""?tt+"_":"")+Le,me={item:De,index:Le,level:Ye,key:H,parent:at,parentKey:tt};me.items=Ke(De.items,Ye+1,me,H),ft.push(me)}),ft},qe=function Ke(be){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return be&&be.forEach(function(at){et(at)&&(Ye.push(at),Ke(at.items,Ye))}),Ye};return S.useEffect(function(){var Ke=Ee(t.model);E(Ke)},[t.model]),S.useEffect(function(){var Ke=qe(R);M(Ke)},[R,g]),S.useEffect(function(){he(t.expandedKeys)},[t.expandedKeys]),GG(function(){var Ke=_e.isNotEmpty(u)?"".concat(t.panelId,"_").concat(u.key):null;v(Ke)},[t.panelId,u]),S.createElement(m3,{hostName:"PanelMenu",id:t.panelId+"_list",ref:Z,role:"tree",tabIndex:-1,ariaActivedescendant:o?m:void 0,panelId:t.panelId,focusedItemId:o?m:void 0,model:R,activeItemPath:g,menuProps:t.menuProps,onFocus:ce,onBlur:se,onKeyDown:K,onItemToggle:Y,level:0,className:n("submenu"),submenuIcon:t.submenuIcon,root:!0,ptm:e,cx:n})});H6.displayName="PanelMenuList";function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){B6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var V6=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=Py.getProps(t,r),o=S.useState(i.id),a=ls(o,2),s=a[0],l=a[1],u=S.useState(null),c=ls(u,2),f=c[0],p=c[1],m=S.useState([]),v=ls(m,2),b=v[0],y=v[1],g=S.useState(!1),x=ls(g,2);x[0];var w=x[1],C=S.useRef(null),R=Py.setMetaData({props:i,state:{id:s,activeItem:f}}),E=R.ptm,P=R.cx,D=R.isUnstyled;Xo(Py.css.styles,D,{name:"panelmenu"});var L=function(Q,xe){if(xe.disabled){Q.preventDefault();return}xe.command&&xe.command({originalEvent:Q,item:xe}),xe.items&&gt(Q,xe),xe.url||(Q.preventDefault(),Q.stopPropagation())},M=function(Q,xe){return Q?_e.getItemValue(Q[xe]):void 0},I=function(Q){return i.expandedKeys?i.expandedKeys[M(Q,"key")]:i.multiple?b.some(function(xe){return _e.equals(Q,xe)}):_e.equals(Q,f)},V=function(Q){return M(Q,"visible")!==!1},Z=function(Q){return M(Q,"disabled")},j=function(Q){return _e.equals(Q,f)},fe=function(Q){return"".concat(s,"_").concat(Q)},ye=function(Q){return"".concat(fe(Q),"_header")},ve=function(Q){return"".concat(fe(Q),"_content")},X=function(Q,xe){switch(Q.code){case"ArrowDown":ne(Q);break;case"ArrowUp":F(Q);break;case"Home":ce(Q);break;case"End":se(Q);break;case"Enter":case"NumpadEnter":case"Space":K(Q,xe);break}},ne=function(Q){var xe=ke.getAttribute(Q.currentTarget,"data-p-highlight")===!0?ke.findSingle(Q.currentTarget.nextElementSibling,'[data-pc-section="menu"]'):null;xe?ke.focus(xe):it({originalEvent:Q,focusOnNext:!0}),Q.preventDefault()},F=function(Q){var xe=ze(Q.currentTarget.parentElement)||st(),B=ke.getAttribute(xe,"data-p-highlight")===!0?ke.findSingle(xe.nextElementSibling,'[data-pc-section="menu"]'):null;B?ke.focus(B):it({originalEvent:Q,focusOnNext:!1}),Q.preventDefault()},ce=function(Q){je(Q,Be()),Q.preventDefault()},se=function(Q){je(Q,st()),Q.preventDefault()},K=function(Q,xe){var B=ke.findSingle(Q.currentTarget,'[data-pc-section="headeraction"]');B?B.click():L(Q,xe),Q.preventDefault()},ge=function J(Q){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=xe?Q:Q.nextElementSibling,O=ke.findSingle(B,'[data-pc-section="header"]');return O?ke.getAttribute(O,"data-p-disabled")?J(O.parentElement):O:null},ze=function J(Q){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=xe?Q:Q.previousElementSibling,O=ke.findSingle(B,'[data-pc-section="header"]');return O?ke.getAttribute(O,"data-p-disabled")?J(O.parentElement):O:null},Be=function(){return ge(C.current.firstElementChild,!0)},st=function(){return ze(C.current.lastElementChild,!0)},it=function(Q){var xe=Q.originalEvent,B=Q.focusOnNext,O=Q.selfCheck,ee=xe.currentTarget.closest('[data-pc-section="panel"]'),he=O?ke.findSingle(ee,'[data-pc-section="header"]'):B?ge(ee):ze(ee);he?je(xe,he):B?ce(xe):se(xe)},gt=function(Q,xe){if(!Z(xe)){var B=I(xe),O=!B,ee=f&&_e.equals(xe,f)?null:xe;if(p(ee),i.multiple){var he=b;b.some(function(le){return _e.equals(xe,le)})?he=b.filter(function(le){return!_e.equals(xe,le)}):he.push(xe),y(he)}yt({item:xe,expanded:O}),O&&Q?i.onOpen&&i.onOpen({originalEvent:Q,item:xe}):i.onClose&&i.onClose({originalEvent:Q,item:xe})}},yt=function(Q){var xe=Q.item,B=Q.expanded,O=B===void 0?!1:B;if(i.expandedKeys){var ee=II({},i.expandedKeys);O?ee[xe.key]=!0:delete ee[xe.key],i.onExpandedKeysChange&&i.onExpandedKeysChange(ee)}},je=function(Q,xe){xe&&ke.focus(xe)},Y=function(Q,xe,B){return E(xe,{context:{active:I(Q),focused:j(Q),disabled:Z(Q),index:B}})};S.useImperativeHandle(e,function(){return{props:i,getElement:function(){return C.current}}}),xa(function(){!s&&l(Jg())}),S.useEffect(function(){w(!0),i.model&&i.model.forEach(function(J){J.expanded&&(gt(null,J),J.expanded=!1)})},[i.model]);var Fe=function(){w(!1)},Me=function(Q,xe){if(!V(Q))return null;var B=Q.id||s+"_"+xe,O=I(Q)||Q.expanded,ee=Ct("p-menuitem-icon",Q.icon),he=n({className:P("headerIcon",{item:Q})},Y(Q,"headerIcon",xe)),le=Hn.getJSXIcon(Q.icon,II({},he),{props:i}),Ee="p-panelmenu-icon",qe=n({className:P("headerSubmenuIcon")},Y(Q,"headerSubmenuIcon",xe)),Ke=Q.items&&Hn.getJSXIcon(O?i.submenuIcon||S.createElement(Lh,qe):i.submenuIcon||S.createElement(Qg,qe)),be=n({className:P("headerLabel")},Y(Q,"headerLabel",xe)),Ye=Q.label&&S.createElement("span",be,Q.label),at=S.createRef(),tt=n({href:Q.url||"#",className:P("headerAction"),tabIndex:"-1"},Y(Q,"headerAction",xe)),ft=S.createElement("a",tt,Ke,le,Ye);if(Q.template){var De={onClick:function(dt){return L(dt,Q)},className:"p-panelmenu-header-link",labelClassName:"p-menuitem-text",submenuIconClassName:Ee,iconClassName:ee,element:ft,props:i,leaf:!Q.items,active:O};ft=_e.getJSXElement(Q.template,Q,De)}var Le=n({key:B,className:P("panel",{item:Q}),style:Q.style},Y(Q,"panel",xe)),H=n({id:ye(xe),className:P("header",{active:O,item:Q}),"aria-label":Q.label,"aria-expanded":O,"aria-disabled":Q.disabled,"aria-controls":ve(xe),tabIndex:Q.disabled?null:"0",onClick:function(dt){return L(dt,Q)},onKeyDown:function(dt){return X(dt,Q)},"data-p-disabled":Q.disabled,"data-p-highlight":O,role:"button",style:Q.style},Y(Q,"header",xe)),me=n({className:P("headerContent")},Y(Q,"headerContent",xe)),He=n({className:P("menuContent")},Y(Q,"menuContent",xe)),ct=n({className:P("toggleableContent",{active:O}),role:"region","aria-labelledby":ye(xe)},Y(Q,"toggleableContent",xe)),nt=n({classNames:P("transition"),timeout:{enter:1e3,exit:450},onEnter:Fe,in:O,unmountOnExit:!0,options:i.transitionOptions},Y(Q,"transition",xe));return S.createElement("div",Le,S.createElement("div",H,S.createElement("div",me,ft)),S.createElement(ku,Sh({nodeRef:at},nt),S.createElement("div",Sh({id:ve(xe),ref:at},ct),S.createElement("div",He,S.createElement(H6,{panelId:fe(xe),menuProps:i,onToggle:yt,onHeaderFocus:it,level:0,model:Q.items,expandedKeys:i.expandedKeys,className:"p-panelmenu-root-submenu",submenuIcon:i.submenuIcon,ptm:E,cx:P})))))},et=function(){return i.model?i.model.map(Me):null},Ve=et(),lt=n({ref:C,className:P("root"),id:i.id,style:i.style},Py.getOtherProps(i),E("root"));return S.createElement("div",lt,Ve)}));V6.displayName="PanelMenu";const WG=()=>{const t=w6(),e=u3(),n=S.useMemo(()=>[{label:"Home",icon:"pi pi-box",className:Tp(Md("/",e.pathname)&&"active"),command:()=>t("/")},{label:"Unit Cells",icon:"pi pi-box",className:Tp(Md("/unit-cells",e.pathname)&&"active"),command:()=>t("/unit-cells")},{label:"Voxels",icon:"pi pi-box",className:Tp(Md("/voxels",e.pathname)&&"active"),command:()=>t("/voxels")},{label:"Symmetries",icon:"pi pi-box",className:Tp(Md("/symmetries",e.pathname)&&"active"),command:()=>t("/symmetries")},{label:"Chunk Editor",icon:"pi pi-box",className:Tp(Md("/chunk-editor",e.pathname)&&"active"),command:()=>t("/chunk-editor")}],[e.pathname,t]);return pt.jsx(V6,{model:n,className:"w-full md:w-20rem"})};function $G(){return pt.jsxs("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 md:px-8",children:[pt.jsxs("div",{className:"hidden lg:block fixed z-20 inset-0 left-[max(0px,calc(50%-45rem))] right-auto w-[19rem] pb-10 pl-8 pr-6 overflow-y-auto",children:[pt.jsxs("span",{className:"inline-flex align-items-center gap-1 px-2 py-2 my-4",children:[pt.jsx(k6,{label:"TV",shape:"circle"}),pt.jsx("span",{className:"font-medium text-xl",children:"Tellus Voxel"})]}),pt.jsx("div",{className:"card flex justify-content-center",children:pt.jsx(WG,{})})]}),pt.jsx("div",{className:"lg:pl-[19.5rem]",children:pt.jsx("div",{className:"max-w-3xl mx-auto relative z-20 xl:max-w-none",children:pt.jsx($V,{})})})]})}function KG(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const XG=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qG=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YG={};function OI(t,e){return((e||YG).jsx?qG:XG).test(t)}const ZG=/[ \t\n\f\r]/g;function JG(t){return typeof t=="object"?t.type==="text"?DI(t.value):!1:DI(t)}function DI(t){return t.replace(ZG,"")===""}class ev{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}ev.prototype.property={};ev.prototype.normal={};ev.prototype.space=null;function j6(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new ev(n,r,e)}function ZE(t){return t.toLowerCase()}class $a{constructor(e,n){this.property=e,this.attribute=n}}$a.prototype.space=null;$a.prototype.boolean=!1;$a.prototype.booleanish=!1;$a.prototype.overloadedBoolean=!1;$a.prototype.number=!1;$a.prototype.commaSeparated=!1;$a.prototype.spaceSeparated=!1;$a.prototype.commaOrSpaceSeparated=!1;$a.prototype.mustUseProperty=!1;$a.prototype.defined=!1;let QG=0;const An=bf(),ri=bf(),G6=bf(),kt=bf(),hr=bf(),uh=bf(),ra=bf();function bf(){return 2**++QG}const JE=Object.freeze(Object.defineProperty({__proto__:null,boolean:An,booleanish:ri,commaOrSpaceSeparated:ra,commaSeparated:uh,number:kt,overloadedBoolean:G6,spaceSeparated:hr},Symbol.toStringTag,{value:"Module"})),hS=Object.keys(JE);class g3 extends $a{constructor(e,n,r,i){let o=-1;if(super(e,n),kI(this,"space",i),typeof r=="number")for(;++o<hS.length;){const a=hS[o];kI(this,hS[o],(r&JE[a])===JE[a])}}}g3.prototype.defined=!0;function kI(t,e,n){n&&(t[e]=n)}const eW={}.hasOwnProperty;function Nh(t){const e={},n={};let r;for(r in t.properties)if(eW.call(t.properties,r)){const i=t.properties[r],o=new g3(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[ZE(r)]=r,n[ZE(o.attribute)]=r}return new ev(e,n,t.space)}const W6=Nh({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),$6=Nh({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function K6(t,e){return e in t?t[e]:e}function X6(t,e){return K6(t,e.toLowerCase())}const q6=Nh({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:X6,properties:{xmlns:null,xmlnsXLink:null}}),Y6=Nh({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ri,ariaAutoComplete:null,ariaBusy:ri,ariaChecked:ri,ariaColCount:kt,ariaColIndex:kt,ariaColSpan:kt,ariaControls:hr,ariaCurrent:null,ariaDescribedBy:hr,ariaDetails:null,ariaDisabled:ri,ariaDropEffect:hr,ariaErrorMessage:null,ariaExpanded:ri,ariaFlowTo:hr,ariaGrabbed:ri,ariaHasPopup:null,ariaHidden:ri,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:hr,ariaLevel:kt,ariaLive:null,ariaModal:ri,ariaMultiLine:ri,ariaMultiSelectable:ri,ariaOrientation:null,ariaOwns:hr,ariaPlaceholder:null,ariaPosInSet:kt,ariaPressed:ri,ariaReadOnly:ri,ariaRelevant:null,ariaRequired:ri,ariaRoleDescription:hr,ariaRowCount:kt,ariaRowIndex:kt,ariaRowSpan:kt,ariaSelected:ri,ariaSetSize:kt,ariaSort:null,ariaValueMax:kt,ariaValueMin:kt,ariaValueNow:kt,ariaValueText:null,role:null}}),tW=Nh({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:X6,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:uh,acceptCharset:hr,accessKey:hr,action:null,allow:null,allowFullScreen:An,allowPaymentRequest:An,allowUserMedia:An,alt:null,as:null,async:An,autoCapitalize:null,autoComplete:hr,autoFocus:An,autoPlay:An,blocking:hr,capture:null,charSet:null,checked:An,cite:null,className:hr,cols:kt,colSpan:null,content:null,contentEditable:ri,controls:An,controlsList:hr,coords:kt|uh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:An,defer:An,dir:null,dirName:null,disabled:An,download:G6,draggable:ri,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:An,formTarget:null,headers:hr,height:kt,hidden:An,high:kt,href:null,hrefLang:null,htmlFor:hr,httpEquiv:hr,id:null,imageSizes:null,imageSrcSet:null,inert:An,inputMode:null,integrity:null,is:null,isMap:An,itemId:null,itemProp:hr,itemRef:hr,itemScope:An,itemType:hr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:An,low:kt,manifest:null,max:null,maxLength:kt,media:null,method:null,min:null,minLength:kt,multiple:An,muted:An,name:null,nonce:null,noModule:An,noValidate:An,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:An,optimum:kt,pattern:null,ping:hr,placeholder:null,playsInline:An,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:An,referrerPolicy:null,rel:hr,required:An,reversed:An,rows:kt,rowSpan:kt,sandbox:hr,scope:null,scoped:An,seamless:An,selected:An,shadowRootDelegatesFocus:An,shadowRootMode:null,shape:null,size:kt,sizes:null,slot:null,span:kt,spellCheck:ri,src:null,srcDoc:null,srcLang:null,srcSet:null,start:kt,step:null,style:null,tabIndex:kt,target:null,title:null,translate:null,type:null,typeMustMatch:An,useMap:null,value:ri,width:kt,wrap:null,align:null,aLink:null,archive:hr,axis:null,background:null,bgColor:null,border:kt,borderColor:null,bottomMargin:kt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:An,declare:An,event:null,face:null,frame:null,frameBorder:null,hSpace:kt,leftMargin:kt,link:null,longDesc:null,lowSrc:null,marginHeight:kt,marginWidth:kt,noResize:An,noHref:An,noShade:An,noWrap:An,object:null,profile:null,prompt:null,rev:null,rightMargin:kt,rules:null,scheme:null,scrolling:ri,standby:null,summary:null,text:null,topMargin:kt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:kt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:An,disableRemotePlayback:An,prefix:null,property:null,results:kt,security:null,unselectable:null}}),nW=Nh({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:K6,properties:{about:ra,accentHeight:kt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:kt,amplitude:kt,arabicForm:null,ascent:kt,attributeName:null,attributeType:null,azimuth:kt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:kt,by:null,calcMode:null,capHeight:kt,className:hr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:kt,diffuseConstant:kt,direction:null,display:null,dur:null,divisor:kt,dominantBaseline:null,download:An,dx:null,dy:null,edgeMode:null,editable:null,elevation:kt,enableBackground:null,end:null,event:null,exponent:kt,externalResourcesRequired:null,fill:null,fillOpacity:kt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:uh,g2:uh,glyphName:uh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:kt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:kt,horizOriginX:kt,horizOriginY:kt,id:null,ideographic:kt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:kt,k:kt,k1:kt,k2:kt,k3:kt,k4:kt,kernelMatrix:ra,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:kt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:kt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:kt,overlineThickness:kt,paintOrder:null,panose1:null,path:null,pathLength:kt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:hr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:kt,pointsAtY:kt,pointsAtZ:kt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ra,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ra,rev:ra,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ra,requiredFeatures:ra,requiredFonts:ra,requiredFormats:ra,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:kt,specularExponent:kt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:kt,strikethroughThickness:kt,string:null,stroke:null,strokeDashArray:ra,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:kt,strokeOpacity:kt,strokeWidth:null,style:null,surfaceScale:kt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ra,tabIndex:kt,tableValues:null,target:null,targetX:kt,targetY:kt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ra,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:kt,underlineThickness:kt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:kt,values:null,vAlphabetic:kt,vMathematical:kt,vectorEffect:null,vHanging:kt,vIdeographic:kt,version:null,vertAdvY:kt,vertOriginX:kt,vertOriginY:kt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:kt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),rW=/^data[-\w.:]+$/i,LI=/-[a-z]/g,iW=/[A-Z]/g;function oW(t,e){const n=ZE(e);let r=e,i=$a;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rW.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(LI,sW);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!LI.test(o)){let a=o.replace(iW,aW);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=g3}return new i(r,e)}function aW(t){return"-"+t.toLowerCase()}function sW(t){return t.charAt(1).toUpperCase()}const lW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},uW=j6([$6,W6,q6,Y6,tW],"html"),v3=j6([$6,W6,q6,Y6,nW],"svg");function cW(t){return t.join(" ").trim()}var Z6={},NI=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,fW=/\n/g,dW=/^\s*/,hW=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,pW=/^:\s*/,mW=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,gW=/^[;\s]*/,vW=/^\s+|\s+$/g,yW=`
`,FI="/",UI="*",Ac="",xW="comment",bW="declaration",wW=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var b=v.match(fW);b&&(n+=b.length);var y=v.lastIndexOf(yW);r=~y?v.length-y:r+v.length}function o(){var v={line:n,column:r};return function(b){return b.position=new a(v),u(),b}}function a(v){this.start=v,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function s(v){var b=new Error(e.source+":"+n+":"+r+": "+v);if(b.reason=v,b.filename=e.source,b.line=n,b.column=r,b.source=t,!e.silent)throw b}function l(v){var b=v.exec(t);if(b){var y=b[0];return i(y),t=t.slice(y.length),b}}function u(){l(dW)}function c(v){var b;for(v=v||[];b=f();)b!==!1&&v.push(b);return v}function f(){var v=o();if(!(FI!=t.charAt(0)||UI!=t.charAt(1))){for(var b=2;Ac!=t.charAt(b)&&(UI!=t.charAt(b)||FI!=t.charAt(b+1));)++b;if(b+=2,Ac===t.charAt(b-1))return s("End of comment missing");var y=t.slice(2,b-2);return r+=2,i(y),t=t.slice(b),r+=2,v({type:xW,comment:y})}}function p(){var v=o(),b=l(hW);if(b){if(f(),!l(pW))return s("property missing ':'");var y=l(mW),g=v({type:bW,property:zI(b[0].replace(NI,Ac)),value:y?zI(y[0].replace(NI,Ac)):Ac});return l(gW),g}}function m(){var v=[];c(v);for(var b;b=p();)b!==!1&&(v.push(b),c(v));return v}return u(),m()};function zI(t){return t?t.replace(vW,Ac):Ac}var SW=AR&&AR.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Z6,"__esModule",{value:!0});var _W=SW(wW);function EW(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,_W.default)(t),i=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var a=o.property,s=o.value;i?e(a,s,o):s&&(n=n||{},n[a]=s)}}),n}var BI=Z6.default=EW;const CW=BI.default||BI,J6=Q6("end"),y3=Q6("start");function Q6(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function MW(t){const e=y3(t),n=J6(t);if(e&&n)return{start:e,end:n}}function hm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?HI(t.position):"start"in t||"end"in t?HI(t):"line"in t||"column"in t?QE(t):""}function QE(t){return VI(t&&t.line)+":"+VI(t&&t.column)}function HI(t){return QE(t&&t.start)+"-"+QE(t&&t.end)}function VI(t){return t&&typeof t=="number"?t:1}class co extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=hm(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}co.prototype.file="";co.prototype.name="";co.prototype.reason="";co.prototype.message="";co.prototype.stack="";co.prototype.column=void 0;co.prototype.line=void 0;co.prototype.ancestors=void 0;co.prototype.cause=void 0;co.prototype.fatal=void 0;co.prototype.place=void 0;co.prototype.ruleId=void 0;co.prototype.source=void 0;const x3={}.hasOwnProperty,TW=new Map,PW=/[A-Z]/g,RW=/-([a-z])/g,AW=new Set(["table","tbody","thead","tfoot","tr"]),IW=new Set(["td","th"]),e5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function OW(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=BW(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=zW(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?v3:uW,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=t5(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function t5(t,e,n){if(e.type==="element")return DW(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return kW(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return NW(t,e,n);if(e.type==="mdxjsEsm")return LW(t,e);if(e.type==="root")return FW(t,e,n);if(e.type==="text")return UW(t,e)}function DW(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=v3,t.schema=i),t.ancestors.push(e);const o=r5(t,e.tagName,!1),a=HW(t,e);let s=w3(t,e);return AW.has(e.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!JG(l):!0})),n5(t,a,o,e),b3(a,s),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function kW(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}rg(t,e.position)}function LW(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);rg(t,e.position)}function NW(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=v3,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:r5(t,e.name,!0),a=VW(t,e),s=w3(t,e);return n5(t,a,o,e),b3(a,s),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function FW(t,e,n){const r={};return b3(r,w3(t,e)),t.create(e,t.Fragment,r,n)}function UW(t,e){return e.value}function n5(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function b3(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function zW(t,e,n){return r;function r(i,o,a,s){const u=Array.isArray(a.children)?n:e;return s?u(o,a,s):u(o,a)}}function BW(t,e){return n;function n(r,i,o,a){const s=Array.isArray(o.children),l=y3(r);return e(i,o,a,s,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function HW(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&x3.call(e.properties,i)){const o=jW(t,i,e.properties[i]);if(o){const[a,s]=o;t.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&IW.has(e.tagName)?r=s:n[a]=s}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function VW(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(n,t.evaluater.evaluateExpression(s.argument))}else rg(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const s=r.value.data.estree.body[0];s.type,o=t.evaluater.evaluateExpression(s.expression)}else rg(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function w3(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:TW;for(;++r<e.children.length;){const o=e.children[r];let a;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const s=t5(t,o,a);s!==void 0&&n.push(s)}return n}function jW(t,e,n){const r=oW(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?KG(n):cW(n)),r.property==="style"){let i=typeof n=="object"?n:GW(t,String(n));return t.stylePropertyNameCase==="css"&&(i=WW(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?lW[r.property]||r.property:r.attribute,n]}}function GW(t,e){const n={};try{CW(e,r)}catch(i){if(!t.ignoreInvalidStyle){const o=i,a=new co("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=e5+"#cannot-parse-style-attribute",a}}return n;function r(i,o){let a=i;a.slice(0,2)!=="--"&&(a.slice(0,4)==="-ms-"&&(a="ms-"+a.slice(4)),a=a.replace(RW,KW)),n[a]=o}}function r5(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,a;for(;++o<i.length;){const s=OI(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=a}else r=OI(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return x3.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);rg(t)}function rg(t,e){const n=new co("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=e5+"#cannot-handle-mdx-estrees-without-createevaluater",n}function WW(t){const e={};let n;for(n in t)x3.call(t,n)&&(e[$W(n)]=t[n]);return e}function $W(t){let e=t.replace(PW,XW);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function KW(t,e){return e.toUpperCase()}function XW(t){return"-"+t.toLowerCase()}const pS={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qW={};function S3(t,e){const n=e||qW,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return i5(t,r,i)}function i5(t,e,n){if(YW(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return jI(t.children,e,n)}return Array.isArray(t)?jI(t,e,n):""}function jI(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=i5(t[i],e,n);return r.join("")}function YW(t){return!!(t&&typeof t=="object")}const GI=document.createElement("i");function _3(t){const e="&"+t+";";GI.innerHTML=e;const n=GI.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function fa(t,e,n,r){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function Fa(t,e){return t.length>0?(fa(t,t.length,0,e),t):e}const WI={}.hasOwnProperty;function o5(t){const e={};let n=-1;for(;++n<t.length;)ZW(e,t[n]);return e}function ZW(t,e){let n;for(n in e){const i=(WI.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;if(o)for(a in o){WI.call(i,a)||(i[a]=[]);const s=o[a];JW(i[a],Array.isArray(s)?s:s?[s]:[])}}}function JW(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);fa(t,0,0,r)}function a5(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function vs(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const So=Gu(/[A-Za-z]/),oo=Gu(/[\dA-Za-z]/),QW=Gu(/[#-'*+\--9=?A-Z^-~]/);function sx(t){return t!==null&&(t<32||t===127)}const eC=Gu(/\d/),e$=Gu(/[\dA-Fa-f]/),t$=Gu(/[!-/:-@[-`{-~]/);function vn(t){return t!==null&&t<-2}function fr(t){return t!==null&&(t<0||t===32)}function Un(t){return t===-2||t===-1||t===32}const ib=Gu(new RegExp("\\p{P}|\\p{S}","u")),ff=Gu(/\s/);function Gu(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Fh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let a="";if(o===37&&oo(t.charCodeAt(n+1))&&oo(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=t.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a=""}else a=String.fromCharCode(o);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function $n(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return Un(l)?(t.enter(n),s(l)):e(l)}function s(l){return Un(l)&&o++<i?(t.consume(l),s):(t.exit(n),e(l))}}const n$={tokenize:r$};function r$(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),$n(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return vn(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),a)}}const i$={tokenize:o$},$I={tokenize:a$};function o$(t){const e=this,n=[];let r=0,i,o,a;return s;function s(w){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const C=e.events.length;let R=C,E;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){E=e.events[R][1].end;break}g(r);let P=C;for(;P<e.events.length;)e.events[P][1].end=Object.assign({},E),P++;return fa(e.events,R+1,0,e.events.slice(C)),e.events.length=P,u(w)}return s(w)}function u(w){if(r===n.length){if(!i)return p(w);if(i.currentConstruct&&i.currentConstruct.concrete)return v(w);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check($I,c,f)(w)}function c(w){return i&&x(),g(r),p(w)}function f(w){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,v(w)}function p(w){return e.containerState={},t.attempt($I,m,v)(w)}function m(w){return r++,n.push([e.currentConstruct,e.containerState]),p(w)}function v(w){if(w===null){i&&x(),g(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),b(w)}function b(w){if(w===null){y(t.exit("chunkFlow"),!0),g(0),t.consume(w);return}return vn(w)?(t.consume(w),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,s):(t.consume(w),b)}function y(w,C){const R=e.sliceStream(w);if(C&&R.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write(R),e.parser.lazy[w.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<a&&(!i.events[E][1].end||i.events[E][1].end.offset>a))return;const P=e.events.length;let D=P,L,M;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){if(L){M=e.events[D][1].end;break}L=!0}for(g(r),E=P;E<e.events.length;)e.events[E][1].end=Object.assign({},M),E++;fa(e.events,D+1,0,e.events.slice(P)),e.events.length=E}}function g(w){let C=n.length;for(;C-- >w;){const R=n[C];e.containerState=R[1],R[0].exit.call(e,t)}n.length=w}function x(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function a$(t,e,n){return $n(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lx(t){if(t===null||fr(t)||ff(t))return 1;if(ib(t))return 2}function ob(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const tC={name:"attention",tokenize:l$,resolveAll:s$};function s$(t,e){let n=-1,r,i,o,a,s,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f=Object.assign({},t[r][1].end),p=Object.assign({},t[n][1].start);KI(f,-l),KI(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[r][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:p},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},s.end)},t[r][1].end=Object.assign({},a.start),t[n][1].start=Object.assign({},s.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Fa(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Fa(u,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),u=Fa(u,ob(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Fa(u,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Fa(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,fa(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function l$(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=lx(r);let o;return a;function a(l){return o=l,t.enter("attentionSequence"),s(l)}function s(l){if(l===o)return t.consume(l),s;const u=t.exit("attentionSequence"),c=lx(l),f=!c||c===2&&i||n.includes(l),p=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!p)),u._close=!!(o===42?p:p&&(c||!f)),e(l)}}function KI(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const u$={name:"autolink",tokenize:c$};function c$(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(m){return So(m)?(t.consume(m),a):u(m)}function a(m){return m===43||m===45||m===46||oo(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||oo(m))&&r++<32?(t.consume(m),s):(r=0,u(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||sx(m)?n(m):(t.consume(m),l)}function u(m){return m===64?(t.consume(m),c):QW(m)?(t.consume(m),u):n(m)}function c(m){return oo(m)?f(m):n(m)}function f(m){return m===46?(t.consume(m),r=0,c):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):p(m)}function p(m){if((m===45||oo(m))&&r++<63){const v=m===45?p:f;return t.consume(m),v}return n(m)}}const tv={tokenize:f$,partial:!0};function f$(t,e,n){return r;function r(o){return Un(o)?$n(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||vn(o)?e(o):n(o)}}const s5={name:"blockQuote",tokenize:d$,continuation:{tokenize:h$},exit:p$};function d$(t,e,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Un(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function h$(t,e,n){const r=this;return i;function i(a){return Un(a)?$n(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(s5,e,n)(a)}}function p$(t){t.exit("blockQuote")}const l5={name:"characterEscape",tokenize:m$};function m$(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return t$(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const u5={name:"characterReference",tokenize:g$};function g$(t,e,n){const r=this;let i=0,o,a;return s;function s(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,a=oo,c(f))}function u(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=e$,c):(t.enter("characterReferenceValue"),o=7,a=eC,c(f))}function c(f){if(f===59&&i){const p=t.exit("characterReferenceValue");return a===oo&&!_3(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(f)&&i++<o?(t.consume(f),c):n(f)}}const XI={tokenize:y$,partial:!0},qI={name:"codeFenced",tokenize:v$,concrete:!0};function v$(t,e,n){const r=this,i={tokenize:R,partial:!0};let o=0,a=0,s;return l;function l(E){return u(E)}function u(E){const P=r.events[r.events.length-1];return o=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,s=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(E)}function c(E){return E===s?(a++,t.consume(E),c):a<3?n(E):(t.exit("codeFencedFenceSequence"),Un(E)?$n(t,f,"whitespace")(E):f(E))}function f(E){return E===null||vn(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(XI,b,C)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(E))}function p(E){return E===null||vn(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(E)):Un(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),$n(t,m,"whitespace")(E)):E===96&&E===s?n(E):(t.consume(E),p)}function m(E){return E===null||vn(E)?f(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===null||vn(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(E)):E===96&&E===s?n(E):(t.consume(E),v)}function b(E){return t.attempt(i,C,y)(E)}function y(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),g}function g(E){return o>0&&Un(E)?$n(t,x,"linePrefix",o+1)(E):x(E)}function x(E){return E===null||vn(E)?t.check(XI,b,C)(E):(t.enter("codeFlowValue"),w(E))}function w(E){return E===null||vn(E)?(t.exit("codeFlowValue"),x(E)):(t.consume(E),w)}function C(E){return t.exit("codeFenced"),e(E)}function R(E,P,D){let L=0;return M;function M(fe){return E.enter("lineEnding"),E.consume(fe),E.exit("lineEnding"),I}function I(fe){return E.enter("codeFencedFence"),Un(fe)?$n(E,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(fe):V(fe)}function V(fe){return fe===s?(E.enter("codeFencedFenceSequence"),Z(fe)):D(fe)}function Z(fe){return fe===s?(L++,E.consume(fe),Z):L>=a?(E.exit("codeFencedFenceSequence"),Un(fe)?$n(E,j,"whitespace")(fe):j(fe)):D(fe)}function j(fe){return fe===null||vn(fe)?(E.exit("codeFencedFence"),P(fe)):D(fe)}}}function y$(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const mS={name:"codeIndented",tokenize:b$},x$={tokenize:w$,partial:!0};function b$(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),$n(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):vn(u)?t.attempt(x$,a,l)(u):(t.enter("codeFlowValue"),s(u))}function s(u){return u===null||vn(u)?(t.exit("codeFlowValue"),a(u)):(t.consume(u),s)}function l(u){return t.exit("codeIndented"),e(u)}}function w$(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):vn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):$n(t,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):vn(a)?i(a):n(a)}}const S$={name:"codeText",tokenize:C$,resolve:_$,previous:E$};function _$(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function E$(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function C$(t,e,n){let r=0,i,o;return a;function a(f){return t.enter("codeText"),t.enter("codeTextSequence"),s(f)}function s(f){return f===96?(t.consume(f),r++,s):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(o=t.enter("codeTextSequence"),i=0,c(f)):vn(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||vn(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),u)}function c(f){return f===96?(t.consume(f),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(o.type="codeTextData",u(f))}}function c5(t){const e={};let n=-1,r,i,o,a,s,l,u;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,M$(t,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(a=t[o],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},t[i][1].start),s=t.slice(i,n),s.unshift(r),fa(t,i,n-i+1,s))}}return!u}function M$(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const o=[],a=n._tokenizer||r.parser[n.contentType](n.start),s=a.events,l=[],u={};let c,f,p=-1,m=n,v=0,b=0;const y=[b];for(;m;){for(;t[++i][1]!==m;);o.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),f&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(b=p+1,y.push(b),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),p=y.length;p--;){const g=s.slice(y[p],y[p+1]),x=o.pop();l.unshift([x,x+g.length-1]),fa(t,x,2,g)}for(p=-1;++p<l.length;)u[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return u}const T$={tokenize:A$,resolve:R$},P$={tokenize:I$,partial:!0};function R$(t){return c5(t),t}function A$(t,e){let n;return r;function r(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):vn(s)?t.check(P$,a,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function a(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function I$(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),$n(t,o,"linePrefix")}function o(a){if(a===null||vn(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function f5(t,e,n,r,i,o,a,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(g),t.exit(o),p):g===null||g===32||g===41||sx(g)?n(g):(t.enter(r),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),b(g))}function p(g){return g===62?(t.enter(o),t.consume(g),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(t.exit("chunkString"),t.exit(s),p(g)):g===null||g===60||vn(g)?n(g):(t.consume(g),g===92?v:m)}function v(g){return g===60||g===62||g===92?(t.consume(g),m):m(g)}function b(g){return!c&&(g===null||g===41||fr(g))?(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(g)):c<u&&g===40?(t.consume(g),c++,b):g===41?(t.consume(g),c--,b):g===null||g===32||g===40||sx(g)?n(g):(t.consume(g),g===92?y:b)}function y(g){return g===40||g===41||g===92?(t.consume(g),b):b(g)}}function d5(t,e,n,r,i,o){const a=this;let s=0,l;return u;function u(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(o),c}function c(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(m):m===93?(t.exit(o),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):vn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||vn(m)||s++>999?(t.exit("chunkString"),c(m)):(t.consume(m),l||(l=!Un(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(t.consume(m),s++,f):f(m)}}function h5(t,e,n,r,i,o){let a;return s;function s(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),a=p===40?41:p,l):n(p)}function l(p){return p===a?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(o),u(p))}function u(p){return p===a?(t.exit(o),l(a)):p===null?n(p):vn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),$n(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===a||p===null||vn(p)?(t.exit("chunkString"),u(p)):(t.consume(p),p===92?f:c)}function f(p){return p===a||p===92?(t.consume(p),c):c(p)}}function pm(t,e){let n;return r;function r(i){return vn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Un(i)?$n(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const O$={name:"definition",tokenize:k$},D$={tokenize:L$,partial:!0};function k$(t,e,n){const r=this;let i;return o;function o(m){return t.enter("definition"),a(m)}function a(m){return d5.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=vs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return fr(m)?pm(t,u)(m):u(m)}function u(m){return f5(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function c(m){return t.attempt(D$,f,f)(m)}function f(m){return Un(m)?$n(t,p,"whitespace")(m):p(m)}function p(m){return m===null||vn(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function L$(t,e,n){return r;function r(s){return fr(s)?pm(t,i)(s):n(s)}function i(s){return h5(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Un(s)?$n(t,a,"whitespace")(s):a(s)}function a(s){return s===null||vn(s)?e(s):n(s)}}const N$={name:"hardBreakEscape",tokenize:F$};function F$(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return vn(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const U$={name:"headingAtx",tokenize:B$,resolve:z$};function z$(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},fa(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function B$(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),o(c)}function o(c){return t.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(t.consume(c),a):c===null||fr(c)?(t.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||vn(c)?(t.exit("atxHeading"),e(c)):Un(c)?$n(t,s,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||fr(c)?(t.exit("atxHeadingText"),s(c)):(t.consume(c),u)}}const H$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],YI=["pre","script","style","textarea"],V$={name:"htmlFlow",tokenize:$$,resolveTo:W$,concrete:!0},j$={tokenize:X$,partial:!0},G$={tokenize:K$,partial:!0};function W$(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function $$(t,e,n){const r=this;let i,o,a,s,l;return u;function u(K){return c(K)}function c(K){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(K),f}function f(K){return K===33?(t.consume(K),p):K===47?(t.consume(K),o=!0,b):K===63?(t.consume(K),i=3,r.interrupt?e:F):So(K)?(t.consume(K),a=String.fromCharCode(K),y):n(K)}function p(K){return K===45?(t.consume(K),i=2,m):K===91?(t.consume(K),i=5,s=0,v):So(K)?(t.consume(K),i=4,r.interrupt?e:F):n(K)}function m(K){return K===45?(t.consume(K),r.interrupt?e:F):n(K)}function v(K){const ge="CDATA[";return K===ge.charCodeAt(s++)?(t.consume(K),s===ge.length?r.interrupt?e:V:v):n(K)}function b(K){return So(K)?(t.consume(K),a=String.fromCharCode(K),y):n(K)}function y(K){if(K===null||K===47||K===62||fr(K)){const ge=K===47,ze=a.toLowerCase();return!ge&&!o&&YI.includes(ze)?(i=1,r.interrupt?e(K):V(K)):H$.includes(a.toLowerCase())?(i=6,ge?(t.consume(K),g):r.interrupt?e(K):V(K)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(K):o?x(K):w(K))}return K===45||oo(K)?(t.consume(K),a+=String.fromCharCode(K),y):n(K)}function g(K){return K===62?(t.consume(K),r.interrupt?e:V):n(K)}function x(K){return Un(K)?(t.consume(K),x):M(K)}function w(K){return K===47?(t.consume(K),M):K===58||K===95||So(K)?(t.consume(K),C):Un(K)?(t.consume(K),w):M(K)}function C(K){return K===45||K===46||K===58||K===95||oo(K)?(t.consume(K),C):R(K)}function R(K){return K===61?(t.consume(K),E):Un(K)?(t.consume(K),R):w(K)}function E(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(t.consume(K),l=K,P):Un(K)?(t.consume(K),E):D(K)}function P(K){return K===l?(t.consume(K),l=null,L):K===null||vn(K)?n(K):(t.consume(K),P)}function D(K){return K===null||K===34||K===39||K===47||K===60||K===61||K===62||K===96||fr(K)?R(K):(t.consume(K),D)}function L(K){return K===47||K===62||Un(K)?w(K):n(K)}function M(K){return K===62?(t.consume(K),I):n(K)}function I(K){return K===null||vn(K)?V(K):Un(K)?(t.consume(K),I):n(K)}function V(K){return K===45&&i===2?(t.consume(K),ye):K===60&&i===1?(t.consume(K),ve):K===62&&i===4?(t.consume(K),ce):K===63&&i===3?(t.consume(K),F):K===93&&i===5?(t.consume(K),ne):vn(K)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(j$,se,Z)(K)):K===null||vn(K)?(t.exit("htmlFlowData"),Z(K)):(t.consume(K),V)}function Z(K){return t.check(G$,j,se)(K)}function j(K){return t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),fe}function fe(K){return K===null||vn(K)?Z(K):(t.enter("htmlFlowData"),V(K))}function ye(K){return K===45?(t.consume(K),F):V(K)}function ve(K){return K===47?(t.consume(K),a="",X):V(K)}function X(K){if(K===62){const ge=a.toLowerCase();return YI.includes(ge)?(t.consume(K),ce):V(K)}return So(K)&&a.length<8?(t.consume(K),a+=String.fromCharCode(K),X):V(K)}function ne(K){return K===93?(t.consume(K),F):V(K)}function F(K){return K===62?(t.consume(K),ce):K===45&&i===2?(t.consume(K),F):V(K)}function ce(K){return K===null||vn(K)?(t.exit("htmlFlowData"),se(K)):(t.consume(K),ce)}function se(K){return t.exit("htmlFlow"),e(K)}}function K$(t,e,n){const r=this;return i;function i(a){return vn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function X$(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(tv,e,n)}}const q$={name:"htmlText",tokenize:Y$};function Y$(t,e,n){const r=this;let i,o,a;return s;function s(F){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(F),l}function l(F){return F===33?(t.consume(F),u):F===47?(t.consume(F),R):F===63?(t.consume(F),w):So(F)?(t.consume(F),D):n(F)}function u(F){return F===45?(t.consume(F),c):F===91?(t.consume(F),o=0,v):So(F)?(t.consume(F),x):n(F)}function c(F){return F===45?(t.consume(F),m):n(F)}function f(F){return F===null?n(F):F===45?(t.consume(F),p):vn(F)?(a=f,ve(F)):(t.consume(F),f)}function p(F){return F===45?(t.consume(F),m):f(F)}function m(F){return F===62?ye(F):F===45?p(F):f(F)}function v(F){const ce="CDATA[";return F===ce.charCodeAt(o++)?(t.consume(F),o===ce.length?b:v):n(F)}function b(F){return F===null?n(F):F===93?(t.consume(F),y):vn(F)?(a=b,ve(F)):(t.consume(F),b)}function y(F){return F===93?(t.consume(F),g):b(F)}function g(F){return F===62?ye(F):F===93?(t.consume(F),g):b(F)}function x(F){return F===null||F===62?ye(F):vn(F)?(a=x,ve(F)):(t.consume(F),x)}function w(F){return F===null?n(F):F===63?(t.consume(F),C):vn(F)?(a=w,ve(F)):(t.consume(F),w)}function C(F){return F===62?ye(F):w(F)}function R(F){return So(F)?(t.consume(F),E):n(F)}function E(F){return F===45||oo(F)?(t.consume(F),E):P(F)}function P(F){return vn(F)?(a=P,ve(F)):Un(F)?(t.consume(F),P):ye(F)}function D(F){return F===45||oo(F)?(t.consume(F),D):F===47||F===62||fr(F)?L(F):n(F)}function L(F){return F===47?(t.consume(F),ye):F===58||F===95||So(F)?(t.consume(F),M):vn(F)?(a=L,ve(F)):Un(F)?(t.consume(F),L):ye(F)}function M(F){return F===45||F===46||F===58||F===95||oo(F)?(t.consume(F),M):I(F)}function I(F){return F===61?(t.consume(F),V):vn(F)?(a=I,ve(F)):Un(F)?(t.consume(F),I):L(F)}function V(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),i=F,Z):vn(F)?(a=V,ve(F)):Un(F)?(t.consume(F),V):(t.consume(F),j)}function Z(F){return F===i?(t.consume(F),i=void 0,fe):F===null?n(F):vn(F)?(a=Z,ve(F)):(t.consume(F),Z)}function j(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||fr(F)?L(F):(t.consume(F),j)}function fe(F){return F===47||F===62||fr(F)?L(F):n(F)}function ye(F){return F===62?(t.consume(F),t.exit("htmlTextData"),t.exit("htmlText"),e):n(F)}function ve(F){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),X}function X(F){return Un(F)?$n(t,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):ne(F)}function ne(F){return t.enter("htmlTextData"),a(F)}}const E3={name:"labelEnd",tokenize:nK,resolveTo:tK,resolveAll:eK},Z$={tokenize:rK},J$={tokenize:iK},Q$={tokenize:oK};function eK(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function tK(t,e){let n=t.length,r=0,i,o,a,s;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[a][1].end)},c={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[a-2][1].start)};return s=[["enter",l,e],["enter",u,e]],s=Fa(s,t.slice(o+1,o+r+3)),s=Fa(s,[["enter",c,e]]),s=Fa(s,ob(e.parser.constructs.insideSpan.null,t.slice(o+r+4,a-3),e)),s=Fa(s,[["exit",c,e],t[a-2],t[a-1],["exit",u,e]]),s=Fa(s,t.slice(a+1)),s=Fa(s,[["exit",l,e]]),fa(t,o,t.length,s),t}function nK(t,e,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(p){return o?o._inactive?f(p):(a=r.parser.defined.includes(vs(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(Z$,c,a?c:f)(p):p===91?t.attempt(J$,c,a?u:f)(p):a?c(p):f(p)}function u(p){return t.attempt(Q$,c,f)(p)}function c(p){return e(p)}function f(p){return o._balanced=!0,n(p)}}function rK(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return fr(f)?pm(t,o)(f):o(f)}function o(f){return f===41?c(f):f5(t,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return fr(f)?pm(t,l)(f):c(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?h5(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return fr(f)?pm(t,c)(f):c(f)}function c(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function iK(t,e,n){const r=this;return i;function i(s){return d5.call(r,t,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(vs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function a(s){return n(s)}}function oK(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const aK={name:"labelStartImage",tokenize:sK,resolveAll:E3.resolveAll};function sK(t,e,n){const r=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const lK={name:"labelStartLink",tokenize:uK,resolveAll:E3.resolveAll};function uK(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const gS={name:"lineEnding",tokenize:cK};function cK(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),$n(t,e,"linePrefix")}}const d1={name:"thematicBreak",tokenize:fK};function fK(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),a(u)}function a(u){return i=u,s(u)}function s(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||vn(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Un(u)?$n(t,s,"whitespace")(u):s(u))}}const Uo={name:"list",tokenize:pK,continuation:{tokenize:mK},exit:vK},dK={tokenize:yK,partial:!0},hK={tokenize:gK,partial:!0};function pK(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:eC(m)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(d1,n,u)(m):u(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return eC(m)&&++a<10?(t.consume(m),l):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),u(m)):n(m)}function u(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(tv,r.interrupt?n:c,t.attempt(dK,p,f))}function c(m){return r.containerState.initialBlankLine=!0,o++,p(m)}function f(m){return Un(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function mK(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(tv,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,$n(t,e,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!Un(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(hK,e,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,$n(t,t.attempt(Uo,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function gK(t,e,n){const r=this;return $n(t,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(o):n(o)}}function vK(t){t.exit(this.containerState.type)}function yK(t,e,n){const r=this;return $n(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!Un(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const ZI={name:"setextUnderline",tokenize:bK,resolveTo:xK};function xK(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=a,t.push(["exit",a,e]),t}function bK(t,e,n){const r=this;let i;return o;function o(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return t.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(t.consume(u),s):(t.exit("setextHeadingLineSequence"),Un(u)?$n(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||vn(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const wK={tokenize:SK};function SK(t){const e=this,n=t.attempt(tv,r,t.attempt(this.parser.constructs.flowInitial,i,$n(t,t.attempt(this.parser.constructs.flow,i,t.attempt(T$,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const _K={resolveAll:m5()},EK=p5("string"),CK=p5("text");function p5(t){return{tokenize:e,resolveAll:m5(t==="text"?MK:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,a,s);return a;function a(c){return u(c)?o(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function m5(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function MK(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(u===-2)l=!0,s++;else if(u!==-1){o++;break}}if(s){const u={type:n===t.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+o,_bufferIndex:o?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function TK(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let a=[],s=[];const l={consume:x,enter:w,exit:C,attempt:P(R),check:P(E),interrupt:P(E,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:p,now:v,defineSkip:b,write:f};let c=e.tokenize.call(u,l);return e.resolveAll&&o.push(e),u;function f(I){return a=Fa(a,I),y(),a[a.length-1]!==null?[]:(D(e,0),u.events=ob(o,u.events,u),u.events)}function p(I,V){return RK(m(I),V)}function m(I){return PK(a,I)}function v(){const{line:I,column:V,offset:Z,_index:j,_bufferIndex:fe}=r;return{line:I,column:V,offset:Z,_index:j,_bufferIndex:fe}}function b(I){i[I.line]=I.column,M()}function y(){let I;for(;r._index<a.length;){const V=a[r._index];if(typeof V=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<V.length;)g(V.charCodeAt(r._bufferIndex));else g(V)}}function g(I){c=c(I)}function x(I){vn(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,M()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function w(I,V){const Z=V||{};return Z.type=I,Z.start=v(),u.events.push(["enter",Z,u]),s.push(Z),Z}function C(I){const V=s.pop();return V.end=v(),u.events.push(["exit",V,u]),V}function R(I,V){D(I,V.from)}function E(I,V){V.restore()}function P(I,V){return Z;function Z(j,fe,ye){let ve,X,ne,F;return Array.isArray(j)?se(j):"tokenize"in j?se([j]):ce(j);function ce(Be){return st;function st(it){const gt=it!==null&&Be[it],yt=it!==null&&Be.null,je=[...Array.isArray(gt)?gt:gt?[gt]:[],...Array.isArray(yt)?yt:yt?[yt]:[]];return se(je)(it)}}function se(Be){return ve=Be,X=0,Be.length===0?ye:K(Be[X])}function K(Be){return st;function st(it){return F=L(),ne=Be,Be.partial||(u.currentConstruct=Be),Be.name&&u.parser.constructs.disable.null.includes(Be.name)?ze():Be.tokenize.call(V?Object.assign(Object.create(u),V):u,l,ge,ze)(it)}}function ge(Be){return I(ne,F),fe}function ze(Be){return F.restore(),++X<ve.length?K(ve[X]):ye}}}function D(I,V){I.resolveAll&&!o.includes(I)&&o.push(I),I.resolve&&fa(u.events,V,u.events.length-V,I.resolve(u.events.slice(V),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function L(){const I=v(),V=u.previous,Z=u.currentConstruct,j=u.events.length,fe=Array.from(s);return{restore:ye,from:j};function ye(){r=I,u.previous=V,u.currentConstruct=Z,u.events.length=j,s=fe,M()}}function M(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function PK(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,o)];else{if(a=t.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function RK(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}const AK={42:Uo,43:Uo,45:Uo,48:Uo,49:Uo,50:Uo,51:Uo,52:Uo,53:Uo,54:Uo,55:Uo,56:Uo,57:Uo,62:s5},IK={91:O$},OK={[-2]:mS,[-1]:mS,32:mS},DK={35:U$,42:d1,45:[ZI,d1],60:V$,61:ZI,95:d1,96:qI,126:qI},kK={38:u5,92:l5},LK={[-5]:gS,[-4]:gS,[-3]:gS,33:aK,38:u5,42:tC,60:[u$,q$],91:lK,92:[N$,l5],93:E3,95:tC,96:S$},NK={null:[tC,_K]},FK={null:[42,95]},UK={null:[]},zK=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:FK,contentInitial:IK,disable:UK,document:AK,flow:DK,flowInitial:OK,insideSpan:NK,string:kK,text:LK},Symbol.toStringTag,{value:"Module"}));function BK(t){const n=o5([zK,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(n$),document:i(i$),flow:i(wK),string:i(EK),text:i(CK)};return r;function i(o){return a;function a(s){return TK(r,o,s)}}}function HK(t){for(;!c5(t););return t}const JI=/[\0\t\n\r]/g;function VK(){let t=1,e="",n=!0,r;return i;function i(o,a,s){const l=[];let u,c,f,p,m;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),f=0,e="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(JI.lastIndex=f,u=JI.exec(o),p=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(p),!u){e=o.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(o.slice(f,p)),t+=p-f),m){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return s&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const jK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function GK(t){return t.replace(jK,WK)}function WK(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return a5(n.slice(o?2:1),o?16:10)}return _3(n)||t}const g5={}.hasOwnProperty;function $K(t,e,n){return typeof e!="string"&&(n=e,e=void 0),KK(n)(HK(BK(n).document().write(VK()(t,e,!0))))}function KK(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(J),autolinkProtocol:L,autolinkEmail:L,atxHeading:o(Me),blockQuote:o(gt),characterEscape:L,characterReference:L,codeFenced:o(yt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(yt,a),codeText:o(je,a),codeTextData:L,data:L,codeFlowValue:L,definition:o(Y),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Fe),hardBreakEscape:o(et),hardBreakTrailing:o(et),htmlFlow:o(Ve,a),htmlFlowData:L,htmlText:o(Ve,a),htmlTextData:L,image:o(lt),label:a,link:o(J),listItem:o(xe),listItemValue:p,listOrdered:o(Q,f),listUnordered:o(Q),paragraph:o(B),reference:K,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(Me),strong:o(O),thematicBreak:o(he)},exit:{atxHeading:l(),atxHeadingSequence:R,autolink:l(),autolinkEmail:it,autolinkProtocol:st,blockQuote:l(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:ze,characterReferenceMarkerNumeric:ze,characterReferenceValue:Be,codeFenced:l(y),codeFencedFence:b,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:M,codeIndented:l(g),codeText:l(fe),codeTextData:M,data:M,definition:l(),definitionDestinationString:C,definitionLabelString:x,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(V),hardBreakTrailing:l(V),htmlFlow:l(Z),htmlFlowData:M,htmlText:l(j),htmlTextData:M,image:l(ve),label:ne,labelText:X,lineEnding:I,link:l(ye),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ge,resourceDestinationString:F,resourceTitleString:ce,resource:se,setextHeading:l(D),setextHeadingLineSequence:P,setextHeadingText:E,strong:l(),thematicBreak:l()}};v5(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(le){let Ee={type:"root",children:[]};const qe={stack:[Ee],tokenStack:[],config:e,enter:s,exit:u,buffer:a,resume:c,data:n},Ke=[];let be=-1;for(;++be<le.length;)if(le[be][1].type==="listOrdered"||le[be][1].type==="listUnordered")if(le[be][0]==="enter")Ke.push(be);else{const Ye=Ke.pop();be=i(le,Ye,be)}for(be=-1;++be<le.length;){const Ye=e[le[be][0]];g5.call(Ye,le[be][1].type)&&Ye[le[be][1].type].call(Object.assign({sliceSerialize:le[be][2].sliceSerialize},qe),le[be][1])}if(qe.tokenStack.length>0){const Ye=qe.tokenStack[qe.tokenStack.length-1];(Ye[1]||QI).call(qe,void 0,Ye[0])}for(Ee.position={start:Xl(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:Xl(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},be=-1;++be<e.transforms.length;)Ee=e.transforms[be](Ee)||Ee;return Ee}function i(le,Ee,qe){let Ke=Ee-1,be=-1,Ye=!1,at,tt,ft,De;for(;++Ke<=qe;){const Le=le[Ke];switch(Le[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Le[0]==="enter"?be++:be--,De=void 0;break}case"lineEndingBlank":{Le[0]==="enter"&&(at&&!De&&!be&&!ft&&(ft=Ke),De=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:De=void 0}if(!be&&Le[0]==="enter"&&Le[1].type==="listItemPrefix"||be===-1&&Le[0]==="exit"&&(Le[1].type==="listUnordered"||Le[1].type==="listOrdered")){if(at){let H=Ke;for(tt=void 0;H--;){const me=le[H];if(me[1].type==="lineEnding"||me[1].type==="lineEndingBlank"){if(me[0]==="exit")continue;tt&&(le[tt][1].type="lineEndingBlank",Ye=!0),me[1].type="lineEnding",tt=H}else if(!(me[1].type==="linePrefix"||me[1].type==="blockQuotePrefix"||me[1].type==="blockQuotePrefixWhitespace"||me[1].type==="blockQuoteMarker"||me[1].type==="listItemIndent"))break}ft&&(!tt||ft<tt)&&(at._spread=!0),at.end=Object.assign({},tt?le[tt][1].start:Le[1].end),le.splice(tt||Ke,0,["exit",at,Le[2]]),Ke++,qe++}if(Le[1].type==="listItemPrefix"){const H={type:"listItem",_spread:!1,start:Object.assign({},Le[1].start),end:void 0};at=H,le.splice(Ke,0,["enter",H,Le[2]]),Ke++,qe++,ft=void 0,De=!0}}}return le[Ee][1]._spread=Ye,qe}function o(le,Ee){return qe;function qe(Ke){s.call(this,le(Ke),Ke),Ee&&Ee.call(this,Ke)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(le,Ee,qe){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([Ee,qe]),le.position={start:Xl(Ee.start),end:void 0}}function l(le){return Ee;function Ee(qe){le&&le.call(this,qe),u.call(this,qe)}}function u(le,Ee){const qe=this.stack.pop(),Ke=this.tokenStack.pop();if(Ke)Ke[0].type!==le.type&&(Ee?Ee.call(this,le,Ke[0]):(Ke[1]||QI).call(this,le,Ke[0]));else throw new Error("Cannot close `"+le.type+"` ("+hm({start:le.start,end:le.end})+"): its not open");qe.position.end=Xl(le.end)}function c(){return S3(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(le){if(this.data.expectingFirstListItemValue){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function m(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=le}function v(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=le}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=le.replace(/(\r?\n|\r)$/g,"")}function x(le){const Ee=this.resume(),qe=this.stack[this.stack.length-1];qe.label=Ee,qe.identifier=vs(this.sliceSerialize(le)).toLowerCase()}function w(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=le}function C(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=le}function R(le){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const qe=this.sliceSerialize(le).length;Ee.depth=qe}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function P(le){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function L(le){const qe=this.stack[this.stack.length-1].children;let Ke=qe[qe.length-1];(!Ke||Ke.type!=="text")&&(Ke=ee(),Ke.position={start:Xl(le.start),end:void 0},qe.push(Ke)),this.stack.push(Ke)}function M(le){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(le),Ee.position.end=Xl(le.end)}function I(le){const Ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const qe=Ee.children[Ee.children.length-1];qe.position.end=Xl(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ee.type)&&(L.call(this,le),M.call(this,le))}function V(){this.data.atHardBreak=!0}function Z(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=le}function j(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=le}function fe(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=le}function ye(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=Ee,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function ve(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=Ee,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function X(le){const Ee=this.sliceSerialize(le),qe=this.stack[this.stack.length-2];qe.label=GK(Ee),qe.identifier=vs(Ee).toLowerCase()}function ne(){const le=this.stack[this.stack.length-1],Ee=this.resume(),qe=this.stack[this.stack.length-1];if(this.data.inReference=!0,qe.type==="link"){const Ke=le.children;qe.children=Ke}else qe.alt=Ee}function F(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=le}function ce(){const le=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=le}function se(){this.data.inReference=void 0}function K(){this.data.referenceType="collapsed"}function ge(le){const Ee=this.resume(),qe=this.stack[this.stack.length-1];qe.label=Ee,qe.identifier=vs(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function ze(le){this.data.characterReferenceType=le.type}function Be(le){const Ee=this.sliceSerialize(le),qe=this.data.characterReferenceType;let Ke;qe?(Ke=a5(Ee,qe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ke=_3(Ee);const be=this.stack.pop();be.value+=Ke,be.position.end=Xl(le.end)}function st(le){M.call(this,le);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(le)}function it(le){M.call(this,le);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(le)}function gt(){return{type:"blockquote",children:[]}}function yt(){return{type:"code",lang:null,meta:null,value:""}}function je(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fe(){return{type:"emphasis",children:[]}}function Me(){return{type:"heading",depth:0,children:[]}}function et(){return{type:"break"}}function Ve(){return{type:"html",value:""}}function lt(){return{type:"image",title:null,url:"",alt:null}}function J(){return{type:"link",title:null,url:"",children:[]}}function Q(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function xe(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function B(){return{type:"paragraph",children:[]}}function O(){return{type:"strong",children:[]}}function ee(){return{type:"text",value:""}}function he(){return{type:"thematicBreak"}}}function Xl(t){return{line:t.line,column:t.column,offset:t.offset}}function v5(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?v5(t,r):XK(t,r)}}function XK(t,e){let n;for(n in e)if(g5.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function QI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+hm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+hm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+hm({start:e.start,end:e.end})+") is still open")}function qK(t){const e=this;e.parser=n;function n(r){return $K(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function YK(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function ZK(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function JK(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function QK(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function eX(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tX(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Fh(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let a,s=t.footnoteCounts.get(r);s===void 0?(s=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=o+1,s+=1,t.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function nX(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rX(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function y5(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function iX(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return y5(t,e);const i={src:Fh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function oX(t,e){const n={src:Fh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function aX(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function sX(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return y5(t,e);const i={href:Fh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function lX(t,e){const n={href:Fh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function uX(t,e,n){const r=t.all(e),i=n?cX(n):x5(e),o={},a=[];if(typeof e.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const c=r[s];(i||s!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,u),t.applyData(e,u)}function cX(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=x5(n[r])}return e}function x5(t){const e=t.spread;return e??t.children.length>1}function fX(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function dX(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hX(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function pX(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mX(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},s=y3(e.children[1]),l=J6(e.children[e.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function gX(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:e.children.length;let l=-1;const u=[];for(;++l<s;){const f=e.children[l],p={},m=a?a[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:o,properties:p,children:[]};f&&(v.children=t.all(f),t.patch(f,v),v=t.applyData(f,v)),u.push(v)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function vX(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const eO=9,tO=32;function yX(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(nO(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(nO(e.slice(i),i>0,!1)),o.join("")}function nO(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===eO||o===tO;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===eO||o===tO;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function xX(t,e){const n={type:"text",value:yX(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function bX(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const wX={blockquote:YK,break:ZK,code:JK,delete:QK,emphasis:eX,footnoteReference:tX,heading:nX,html:rX,imageReference:iX,image:oX,inlineCode:aX,linkReference:sX,link:lX,listItem:uX,list:fX,paragraph:dX,root:hX,strong:pX,table:mX,tableCell:vX,tableRow:gX,text:xX,thematicBreak:bX,toml:Ry,yaml:Ry,definition:Ry,footnoteDefinition:Ry};function Ry(){}const b5=-1,ab=0,ux=1,cx=2,C3=3,M3=4,T3=5,P3=6,w5=7,S5=8,rO=typeof self=="object"?self:globalThis,SX=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,a]=e[i];switch(o){case ab:case b5:return n(a,i);case ux:{const s=n([],i);for(const l of a)s.push(r(l));return s}case cx:{const s=n({},i);for(const[l,u]of a)s[r(l)]=r(u);return s}case C3:return n(new Date(a),i);case M3:{const{source:s,flags:l}=a;return n(new RegExp(s,l),i)}case T3:{const s=n(new Map,i);for(const[l,u]of a)s.set(r(l),r(u));return s}case P3:{const s=n(new Set,i);for(const l of a)s.add(r(l));return s}case w5:{const{name:s,message:l}=a;return n(new rO[s](l),i)}case S5:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i)}return n(new rO[o](a),i)};return r},iO=t=>SX(new Map,t)(0),Xf="",{toString:_X}={},{keys:EX}=Object,Pp=t=>{const e=typeof t;if(e!=="object"||!t)return[ab,e];const n=_X.call(t).slice(8,-1);switch(n){case"Array":return[ux,Xf];case"Object":return[cx,Xf];case"Date":return[C3,Xf];case"RegExp":return[M3,Xf];case"Map":return[T3,Xf];case"Set":return[P3,Xf]}return n.includes("Array")?[ux,n]:n.includes("Error")?[w5,n]:[cx,n]},Ay=([t,e])=>t===ab&&(e==="function"||e==="symbol"),CX=(t,e,n,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return n.set(s,l),l},o=a=>{if(n.has(a))return n.get(a);let[s,l]=Pp(a);switch(s){case ab:{let c=a;switch(l){case"bigint":s=S5,c=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([b5],a)}return i([s,c],a)}case ux:{if(l)return i([l,[...a]],a);const c=[],f=i([s,c],a);for(const p of a)c.push(o(p));return f}case cx:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return o(a.toJSON());const c=[],f=i([s,c],a);for(const p of EX(a))(t||!Ay(Pp(a[p])))&&c.push([o(p),o(a[p])]);return f}case C3:return i([s,a.toISOString()],a);case M3:{const{source:c,flags:f}=a;return i([s,{source:c,flags:f}],a)}case T3:{const c=[],f=i([s,c],a);for(const[p,m]of a)(t||!(Ay(Pp(p))||Ay(Pp(m))))&&c.push([o(p),o(m)]);return f}case P3:{const c=[],f=i([s,c],a);for(const p of a)(t||!Ay(Pp(p)))&&c.push(o(p));return f}}const{message:u}=a;return i([s,{name:l,message:u}],a)};return o},oO=(t,{json:e,lossy:n}={})=>{const r=[];return CX(!(e||n),!!e,new Map,r)(t),r},fx=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?iO(oO(t,e)):structuredClone(t):(t,e)=>iO(oO(t,e));function MX(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function TX(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function PX(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||MX,r=t.options.footnoteBackLabel||TX,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),f=String(u.identifier).toUpperCase(),p=Fh(f.toLowerCase());let m=0;const v=[],b=t.footnoteCounts.get(f);for(;b!==void 0&&++m<=b;){v.length>0&&v.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,m);typeof x=="string"&&(x={type:"text",value:x}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const y=c[c.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const x=y.children[y.children.length-1];x&&x.type==="text"?x.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...v)}else c.push(...v);const g={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(c,!0)};t.patch(u,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...fx(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const sb=function(t){if(t==null)return OX;if(typeof t=="function")return lb(t);if(typeof t=="object")return Array.isArray(t)?RX(t):AX(t);if(typeof t=="string")return IX(t);throw new Error("Expected function, string, or object as test")};function RX(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sb(t[n]);return lb(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function AX(t){const e=t;return lb(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function IX(t){return lb(e);function e(n){return n&&n.type===t}}function lb(t){return e;function e(n,r,i){return!!(DX(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function OX(){return!0}function DX(t){return t!==null&&typeof t=="object"&&"type"in t}const _5=[],kX=!0,nC=!1,LX="skip";function E5(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=sb(i),a=r?-1:1;s(t,void 0,[])();function s(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=_5,v,b,y;if((!e||o(l,u,c[c.length-1]||void 0))&&(m=NX(n(l,c)),m[0]===nC))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==LX)for(b=(r?g.children.length:-1)+a,y=c.concat(g);b>-1&&b<g.children.length;){const x=g.children[b];if(v=s(x,b,y)(),v[0]===nC)return v;b=typeof v[1]=="number"?v[1]:b+a}}return m}}}function NX(t){return Array.isArray(t)?t:typeof t=="number"?[kX,t]:t==null?_5:[t]}function R3(t,e,n,r){let i,o,a;typeof e=="function"&&typeof n!="function"?(o=void 0,a=e,i=n):(o=e,a=n,i=r),E5(t,o,s,i);function s(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return a(l,f,c)}}const rC={}.hasOwnProperty,FX={};function UX(t,e){const n=e||FX,r=new Map,i=new Map,o=new Map,a={...wX,...n.handlers},s={all:u,applyData:BX,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:n,patch:zX,wrap:VX};return R3(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,p=String(c.identifier).toUpperCase();f.has(p)||f.set(p,c)}}),s;function l(c,f){const p=c.type,m=s.handlers[p];if(rC.call(s.handlers,p)&&m)return m(s,c,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in c){const{children:b,...y}=c,g=fx(y);return g.children=s.all(c),g}return fx(c)}return(s.options.unknownHandler||HX)(s,c,f)}function u(c){const f=[];if("children"in c){const p=c.children;let m=-1;for(;++m<p.length;){const v=s.one(p[m],c);if(v){if(m&&p[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=aO(v.value)),!Array.isArray(v)&&v.type==="element")){const b=v.children[0];b&&b.type==="text"&&(b.value=aO(b.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function zX(t,e){t.position&&(e.position=MW(t))}function BX(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,fx(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function HX(t,e){const n=e.data||{},r="value"in e&&!(rC.call(n,"hProperties")||rC.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function VX(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function aO(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function sO(t,e){const n=UX(t,e),r=n.one(t,void 0),i=PX(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function jX(t,e){return t&&"run"in t?async function(n,r){const i=sO(n,{file:r,...e});await t.run(i,r)}:function(n,r){return sO(n,{file:r,...e||t})}}function lO(t){if(t)throw t}var h1=Object.prototype.hasOwnProperty,C5=Object.prototype.toString,uO=Object.defineProperty,cO=Object.getOwnPropertyDescriptor,fO=function(e){return typeof Array.isArray=="function"?Array.isArray(e):C5.call(e)==="[object Array]"},dO=function(e){if(!e||C5.call(e)!=="[object Object]")return!1;var n=h1.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&h1.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||h1.call(e,i)},hO=function(e,n){uO&&n.name==="__proto__"?uO(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},pO=function(e,n){if(n==="__proto__")if(h1.call(e,n)){if(cO)return cO(e,n).value}else return;return e[n]},GX=function t(){var e,n,r,i,o,a,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=pO(s,n),i=pO(e,n),s!==i&&(c&&i&&(dO(i)||(o=fO(i)))?(o?(o=!1,a=r&&fO(r)?r:[]):a=r&&dO(r)?r:{},hO(s,{name:n,newValue:t(c,a,i)})):typeof i<"u"&&hO(s,{name:n,newValue:i}));return s};const vS=Gg(GX);function iC(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function WX(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...u){const c=t[++o];let f=-1;if(l){a(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?$X(c,s)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function $X(t,e){let n;return r;function r(...a){const s=t.length>a.length;let l;s&&a.push(i);try{l=t.apply(this,a)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,e(a,...s))}function o(a){i(null,a)}}const Is={basename:KX,dirname:XX,extname:qX,join:YX,sep:"/"};function KX(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');nv(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function XX(t){if(nv(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function qX(t){nv(t);let e=t.length,n=-1,r=0,i=-1,o=0,a;for(;e--;){const s=t.codePointAt(e);if(s===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function YX(...t){let e=-1,n;for(;++e<t.length;)nv(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ZX(n)}function ZX(t){nv(t);const e=t.codePointAt(0)===47;let n=JX(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function JX(t,e){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=t.length;){if(a<t.length)s=t.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function nv(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const QX={cwd:eq};function eq(){return"/"}function oC(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function tq(t){if(typeof t=="string")t=new URL(t);else if(!oC(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return nq(t)}function nq(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const yS=["history","path","basename","stem","extname","dirname"];class M5{constructor(e){let n;e?oC(e)?n={path:e}:typeof e=="string"||rq(e)?n={value:e}:n=e:n={},this.cwd=QX.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<yS.length;){const o=yS[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)yS.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Is.basename(this.path):void 0}set basename(e){bS(e,"basename"),xS(e,"basename"),this.path=Is.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Is.dirname(this.path):void 0}set dirname(e){mO(this.basename,"dirname"),this.path=Is.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Is.extname(this.path):void 0}set extname(e){if(xS(e,"extname"),mO(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Is.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){oC(e)&&(e=tq(e)),bS(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Is.basename(this.path,this.extname):void 0}set stem(e){bS(e,"stem"),xS(e,"stem"),this.path=Is.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new co(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function xS(t,e){if(t&&t.includes(Is.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Is.sep+"`")}function bS(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function mO(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function rq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const iq=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};Object.setPrototypeOf(o,r);const a=Object.getOwnPropertyNames(i);for(const s of a){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(o,s,l)}return o},oq={}.hasOwnProperty;class A3 extends iq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=WX()}copy(){const e=new A3;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(vS(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(_S("data",this.frozen),this.namespace[e]=n,this):oq.call(this.namespace,e)&&this.namespace[e]||void 0:e?(_S("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Iy(e),r=this.parser||this.Parser;return wS("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),wS("process",this.parser||this.Parser),SS("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=Iy(e),l=r.parse(s);r.run(l,s,function(c,f,p){if(c||!f||!p)return u(c);const m=f,v=r.stringify(m,p);lq(v)?p.value=v:p.result=v,u(c,p)});function u(c,f){c||!f?a(c):o?o(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),wS("processSync",this.parser||this.Parser),SS("processSync",this.compiler||this.Compiler),this.process(e,i),vO("processSync","process",n),r;function i(o,a){n=!0,lO(o),r=a}}run(e,n,r){gO(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=Iy(n);i.run(e,l,u);function u(c,f,p){const m=f||e;c?s(c):a?a(m):r(void 0,m,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),vO("runSync","run",r),i;function o(a,s){lO(a),i=s,r=!0}}stringify(e,n){this.freeze();const r=Iy(n),i=this.compiler||this.Compiler;return SS("stringify",i),gO(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(_S("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=vS(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...c]);else if(c.length>0){let[m,...v]=c;const b=r[p][1];iC(b)&&iC(m)&&(m=vS(!0,b,m)),r[p]=[u,m,...v]}}}}const aq=new A3().freeze();function wS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function SS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function _S(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gO(t){if(!iC(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function vO(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Iy(t){return sq(t)?t:new M5(t)}function sq(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function lq(t){return typeof t=="string"||uq(t)}function uq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const cq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",yO=[],xO={allowDangerousHtml:!0},fq=/^(https?|ircs?|mailto|xmpp)$/i,dq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function T5(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,o=t.components,a=t.disallowedElements,s=t.rehypePlugins||yO,l=t.remarkPlugins||yO,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...xO}:xO,c=t.skipHtml,f=t.unwrapDisallowed,p=t.urlTransform||hq,m=aq().use(qK).use(l).use(jX,u).use(s),v=new M5;typeof r=="string"&&(v.value=r);for(const x of dq)Object.hasOwn(t,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+cq+x.id,void 0);const b=m.parse(v);let y=m.runSync(b,v);return i&&(y={type:"element",tagName:"div",properties:{className:i},children:y.type==="root"?y.children:[y]}),R3(y,g),OW(y,{Fragment:pt.Fragment,components:o,ignoreInvalidStyle:!0,jsx:pt.jsx,jsxs:pt.jsxs,passKeys:!0,passNode:!0});function g(x,w,C){if(x.type==="raw"&&C&&typeof w=="number")return c?C.children.splice(w,1):C.children[w]={type:"text",value:x.value},w;if(x.type==="element"){let R;for(R in pS)if(Object.hasOwn(pS,R)&&Object.hasOwn(x.properties,R)){const E=x.properties[R],P=pS[R];(P===null||P.includes(x.tagName))&&(x.properties[R]=p(String(E||""),R,x))}}if(x.type==="element"){let R=e?!e.includes(x.tagName):a?a.includes(x.tagName):!1;if(!R&&n&&typeof w=="number"&&(R=!n(x,w,C)),R&&C&&typeof w=="number")return f&&x.children?C.children.splice(w,1,...x.children):C.children.splice(w,1),w}}}function hq(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||fq.test(t.slice(0,e))?t:""}const pq=`# Tellus Voxcel Test

This project used to test a voxel data format with concept of [Unit cell](https://en.wikipedia.org/wiki/Unit_cell).

## Development

\`\`\`shell
pnpm install
pnpm dev
\`\`\`
`,mq=()=>pt.jsx("div",{className:"mt-8",children:pt.jsx(T5,{className:"markdown-body",children:pq})}),gq=()=>{const t=w6();return pt.jsx("main",{className:"grid min-h-full place-items-center bg-white px-6 py-24 sm:py-32 lg:px-8",children:pt.jsxs("div",{className:"text-center",children:[pt.jsx("p",{className:"text-base font-semibold text-indigo-600",children:"404"}),pt.jsx("h1",{className:"mt-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Page not found"}),pt.jsx("p",{className:"mt-6 text-base leading-7 text-gray-600",children:"Sorry, we couldnt find the page youre looking for."}),pt.jsx("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:pt.jsx("a",{href:"#",className:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>t("/"),children:"Go back home"})})]})})};function aC(){return aC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aC.apply(this,arguments)}var P5=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",aC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z",fill:"currentColor"}))}));P5.displayName="ArrowDownIcon";function sC(){return sC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sC.apply(this,arguments)}var R5=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",sC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z",fill:"currentColor"}))}));R5.displayName="ArrowUpIcon";function lC(){return lC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lC.apply(this,arguments)}var rv=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",lC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"}))}));rv.displayName="SpinnerIcon";function uC(){return uC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uC.apply(this,arguments)}var A5=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",uC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z",fill:"currentColor"}))}));A5.displayName="AngleDoubleLeftIcon";function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cC.apply(this,arguments)}var I5=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",cC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"}))}));I5.displayName="AngleDownIcon";function fC(){return fC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fC.apply(this,arguments)}var O5=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",fC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"}))}));O5.displayName="AngleUpIcon";function dC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vq(t){if(Array.isArray(t))return dC(t)}function yq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xq(t,e){if(t){if(typeof t=="string")return dC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dC(t,e)}}function bq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wq(t){return vq(t)||yq(t)||xq(t)||bq()}var Xd={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(e){return Xd.DEFAULT_MASKS[e]?Xd.DEFAULT_MASKS[e]:e},onBeforeInput:function(e,n,r){r||!ke.isAndroid()||this.validateKey(e,e.data,n)},onKeyPress:function(e,n,r){r||ke.isAndroid()||e.ctrlKey||e.altKey||this.validateKey(e,e.key,n)},onPaste:function(e,n,r){if(!r){var i=this.getRegex(n),o=e.clipboardData.getData("text");wq(o).forEach(function(a){if(!i.test(a))return e.preventDefault(),!1})}},validateKey:function(e,n,r){if(n!=null){var i=n.length===1;if(i){var o=this.getRegex(r);o.test(n)||e.preventDefault()}}},validate:function(e,n){var r=e.target.value,i=!0,o=this.getRegex(n);return r&&!o.test(r)&&(i=!1),i}};function Sq(t){if(Array.isArray(t))return t}function _q(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eq(t,e){if(t){if(typeof t=="string")return bO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bO(t,e)}}function Cq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mq(t,e){return Sq(t)||_q(t,e)||Eq(t,e)||Cq()}var hC={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(e){return _e.getMergedProps(e,hC.defaultProps)},getOtherProps:function(e){return _e.getDiffProps(e,hC.defaultProps)}},Lu=S.memo(function(t){var e=hC.getProps(t),n=S.useContext(Xn),r=S.useState(e.visible&&ke.isClient()),i=Mq(r,2),o=i[0],a=i[1];xa(function(){ke.isClient()&&!o&&(a(!0),e.onMounted&&e.onMounted())}),Wn(function(){e.onMounted&&e.onMounted()},[o]),Ro(function(){e.onUnmounted&&e.onUnmounted()});var s=e.element||e.children;if(s&&o){var l=e.appendTo||n&&n.appendTo||En.appendTo;return _e.isFunction(l)&&(l=l()),l||(l=document.body),l==="self"?s:Gd.createPortal(s,l)}return null});Lu.displayName="Portal";function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dx.apply(this,arguments)}function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function Tq(t,e){if(ig(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ig(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pq(t){var e=Tq(t,"string");return ig(e)==="symbol"?e:String(e)}function D5(t,e,n){return e=Pq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rq(t){if(Array.isArray(t))return pC(t)}function Aq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k5(t,e){if(t){if(typeof t=="string")return pC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pC(t,e)}}function Iq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(t){return Rq(t)||Aq(t)||k5(t)||Iq()}function Dq(t){if(Array.isArray(t))return t}function kq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Lq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rp(t,e){return Dq(t)||kq(t,e)||k5(t,e)||Lq()}var Nq={root:function(e){var n=e.positionState,r=e.classNameState;return Ct("p-tooltip p-component",D5({},"p-tooltip-".concat(n),!0),r)},arrow:"p-tooltip-arrow",text:"p-tooltip-text"},Fq={arrow:function(e){var n=e.context;return{top:n.bottom?"0":n.right||n.left||!n.right&&!n.left&&!n.top&&!n.bottom?"50%":null,bottom:n.top?"0":null,left:n.right||!n.right&&!n.left&&!n.top&&!n.bottom?"0":n.top||n.bottom?"50%":null,right:n.left?"0":null}}},Uq=`
@layer primereact {
    .p-tooltip {
        position: absolute;
        padding: .25em .5rem;
        /* #3687: Tooltip prevent scrollbar flickering */
        top: -9999px;
        left: -9999px;
    }
    
    .p-tooltip.p-tooltip-right,
    .p-tooltip.p-tooltip-left {
        padding: 0 .25rem;
    }
    
    .p-tooltip.p-tooltip-top,
    .p-tooltip.p-tooltip-bottom {
        padding:.25em 0;
    }
    
    .p-tooltip .p-tooltip-text {
       white-space: pre-line;
       word-break: break-word;
    }
    
    .p-tooltip-arrow {
        position: absolute;
        width: 0;
        height: 0;
        border-color: transparent;
        border-style: solid;
    }
    
    .p-tooltip-right .p-tooltip-arrow {
        top: 50%;
        left: 0;
        margin-top: -.25rem;
        border-width: .25em .25em .25em 0;
    }
    
    .p-tooltip-left .p-tooltip-arrow {
        top: 50%;
        right: 0;
        margin-top: -.25rem;
        border-width: .25em 0 .25em .25rem;
    }
    
    .p-tooltip.p-tooltip-top {
        padding: .25em 0;
    }
    
    .p-tooltip-top .p-tooltip-arrow {
        bottom: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: .25em .25em 0;
    }
    
    .p-tooltip-bottom .p-tooltip-arrow {
        top: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: 0 .25em .25rem;
    }

    .p-tooltip-target-wrapper {
        display: inline-flex;
    }
}
`,Oy=Sn.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0},css:{classes:Nq,styles:Uq,inlineStyles:Fq}});function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){D5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var wf=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=Oy.getProps(t,r),o=S.useState(!1),a=Rp(o,2),s=a[0],l=a[1],u=S.useState(i.position),c=Rp(u,2),f=c[0],p=c[1],m=S.useState(""),v=Rp(m,2),b=v[0],y=v[1],g={props:i,state:{visible:s,position:f,className:b},context:{right:f==="right",left:f==="left",top:f==="top",bottom:f==="bottom"}},x=Oy.setMetaData(g),w=x.ptm,C=x.cx,R=x.sx,E=x.isUnstyled;Xo(Oy.css.styles,E,{name:"tooltip"});var P=S.useRef(null),D=S.useRef(null),L=S.useRef(null),M=S.useRef(null),I=S.useRef(!0),V=S.useRef({}),Z=S.useRef(null),j=d3({listener:function(De){!ke.isTouchDevice()&&Ve(De)}}),fe=Rp(j,2),ye=fe[0],ve=fe[1],X=I6({target:L.current,listener:function(De){Ve(De)},when:s}),ne=Rp(X,2),F=ne[0],ce=ne[1],se=function(De){return!(i.content||it(De,"tooltip"))},K=function(De){return!(i.content||it(De,"tooltip")||i.children)},ge=function(De){return it(De,"mousetrack")||i.mouseTrack},ze=function(De){return it(De,"disabled")==="true"||gt(De,"disabled")||i.disabled},Be=function(De){return it(De,"showondisabled")||i.showOnDisabled},st=function(){return it(L.current,"autohide")||i.autoHide},it=function(De,Le){return gt(De,"data-pr-".concat(Le))?De.getAttribute("data-pr-".concat(Le)):null},gt=function(De,Le){return De&&De.hasAttribute(Le)},yt=function(De){var Le=[it(De,"showevent")||i.showEvent],H=[it(De,"hideevent")||i.hideEvent];if(ge(De))Le=["mousemove"],H=["mouseleave"];else{var me=it(De,"event")||i.event;me==="focus"&&(Le=["focus"],H=["blur"]),me==="both"&&(Le=["focus","mouseenter"],H=["blur","mouseleave"])}return{showEvents:Le,hideEvents:H}},je=function(De){return it(De,"position")||f},Y=function(De){var Le=it(De,"mousetracktop")||i.mouseTrackTop,H=it(De,"mousetrackleft")||i.mouseTrackLeft;return{top:Le,left:H}},Fe=function(De,Le){if(D.current){var H=it(De,"tooltip")||i.content;H?(D.current.innerHTML="",D.current.appendChild(document.createTextNode(H)),Le()):i.children&&Le()}},Me=function(De){Fe(L.current,function(){var Le=Z.current,H=Le.pageX,me=Le.pageY;i.autoZIndex&&!Fi.get(P.current)&&Fi.set("tooltip",P.current,r&&r.autoZIndex||En.autoZIndex,i.baseZIndex||r&&r.zIndex.tooltip||En.zIndex.tooltip),P.current.style.left="",P.current.style.top="",st()&&(P.current.style.pointerEvents="none");var He=ge(L.current)||De==="mouse";(He&&!M.current||He)&&(M.current={width:ke.getOuterWidth(P.current),height:ke.getOuterHeight(P.current)}),lt(L.current,{x:H,y:me},De)})},et=function(De){L.current=De.currentTarget;var Le=ze(L.current),H=K(Be(L.current)&&Le?L.current.firstChild:L.current);if(!(H||Le))if(Z.current=De,s)ee("updateDelay",Me);else{var me=he(i.onBeforeShow,{originalEvent:De,target:L.current});me&&ee("showDelay",function(){l(!0),he(i.onShow,{originalEvent:De,target:L.current})})}},Ve=function(De){if(le(),s){var Le=he(i.onBeforeHide,{originalEvent:De,target:L.current});Le&&ee("hideDelay",function(){!st()&&I.current===!1||(Fi.clear(P.current),ke.removeClass(P.current,"p-tooltip-active"),l(!1),he(i.onHide,{originalEvent:De,target:L.current}))})}},lt=function(De,Le,H){var me=0,He=0,ct=H||f;if((ge(De)||ct=="mouse")&&Le){var nt={width:ke.getOuterWidth(P.current),height:ke.getOuterHeight(P.current)};me=Le.x,He=Le.y;var Pe=Y(De),dt=Pe.top,te=Pe.left;switch(ct){case"left":me-=nt.width+te,He-=nt.height/2-dt;break;case"right":case"mouse":me+=te,He-=nt.height/2-dt;break;case"top":me-=nt.width/2-te,He-=nt.height+dt;break;case"bottom":me-=nt.width/2-te,He+=dt;break}me<=0||M.current.width>nt.width?(P.current.style.left="0px",P.current.style.right=window.innerWidth-nt.width-me+"px"):(P.current.style.right="",P.current.style.left=me+"px"),P.current.style.top=He+"px",ke.addClass(P.current,"p-tooltip-active")}else{var ue=ke.findCollisionPosition(ct),ae=it(De,"my")||i.my||ue.my,Ne=it(De,"at")||i.at||ue.at;P.current.style.padding="0px",ke.flipfitCollision(P.current,De,ae,Ne,function(rt){var wt=rt.at,bt=wt.x,xt=wt.y,Et=rt.my.x,Ut=i.at?bt!=="center"&&bt!==Et?bt:xt:rt.at["".concat(ue.axis)];P.current.style.padding="",p(Ut),J(Ut),ke.addClass(P.current,"p-tooltip-active")})}},J=function(De){if(P.current){var Le=getComputedStyle(P.current);De==="left"?P.current.style.left=parseFloat(Le.left)-parseFloat(Le.paddingLeft)*2+"px":De==="top"&&(P.current.style.top=parseFloat(Le.top)-parseFloat(Le.paddingTop)*2+"px")}},Q=function(){st()||(I.current=!1)},xe=function(De){st()||(I.current=!0,Ve(De))},B=function(De){if(De){var Le=yt(De),H=Le.showEvents,me=Le.hideEvents,He=Ee(De);H.forEach(function(ct){return He==null?void 0:He.addEventListener(ct,et)}),me.forEach(function(ct){return He==null?void 0:He.addEventListener(ct,Ve)})}},O=function(De){if(De){var Le=yt(De),H=Le.showEvents,me=Le.hideEvents,He=Ee(De);H.forEach(function(ct){return He==null?void 0:He.removeEventListener(ct,et)}),me.forEach(function(ct){return He==null?void 0:He.removeEventListener(ct,Ve)})}},ee=function(De,Le){le();var H=it(L.current,De.toLowerCase())||i[De];H?V.current["".concat(De)]=setTimeout(function(){return Le()},H):Le()},he=function(De){if(De){for(var Le=arguments.length,H=new Array(Le>1?Le-1:0),me=1;me<Le;me++)H[me-1]=arguments[me];var He=De.apply(void 0,H);return He===void 0&&(He=!0),He}return!0},le=function(){Object.values(V.current).forEach(function(De){return clearTimeout(De)})},Ee=function(De){if(De){if(Be(De)){if(De.hasWrapper)return De.parentElement;var Le=document.createElement("div"),H=De.nodeName==="INPUT";return H?ke.addMultipleClasses(Le,"p-tooltip-target-wrapper p-inputwrapper"):ke.addClass(Le,"p-tooltip-target-wrapper"),De.parentNode.insertBefore(Le,De),Le.appendChild(De),De.hasWrapper=!0,Le}else if(De.hasWrapper){var me;(me=De.parentElement).replaceWith.apply(me,Oq(De.parentElement.childNodes)),delete De.hasWrapper}return De}return null},qe=function(De){be(De),Ke(De)},Ke=function(De){Ye(De||i.target,B)},be=function(De){Ye(De||i.target,O)},Ye=function(De,Le){if(De=_e.getRefElement(De),De)if(ke.isElement(De))Le(De);else{var H=function(He){var ct=ke.find(document,He);ct.forEach(function(nt){Le(nt)})};De instanceof Array?De.forEach(function(me){H(me)}):H(De)}};xa(function(){s&&L.current&&ze(L.current)&&Ve()}),Wn(function(){return Ke(),function(){be()}},[et,Ve,i.target]),Wn(function(){if(s){var ft=je(L.current),De=it(L.current,"classname");p(ft),y(De),Me(ft),ye(),F()}else p(i.position),y(""),L.current=null,M.current=null,I.current=!0;return function(){ve(),ce()}},[s]),Wn(function(){s&&ee("updateDelay",function(){Fe(L.current,function(){lt(L.current)})})},[i.content]),Ro(function(){Ve(),Fi.clear(P.current)}),S.useImperativeHandle(e,function(){return{props:i,updateTargetEvents:qe,loadTargetEvents:Ke,unloadTargetEvents:be,show:et,hide:Ve,getElement:function(){return P.current},getTarget:function(){return L.current}}});var at=function(){var De=se(L.current),Le=n({id:i.id,className:Ct(i.className,C("root",{positionState:f,classNameState:b})),style:i.style,role:"tooltip","aria-hidden":s,onMouseEnter:function(ct){return Q()},onMouseLeave:function(ct){return xe(ct)}},Oy.getOtherProps(i),w("root")),H=n({className:C("arrow"),style:R("arrow",zq({},g))},w("arrow")),me=n({className:C("text")},w("text"));return S.createElement("div",dx({ref:P},Le),S.createElement("div",H),S.createElement("div",dx({ref:D},me),De&&i.children))};if(s){var tt=at();return S.createElement(Lu,{element:tt,appendTo:i.appendTo,visible:!0})}return null}));wf.displayName="Tooltip";function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hx.apply(this,arguments)}function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function Bq(t,e){if(og(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(og(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hq(t){var e=Bq(t,"string");return og(e)==="symbol"?e:String(e)}function Vq(t,e,n){return e=Hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jq={root:function(e){var n=e.props,r=e.isFilled;return Ct("p-inputtext p-component",{"p-disabled":n.disabled,"p-filled":r},n.className)}},Dy=Sn.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1},css:{classes:jq}});function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Vq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var I3=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=Dy.getProps(t,r),o=Dy.setMetaData(_O(_O({props:i},i.__parentMetadata),{},{context:{disabled:i.disabled}})),a=o.ptm,s=o.cx,l=o.isUnstyled;Xo(Dy.css.styles,l,{name:"inputtext",styled:!0});var u=S.useRef(e),c=function(x){i.onKeyDown&&i.onKeyDown(x),i.keyfilter&&Xd.onKeyPress(x,i.keyfilter,i.validateOnly)},f=function(x){i.onBeforeInput&&i.onBeforeInput(x),i.keyfilter&&Xd.onBeforeInput(x,i.keyfilter,i.validateOnly)},p=function(x){var w=x.target,C=!0;i.keyfilter&&i.validateOnly&&(C=Xd.validate(x,i.keyfilter)),i.onInput&&i.onInput(x,C),_e.isNotEmpty(w.value)?ke.addClass(w,"p-filled"):ke.removeClass(w,"p-filled")},m=function(x){i.onPaste&&i.onPaste(x),i.keyfilter&&Xd.onPaste(x,i.keyfilter,i.validateOnly)};S.useEffect(function(){_e.combinedRefs(u,e)},[u,e]);var v=S.useMemo(function(){return _e.isNotEmpty(i.value)||_e.isNotEmpty(i.defaultValue)},[i.value,i.defaultValue]),b=_e.isNotEmpty(i.tooltip),y=n({className:Ct(i.className,s("root",{isFilled:v})),onBeforeInput:f,onInput:p,onKeyDown:c,onPaste:m},Dy.getOtherProps(i),a("root"));return S.createElement(S.Fragment,null,S.createElement("input",hx({ref:u},y)),b&&S.createElement(wf,hx({target:u,content:i.tooltip,pt:a("tooltip")},i.tooltipOptions)))}));I3.displayName="InputText";function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(this,arguments)}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gq(t){if(Array.isArray(t))return mC(t)}function Wq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L5(t,e){if(t){if(typeof t=="string")return mC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mC(t,e)}}function $q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kq(t){return Gq(t)||Wq(t)||L5(t)||$q()}function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function Xq(t,e){if(ag(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ag(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qq(t){var e=Xq(t,"string");return ag(e)==="symbol"?e:String(e)}function Yq(t,e,n){return e=qq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zq(t){if(Array.isArray(t))return t}function Jq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Qq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eY(t,e){return Zq(t)||Jq(t,e)||L5(t,e)||Qq()}var tY={root:function(e){var n=e.props,r=e.focusedState,i=e.stacked,o=e.horizontal,a=e.vertical;return Ct("p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":n.value!=null&&n.value.toString().length>0,"p-inputwrapper-focus":r,"p-inputnumber-buttons-stacked":i,"p-inputnumber-buttons-horizontal":o,"p-inputnumber-buttons-vertical":a})},buttonGroup:"p-inputnumber-button-group",incrementButton:function(e){var n=e.props;return Ct("p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component",{"p-disabled":n.disabled})},incrementIcon:"p-button-icon",decrementButton:function(e){var n=e.props;return Ct("p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component",{"p-disabled":n.disabled})},decrementIcon:"p-button-icon"},nY=`
@layer primereact {
    .p-inputnumber {
        display: inline-flex;
    }
    
    .p-inputnumber-button {
        display: flex;
        align-items: center;
        justify-content: center;
        flex: 0 0 auto;
    }
    
    .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,
    .p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label {
        display: none;
    }
    
    .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        padding: 0;
    }
    
    .p-inputnumber-buttons-stacked .p-inputnumber-input {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }
    
    .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        border-bottom-left-radius: 0;
        padding: 0;
    }
    
    .p-inputnumber-buttons-stacked .p-inputnumber-button-group {
        display: flex;
        flex-direction: column;
    }
    
    .p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button {
        flex: 1 1 auto;
    }
    
    .p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up {
        order: 3;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }
    
    .p-inputnumber-buttons-horizontal .p-inputnumber-input {
        order: 2;
        border-radius: 0;
    }
    
    .p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down {
        order: 1;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }
    
    .p-inputnumber-buttons-vertical {
        flex-direction: column;
    }
    
    .p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up {
        order: 1;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        width: 100%;
    }
    
    .p-inputnumber-buttons-vertical .p-inputnumber-input {
        order: 2;
        border-radius: 0;
        text-align: center;
    }
    
    .p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down {
        order: 3;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        width: 100%;
    }
    
    .p-inputnumber-input {
        flex: 1 1 auto;
    }
    
    .p-fluid .p-inputnumber {
        width: 100%;
    }
    
    .p-fluid .p-inputnumber .p-inputnumber-input {
        width: 1%;
    }
    
    .p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input {
        width: 100%;
    }
}
`,ky=Sn.extend({defaultProps:{__TYPE:"InputNumber",__parentMetadata:null,allowEmpty:!0,ariaLabelledBy:null,autoFocus:!1,buttonLayout:"stacked",className:null,currency:void 0,currencyDisplay:void 0,decrementButtonClassName:null,decrementButtonIcon:null,disabled:!1,format:!0,id:null,incrementButtonClassName:null,incrementButtonIcon:null,inputClassName:null,inputId:null,inputMode:null,inputRef:null,inputStyle:null,locale:void 0,localeMatcher:void 0,max:null,maxFractionDigits:void 0,maxLength:null,min:null,minFractionDigits:void 0,mode:"decimal",name:null,onBlur:null,onChange:null,onFocus:null,onKeyDown:null,onKeyUp:null,onValueChange:null,pattern:null,placeholder:null,prefix:null,readOnly:!1,required:!1,roundingMode:void 0,showButtons:!1,size:null,step:1,style:null,suffix:null,tabIndex:null,tooltip:null,tooltipOptions:null,type:"text",useGrouping:!0,value:null,children:void 0},css:{classes:tY,styles:nY}});function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){Yq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var N5=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=ky.getProps(t,r),o=S.useState(!1),a=eY(o,2),s=a[0],l=a[1],u=qf(qf({props:i},i.__parentMetadata),{},{state:{focused:s}}),c=ky.setMetaData(u),f=c.ptm,p=c.cx,m=c.isUnstyled;Xo(ky.css.styles,m,{name:"inputnumber"});var v=S.useRef(null),b=S.useRef(null),y=S.useRef(null),g=S.useRef(null),x=S.useRef(null),w=S.useRef(null),C=S.useRef(null),R=S.useRef(null),E=S.useRef(null),P=S.useRef(null),D=S.useRef(null),L=S.useRef(null),M=S.useRef(null),I=S.useRef(null),V=S.useRef(null),Z=S.useRef(null),j=S.useRef(null),fe=S.useRef(null),ye=S.useRef(!1),ve=i.locale||r&&r.locale||En.locale,X=i.showButtons&&i.buttonLayout==="stacked",ne=i.showButtons&&i.buttonLayout==="horizontal",F=i.showButtons&&i.buttonLayout==="vertical",ce=i.inputMode||(i.mode==="decimal"&&!i.minFractionDigits?"numeric":"decimal"),se=function(){return{localeMatcher:i.localeMatcher,style:i.mode,currency:i.currency,currencyDisplay:i.currencyDisplay,useGrouping:i.useGrouping,minimumFractionDigits:i.minFractionDigits,maximumFractionDigits:i.maxFractionDigits,roundingMode:i.roundingMode}},K=function(){x.current=new Intl.NumberFormat(ve,se());var ie=Kq(new Intl.NumberFormat(ve,{useGrouping:!1}).format(9876543210)).reverse(),Oe=new Map(ie.map(function(Ze,Ge){return[Ze,Ge]}));P.current=new RegExp("[".concat(ie.join(""),"]"),"g"),D.current=st(),L.current=it(),M.current=gt(),I.current=Be(),V.current=ze(),Z.current=je(),j.current=yt(),fe.current=function(Ze){return Oe.get(Ze)}},ge=function(ie){return ie.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},ze=function(){return new Intl.NumberFormat(ve,{useGrouping:!1}).format(1.1).trim().replace(P.current,"")},Be=function(){var ie=new Intl.NumberFormat(ve,qf(qf({},se()),{},{useGrouping:!1}));return new RegExp("[".concat(ie.format(1.1).replace(M.current,"").trim().replace(P.current,""),"]"),"g")},st=function(){var ie=new Intl.NumberFormat(ve,{useGrouping:!0});return w.current=ie.format(1e6).trim().replace(P.current,"").charAt(0),new RegExp("[".concat(w.current,"]"),"g")},it=function(){var ie=new Intl.NumberFormat(ve,{useGrouping:!1});return new RegExp("[".concat(ie.format(-1).trim().replace(P.current,""),"]"),"g")},gt=function(){if(i.currency){var ie=new Intl.NumberFormat(ve,{style:"currency",currency:i.currency,currencyDisplay:i.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:i.roundingMode});return new RegExp("[".concat(ie.format(1).replace(/\s/g,"").replace(P.current,"").replace(D.current,""),"]"),"g")}return new RegExp("[]","g")},yt=function(){if(i.prefix)C.current=i.prefix;else{var ie=new Intl.NumberFormat(ve,{style:i.mode,currency:i.currency,currencyDisplay:i.currencyDisplay});C.current=ie.format(1).split("1")[0]}return new RegExp("".concat(ge(C.current||"")),"g")},je=function(){if(i.suffix)R.current=i.suffix;else{var ie=new Intl.NumberFormat(ve,{style:i.mode,currency:i.currency,currencyDisplay:i.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:i.roundingMode});R.current=ie.format(1).split("1")[1]}return new RegExp("".concat(ge(R.current||"")),"g")},Y=function(ie){if(ie!=null){if(ie==="-")return ie;if(i.format){var Oe=new Intl.NumberFormat(ve,se()),Ze=Oe.format(ie);return i.prefix&&(Ze=i.prefix+Ze),i.suffix&&(Ze=Ze+i.suffix),Ze}return ie.toString()}return""},Fe=function(ie){var Oe=ie.replace(Z.current,"").replace(j.current,"").trim().replace(/\s/g,"").replace(M.current,"").replace(D.current,"").replace(L.current,"-").replace(I.current,".").replace(P.current,fe.current);if(Oe){if(Oe==="-")return Oe;var Ze=+Oe;return isNaN(Ze)?null:Ze}return null},Me=function Ue(ie,Oe,Ze){var Ge=Oe||500;W(),y.current=setTimeout(function(){Ue(ie,40,Ze)},Ge),et(ie,Ze)},et=function(ie,Oe){if(b.current){var Ze=i.step*Oe,Ge=Fe(b.current.value)||0,$e=Et(Ge+Ze);if(i.maxLength&&i.maxLength<Y($e).length)return;bt(ie,Ge,$e),!ke.isTouchDevice()&&mn($e,null,"spin"),ln(ie,$e)}},Ve=function(ie){!i.disabled&&!i.readOnly&&(ke.focus(b.current,i.autoFocus),Me(ie,null,1),ie.preventDefault())},lt=function(){!i.disabled&&!i.readOnly&&W()},J=function(){!i.disabled&&!i.readOnly&&W()},Q=function(){!i.disabled&&!i.readOnly&&W()},xe=function(ie){!i.disabled&&!i.readOnly&&(ie.keyCode===32||ie.keyCode===13)&&Me(ie,null,1)},B=function(ie){!i.disabled&&!i.readOnly&&(ke.focus(b.current,i.autoFocus),Me(ie,null,-1),ie.preventDefault())},O=function(){!i.disabled&&!i.readOnly&&W()},ee=function(){!i.disabled&&!i.readOnly&&W()},he=function(){!i.disabled&&!i.readOnly&&W()},le=function(ie){!i.disabled&&!i.readOnly&&(ie.keyCode===32||ie.keyCode===13)&&Me(ie,null,-1)},Ee=function(ie){i.disabled||i.readOnly||(E.current&&(ie.target.value=g.current),E.current=!1)},qe=function(ie){if(!(i.disabled||i.readOnly)&&!(i.onKeyDown&&(i.onKeyDown(ie),ie.defaultPrevented))){if(g.current=ie.target.value,ie.shiftKey||ie.altKey){E.current=!0;return}var Oe=ie.target.selectionStart,Ze=ie.target.selectionEnd,Ge=ie.target.value,$e=null;switch(ie.altKey&&ie.preventDefault(),ie.code){case"ArrowUp":et(ie,1),ie.preventDefault();break;case"ArrowDown":et(ie,-1),ie.preventDefault();break;case"ArrowLeft":ae(Ge.charAt(Oe-1))||ie.preventDefault();break;case"ArrowRight":ae(Ge.charAt(Oe))||ie.preventDefault();break;case"Tab":case"Enter":$e=Et(Fe(Ge)),b.current.value=Y($e),b.current.setAttribute("aria-valuenow",$e),ln(ie,$e);break;case"Backspace":if(ie.preventDefault(),Oe===Ze){var At=Ge.charAt(Oe-1);if(ae(At)){var Pt=H(Ge),Vt=Pt.decimalCharIndex,un=Pt.decimalCharIndexWithoutPrefix,nn=Ht(Ge);if(D.current.test(At))D.current.lastIndex=0,$e=Ge.slice(0,Oe-2)+Ge.slice(Oe-1);else if(I.current.test(At))I.current.lastIndex=0,nn?b.current.setSelectionRange(Oe-1,Oe-1):$e=Ge.slice(0,Oe-1)+Ge.slice(Oe);else if(Vt>0&&Oe>Vt){var Kt=De()&&(i.minFractionDigits||0)<nn?"":"0";$e=Ge.slice(0,Oe-1)+Kt+Ge.slice(Oe)}else un===1?($e=Ge.slice(0,Oe-1)+"0"+Ge.slice(Oe),$e=Fe($e)>0?$e:""):$e=Ge.slice(0,Oe-1)+Ge.slice(Oe)}else if(M.current.test(At)){var Lt=me(Ge),qt=Lt.minusCharIndex,Rn=Lt.currencyCharIndex;qt===Rn-1&&($e=Ge.slice(0,qt)+Ge.slice(Oe))}rt(ie,$e,null,"delete-single")}else $e=Pe(Ge,Oe,Ze),rt(ie,$e,null,"delete-range");break;case"Delete":if(ie.preventDefault(),Oe===Ze){var Qt=Ge.charAt(Oe),sn=H(Ge),_n=sn.decimalCharIndex,Jr=sn.decimalCharIndexWithoutPrefix;if(ae(Qt)){var gr=Ht(Ge);if(D.current.test(Qt))D.current.lastIndex=0,$e=Ge.slice(0,Oe)+Ge.slice(Oe+2);else if(I.current.test(Qt))I.current.lastIndex=0,gr?b.current.setSelectionRange(Oe+1,Oe+1):$e=Ge.slice(0,Oe)+Ge.slice(Oe+1);else if(_n>0&&Oe>_n){var Rr=De()&&(i.minFractionDigits||0)<gr?"":"0";$e=Ge.slice(0,Oe)+Rr+Ge.slice(Oe+1)}else Jr===1?($e=Ge.slice(0,Oe)+"0"+Ge.slice(Oe+1),$e=Fe($e)>0?$e:""):$e=Ge.slice(0,Oe)+Ge.slice(Oe+1)}rt(ie,$e,null,"delete-back-single")}else $e=Pe(Ge,Oe,Ze),rt(ie,$e,null,"delete-range");break;case"End":ie.preventDefault(),_e.isEmpty(i.max)||ln(ie,i.max);break;case"Home":ie.preventDefault(),_e.isEmpty(i.min)||ln(ie,i.min);break}}},Ke=function(ie){if(!(i.disabled||i.readOnly)&&!(i.onKeyUp&&(i.onKeyUp(ie),ie.defaultPrevented))){var Oe=ie.which||ie.keyCode;Oe!==13&&ie.preventDefault();var Ze=String.fromCharCode(Oe),Ge=ft(Ze),$e=at(Ze);(48<=Oe&&Oe<=57||$e||Ge)&&He(ie,Ze,{isDecimalSign:Ge,isMinusSign:$e})}},be=function(ie){if(ie.preventDefault(),!(i.disabled||i.readOnly)){var Oe=(ie.clipboardData||window.clipboardData).getData("Text");if(Oe){var Ze=Fe(Oe);Ze!=null&&He(ie,Ze.toString())}}},Ye=function(){return _e.isEmpty(i.min)||i.min<0},at=function(ie){return L.current.test(ie)||ie==="-"?(L.current.lastIndex=0,!0):!1},tt=function(ie){return Le(ie)?ie.toString().replace(/\.(?=[^.]*$)/,V.current):ie},ft=function(ie){return I.current.test(ie)||Le(ie)?(I.current.lastIndex=0,!0):!1},De=function(){return i.mode==="decimal"},Le=function(ie){var Oe=new Intl.NumberFormat(ve,se()),Ze=Fe(Oe.format(ie));return Ze===null?!1:Ze%1!==0},H=function(ie){var Oe=ie.search(I.current);I.current.lastIndex=0;var Ze=ie.replace(j.current,"").trim().replace(/\s/g,"").replace(M.current,""),Ge=Ze.search(I.current);return I.current.lastIndex=0,{decimalCharIndex:Oe,decimalCharIndexWithoutPrefix:Ge}},me=function(ie){var Oe=ie.search(I.current);I.current.lastIndex=0;var Ze=ie.search(L.current);L.current.lastIndex=0;var Ge=ie.search(Z.current);Z.current.lastIndex=0;var $e=ie.search(M.current);return $e===0&&C.current&&C.current.length>1&&($e=C.current.trim().length),M.current.lastIndex=0,{decimalCharIndex:Oe,minusCharIndex:Ze,suffixCharIndex:Ge,currencyCharIndex:$e}},He=function(ie,Oe){var Ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},Ge=Oe.search(L.current);if(L.current.lastIndex=0,!(!Ye()&&Ge!==-1)){var $e=b.current.selectionStart,At=b.current.selectionEnd,Pt=b.current.value.trim(),Vt=me(Pt),un=Vt.decimalCharIndex,nn=Vt.minusCharIndex,Kt=Vt.suffixCharIndex,Lt=Vt.currencyCharIndex,qt;if(Ze.isMinusSign){var Rn=nn===-1;Rn&&($e===0||$e===Lt+1)&&(qt=Pt,(Rn||At!==0)&&(qt=nt(Pt,Oe,0,At)),rt(ie,qt,Oe,"insert"))}else if(Ze.isDecimalSign)un>0&&$e===un?rt(ie,Pt,Oe,"insert"):(un>$e&&un<At||un===-1&&i.maxFractionDigits)&&(qt=nt(Pt,Oe,$e,At),rt(ie,qt,Oe,"insert"));else{var Qt=x.current.resolvedOptions().maximumFractionDigits,sn=$e!==At?"range-insert":"insert";if(un>0&&$e>un){if($e+Oe.length-(un+1)<=Qt){var _n=Lt>=$e?Lt-1:Kt>=$e?Kt:Pt.length;qt=Pt.slice(0,$e)+Oe+Pt.slice($e+Oe.length,_n)+Pt.slice(_n),rt(ie,qt,Oe,sn)}}else qt=nt(Pt,Oe,$e,At),rt(ie,qt,Oe,sn)}}},ct=function(ie){return ie&&ie.replace(Z.current,"").trim().replace(/\s/g,"").replace(M.current,"")},nt=function(ie,Oe,Ze,Ge){var $e=Oe==="."?Oe:Oe.split(".");if($e.length===2){var At=ie.slice(Ze,Ge).search(I.current);return I.current.lastIndex=0,At>0?ie.slice(0,Ze)+Y(Oe)+ct(ie).slice(Ge):ie||Y(Oe)}else{if(Ge-Ze===ie.length)return Y(Oe);if(Ze===0){var Pt=_e.isLetter(ie[Ge])?Ge-1:Ge;return Oe+ie.slice(Pt)}else{if(Ge===ie.length)return ie.slice(0,Ze)+Oe;var Vt=ie.slice(Ze,Ge),un=/\s$/.test(Vt)?" ":"";return ie.slice(0,Ze)+Oe+un+ie.slice(Ge)}}},Pe=function(ie,Oe,Ze){var Ge;return Ze-Oe===ie.length?Ge="":Oe===0?Ge=ie.slice(Ze):Ze===ie.length?Ge=ie.slice(0,Oe):Ge=ie.slice(0,Oe)+ie.slice(Ze),Ge},dt=function(){var ie=b.current.selectionStart,Oe=b.current.value,Ze=Oe.length,Ge=null,$e=(C.current||"").length;Oe=Oe.replace(j.current,""),ie=ie-$e;var At=Oe.charAt(ie);if(ae(At))return ie+$e;for(var Pt=ie-1;Pt>=0;)if(At=Oe.charAt(Pt),ae(At)){Ge=Pt+$e;break}else Pt--;if(Ge!==null)b.current.setSelectionRange(Ge+1,Ge+1);else{for(Pt=ie;Pt<Ze;)if(At=Oe.charAt(Pt),ae(At)){Ge=Pt+$e;break}else Pt++;Ge!==null&&b.current.setSelectionRange(Ge,Ge)}return Ge||0},te=function(){ye.current=!0},ue=function(){dt()},ae=function(ie){return ie.length===1&&(P.current.test(ie)||I.current.test(ie)||D.current.test(ie)||L.current.test(ie))?(Ne(),!0):!1},Ne=function(){P.current.lastIndex=0,I.current.lastIndex=0,D.current.lastIndex=0,L.current.lastIndex=0},rt=function(ie,Oe,Ze,Ge){var $e=b.current.value,At=null;Oe!=null&&(At=wt(Fe(Oe)),mn(At,Ze,Ge,Oe),bt(ie,$e,At))},wt=function(ie){return!ie&&!i.allowEmpty?i.min||0:ie},bt=function(ie,Oe,Ze){i.onChange&&xt(Oe,Ze)&&i.onChange({originalEvent:ie,value:Ze})},xt=function(ie,Oe){if(Oe===null&&ie!==null)return!0;if(Oe!=null){var Ze=typeof ie=="string"?Fe(ie):ie;return Oe!==Ze}return!1},Et=function(ie){return ie==="-"?null:Ut(ie)},Ut=function(ie){return _e.isEmpty(ie)?null:i.min!==null&&ie<i.min?i.min:i.max!==null&&ie>i.max?i.max:ie},mn=function(ie,Oe,Ze,Ge){Oe=Oe||"";var $e=b.current,At=$e.value,Pt=Y(ie),Vt=At.length;if(Pt!==Ge&&(Pt=hn(Pt,Ge)),Vt===0){$e.value=Pt,$e.setSelectionRange(0,0);var un=dt(),nn=un+Oe.length;$e.setSelectionRange(nn,nn)}else{var Kt=$e.selectionStart,Lt=$e.selectionEnd;if(i.maxLength&&i.maxLength<Pt.length)return;$e.value=Pt;var qt=Pt.length;if(Ze==="range-insert"){var Rn=Fe((At||"").slice(0,Kt)),Qt=Rn!==null?Rn.toString():"",sn=Qt.split("").join("(".concat(w.current,")?")),_n=new RegExp(sn,"g");_n.test(Pt);var Jr=Oe.split("").join("(".concat(w.current,")?")),gr=new RegExp(Jr,"g");gr.test(Pt.slice(_n.lastIndex)),Lt=_n.lastIndex+gr.lastIndex,$e.setSelectionRange(Lt,Lt)}else if(qt===Vt)if(Ze==="insert"||Ze==="delete-back-single"){var Rr=Lt;Oe==="0"?Rr=Lt+1:Rr=Rr+Number(ft(ie)||ft(Oe)),$e.setSelectionRange(Rr,Rr)}else Ze==="delete-single"?$e.setSelectionRange(Lt-1,Lt-1):(Ze==="delete-range"||Ze==="spin")&&$e.setSelectionRange(Lt,Lt);else if(Ze==="delete-back-single"){var Ka=At.charAt(Lt-1),ba=At.charAt(Lt),It=Vt-qt,Ce=D.current.test(ba);Ce&&It===1?Lt+=1:!Ce&&ae(Ka)&&(Lt+=-1*It+1),D.current.lastIndex=0,$e.setSelectionRange(Lt,Lt)}else if(At==="-"&&Ze==="insert"){$e.setSelectionRange(0,0);var Nt=dt(),dn=Nt+Oe.length+1;$e.setSelectionRange(dn,dn)}else Lt=Lt+(qt-Vt),$e.setSelectionRange(Lt,Lt)}$e.setAttribute("aria-valuenow",ie)},Xt=function(ie){ie=wt(ie);var Oe=b.current,Ze=Oe.value,Ge=rn(ie);Ze!==Ge&&(Oe.value=Ge,Oe.setAttribute("aria-valuenow",ie))},rn=function(ie){return Y(wt(ie))},hn=function(ie,Oe){if(ie&&Oe){var Ze=Oe.search(I.current);I.current.lastIndex=0;var Ge=tt(ie).split(I.current)[0].replace(Z.current,"").trim();return Ze!==-1?Ge+Oe.slice(Ze):ie}return ie},Ht=function(ie){if(ie){var Oe=ie.split(I.current);if(Oe.length===2)return ct(Oe[1]).length}return 0},ln=function(ie,Oe){i.onValueChange&&i.onValueChange({originalEvent:ie,value:Oe,stopPropagation:function(){ie.stopPropagation()},preventDefault:function(){ie.preventDefault()},target:{name:i.name,id:i.id,value:Oe}})},_t=function(ie){if(l(!0),i.onFocus&&i.onFocus(ie),(i.suffix||i.currency||i.prefix)&&b.current&&!ye.current){var Oe=b.current.value,Ze=(C.current||"").length,Ge=(R.current||"").length,$e=Oe.length===0?0:Oe.length-Ge;b.current.setSelectionRange(Ze,$e)}},N=function(ie){if(l(!1),ye.current=!1,b.current){var Oe=b.current.value;if(xt(Oe,i.value)){var Ze=Et(Fe(Oe));Xt(Ze),ln(ie,Ze)}}i.onBlur&&i.onBlur(ie)},W=function(){y.current&&clearInterval(y.current)},$=function(){var ie=Ut(i.value);Xt(i.format?ie:tt(ie));var Oe=Et(i.value);i.value!==null&&i.value!==Oe&&ln(null,Oe)},A=function(){return x.current};S.useImperativeHandle(e,function(){return{props:i,focus:function(){return ke.focus(b.current)},getFormatter:A,getElement:function(){return v.current},getInput:function(){return b.current}}}),S.useEffect(function(){_e.combinedRefs(b,i.inputRef)},[b,i.inputRef]),xa(function(){K();var Ue=Et(i.value);i.value!==null&&i.value!==Ue&&ln(null,Ue)}),Wn(function(){K(),$()},[i.locale,i.localeMatcher,i.mode,i.currency,i.currencyDisplay,i.useGrouping,i.minFractionDigits,i.maxFractionDigits,i.suffix,i.prefix]),Wn(function(){$()},[i.value]),Wn(function(){i.disabled&&W()},[i.disabled]);var z=function(){var ie=Ct("p-inputnumber-input",i.inputClassName),Oe=rn(i.value);return S.createElement(I3,mm({ref:b,id:i.inputId,style:i.inputStyle,role:"spinbutton",className:ie,defaultValue:Oe,type:i.type,size:i.size,tabIndex:i.tabIndex,inputMode:ce,maxLength:i.maxLength,disabled:i.disabled,required:i.required,pattern:i.pattern,placeholder:i.placeholder,readOnly:i.readOnly,name:i.name,autoFocus:i.autoFocus,onKeyDown:qe,onKeyPress:Ke,onInput:Ee,onClick:ue,onPointerDown:te,onBlur:N,onFocus:_t,onPaste:be,min:i.min,max:i.max,"aria-valuemin":i.min,"aria-valuemax":i.max,"aria-valuenow":i.value},G,pe,{pt:f("input"),__parentMetadata:{parent:u}}))},q=function(){var ie=n({className:p("incrementIcon")},f("incrementIcon")),Oe=i.incrementButtonIcon||S.createElement(O5,ie),Ze=Hn.getJSXIcon(Oe,qf({},ie),{props:i}),Ge=n({type:"button",className:Ct(i.incrementButtonClassName,p("incrementButton")),onPointerLeave:J,onPointerDown:function(At){return Ve(At)},onPointerUp:lt,onKeyDown:function(At){return xe(At)},onKeyUp:Q,disabled:i.disabled,tabIndex:-1,"aria-hidden":!0},f("incrementButton"));return S.createElement("button",Ge,Ze,S.createElement(ai,null))},re=function(){var ie=n({className:p("decrementIcon")},f("decrementIcon")),Oe=i.decrementButtonIcon||S.createElement(I5,ie),Ze=Hn.getJSXIcon(Oe,qf({},ie),{props:i}),Ge=n({type:"button",className:Ct(i.decrementButtonClassName,p("decrementButton")),onPointerLeave:ee,onPointerDown:function(At){return B(At)},onPointerUp:O,onKeyDown:function(At){return le(At)},onKeyUp:he,disabled:i.disabled,tabIndex:-1,"aria-hidden":!0},f("decrementButton"));return S.createElement("button",Ge,Ze,S.createElement(ai,null))},oe=function(){var ie=i.showButtons&&q(),Oe=i.showButtons&&re(),Ze=n({className:p("buttonGroup")},f("buttonGroup"));return X?S.createElement("span",Ze,ie,Oe):S.createElement(S.Fragment,null,ie,Oe)},Ie=_e.isNotEmpty(i.tooltip),we=ky.getOtherProps(i),pe=_e.reduceKeys(we,ke.DATA_PROPS),G=_e.reduceKeys(we,ke.ARIA_PROPS),Re=z(),Ae=oe(),We=n({id:i.id,className:Ct(i.className,p("root",{focusedState:s,stacked:X,horizontal:ne,vertical:F})),style:i.style},we,f("root"));return S.createElement(S.Fragment,null,S.createElement("span",mm({ref:v},We),Re,Ae),Ie&&S.createElement(wf,mm({target:v,content:i.tooltip,pt:f("tooltip")},i.tooltipOptions)))}));N5.displayName="InputNumber";function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gC.apply(this,arguments)}var F5=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",gC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z",fill:"currentColor"}))}));F5.displayName="AngleDoubleRightIcon";function vC(){return vC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vC.apply(this,arguments)}var U5=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",vC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z",fill:"currentColor"}))}));U5.displayName="AngleRightIcon";function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yC.apply(this,arguments)}var z5=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",yC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z",fill:"currentColor"}))}));z5.displayName="AngleLeftIcon";function xC(){return xC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xC.apply(this,arguments)}var iv=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",xC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"}))}));iv.displayName="TimesIcon";var Ha=gj();function bC(){return bC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bC.apply(this,arguments)}var B5=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",bC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"}))}));B5.displayName="SearchIcon";function wC(){return wC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wC.apply(this,arguments)}function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function rY(t,e){if(sg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iY(t){var e=rY(t,"string");return sg(e)==="symbol"?e:String(e)}function H5(t,e,n){return e=iY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oY(t){if(Array.isArray(t))return t}function aY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sY(t,e){if(t){if(typeof t=="string")return CO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CO(t,e)}}function lY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function el(t,e){return oY(t)||aY(t,e)||sY(t,e)||lY()}var uY=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /*contain: content;*/
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: 2rem;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,Ly=Sn.extend({defaultProps:{__TYPE:"VirtualScroller",__parentMetadata:null,id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0},css:{styles:uY}});function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){H5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var O3=S.memo(S.forwardRef(function(t,e){var n=S.useContext(Xn),r=Ly.getProps(t,n),i=Ym(t)||{},o=r.orientation==="vertical",a=r.orientation==="horizontal",s=r.orientation==="both",l=S.useState(s?{rows:0,cols:0}:0),u=el(l,2),c=u[0],f=u[1],p=S.useState(s?{rows:0,cols:0}:0),m=el(p,2),v=m[0],b=m[1],y=S.useState(0),g=el(y,2),x=g[0],w=g[1],C=S.useState(s?{rows:0,cols:0}:0),R=el(C,2),E=R[0],P=R[1],D=S.useState(r.numToleratedItems),L=el(D,2),M=L[0],I=L[1],V=S.useState(r.loading||!1),Z=el(V,2),j=Z[0],fe=Z[1],ye=S.useState([]),ve=el(ye,2),X=ve[0],ne=ve[1],F=Ly.setMetaData({props:r,state:{first:c,last:v,page:x,numItemsInViewport:E,numToleratedItems:M,loading:j,loaderArr:X}}),ce=F.ptm;Uc(Ly.css.styles,{name:"virtualscroller"});var se=S.useRef(null),K=S.useRef(null),ge=S.useRef(null),ze=S.useRef(null),Be=S.useRef(s?{top:0,left:0}:0),st=S.useRef(null),it=S.useRef(null),gt=S.useRef({}),yt=S.useRef({}),je=S.useRef(null),Y=S.useRef(null),Fe=S.useRef(null),Me=S.useRef(null),et=S.useRef(!1),Ve=S.useRef(null),lt=d3({listener:function(A){return ue()},when:!r.disabled}),J=el(lt,1),Q=J[0],xe=Vo({target:"window",type:"orientationchange",listener:function(A){return ue()},when:!r.disabled}),B=el(xe,1),O=B[0],ee=function(){return se},he=function(A){return Math.floor((A+M*4)/(r.step||1))},le=function(A){K.current=A||K.current||ke.findSingle(se.current,".p-virtualscroller-content")},Ee=function(A){return r.step?x!==he(A):!0},qe=function(A){Be.current=s?{top:0,left:0}:0,se.current&&se.current.scrollTo(A)},Ke=function(A){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",q=ft(),re=q.numToleratedItems,oe=me(),Ie=function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ue=arguments.length>1?arguments[1]:void 0;return We<=Ue?0:We},we=function(We,Ue,ie){return We*Ue+ie},pe=function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return qe({left:We,top:Ue,behavior:z})},G=s?{rows:0,cols:0}:0,Re=!1;s?(G={rows:Ie(A[0],re[0]),cols:Ie(A[1],re[1])},pe(we(G.cols,r.itemSize[1],oe.left),we(G.rows,r.itemSize[0],oe.top)),Re=c.rows!==G.rows||c.cols!==G.cols):(G=Ie(A,re),a?pe(we(G,r.itemSize,oe.left),0):pe(0,we(G,r.itemSize,oe.top)),Re=c!==G),et.current=Re,f(G)},be=function(A,z){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(z){var re=tt(),oe=re.first,Ie=re.viewport,we=function(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return qe({left:Ue,top:ie,behavior:q})},pe=z==="to-start",G=z==="to-end";if(pe){if(s)Ie.first.rows-oe.rows>A[0]?we(Ie.first.cols*r.itemSize[1],(Ie.first.rows-1)*r.itemSize[0]):Ie.first.cols-oe.cols>A[1]&&we((Ie.first.cols-1)*r.itemSize[1],Ie.first.rows*r.itemSize[0]);else if(Ie.first-oe>A){var Re=(Ie.first-1)*r.itemSize;a?we(Re,0):we(0,Re)}}else if(G){if(s)Ie.last.rows-oe.rows<=A[0]+1?we(Ie.first.cols*r.itemSize[1],(Ie.first.rows+1)*r.itemSize[0]):Ie.last.cols-oe.cols<=A[1]+1&&we((Ie.first.cols+1)*r.itemSize[1],Ie.first.rows*r.itemSize[0]);else if(Ie.last-oe<=A+1){var Ae=(Ie.first+1)*r.itemSize;a?we(Ae,0):we(0,Ae)}}}else Ke(A,q)},Ye=function(){return j?r.loaderDisabled?X:[]:rt()},at=function(){return r.columns&&s||a?j&&r.loaderDisabled?s?X[0]:X:r.columns.slice(s?c.cols:c,s?v.cols:v):r.columns},tt=function(){var A=function(G,Re){return Math.floor(G/(Re||G))},z=c,q=0;if(se.current){var re=se.current,oe=re.scrollTop,Ie=re.scrollLeft;if(s)z={rows:A(oe,r.itemSize[0]),cols:A(Ie,r.itemSize[1])},q={rows:z.rows+E.rows,cols:z.cols+E.cols};else{var we=a?Ie:oe;z=A(we,r.itemSize),q=z+E}}return{first:c,last:v,viewport:{first:z,last:q}}},ft=function(){var A=me(),z=se.current?se.current.offsetWidth-A.left:0,q=se.current?se.current.offsetHeight-A.top:0,re=function(G,Re){return Math.ceil(G/(Re||G))},oe=function(G){return Math.ceil(G/2)},Ie=s?{rows:re(q,r.itemSize[0]),cols:re(z,r.itemSize[1])}:re(a?z:q,r.itemSize),we=M||(s?[oe(Ie.rows),oe(Ie.cols)]:oe(Ie));return{numItemsInViewport:Ie,numToleratedItems:we}},De=function(){var A=ft(),z=A.numItemsInViewport,q=A.numToleratedItems,re=function(we,pe,G){var Re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return H(we+pe+(we<G?2:3)*G,Re)},oe=s?{rows:re(c.rows,z.rows,q[0]),cols:re(c.cols,z.cols,q[1],!0)}:re(c,z,q);P(z),I(q),b(oe),r.showLoader&&ne(s?Array.from({length:z.rows}).map(function(){return Array.from({length:z.cols})}):Array.from({length:z})),r.lazy&&Promise.resolve().then(function(){Ve.current={first:r.step?s?{rows:0,cols:c.cols}:0:c,last:Math.min(r.step?r.step:oe,r.items.length)},r.onLazyLoad&&r.onLazyLoad(Ve.current)})},Le=function(A){r.autoSize&&!A&&Promise.resolve().then(function(){if(K.current){K.current.style.minHeight=K.current.style.minWidth="auto",K.current.style.position="relative",se.current.style.contain="none";var z=[ke.getWidth(se.current),ke.getHeight(se.current)],q=z[0],re=z[1];(s||a)&&(se.current.style.width=(q<je.current?q:r.scrollWidth||je.current)+"px"),(s||o)&&(se.current.style.height=(re<Y.current?re:r.scrollHeight||Y.current)+"px"),K.current.style.minHeight=K.current.style.minWidth="",K.current.style.position="",se.current.style.contain=""}})},H=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1?arguments[1]:void 0;return r.items?Math.min(z?(r.columns||r.items[0]).length:r.items.length,A):0},me=function(){if(K.current){var A=getComputedStyle(K.current),z=parseFloat(A.paddingLeft)+Math.max(parseFloat(A.left)||0,0),q=parseFloat(A.paddingRight)+Math.max(parseFloat(A.right)||0,0),re=parseFloat(A.paddingTop)+Math.max(parseFloat(A.top)||0,0),oe=parseFloat(A.paddingBottom)+Math.max(parseFloat(A.bottom)||0,0);return{left:z,right:q,top:re,bottom:oe,x:z+q,y:re+oe}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},He=function(){if(se.current){var A=se.current.parentElement,z=r.scrollWidth||"".concat(se.current.offsetWidth||A.offsetWidth,"px"),q=r.scrollHeight||"".concat(se.current.offsetHeight||A.offsetHeight,"px"),re=function(Ie,we){return se.current.style[Ie]=we};s||a?(re("height",q),re("width",z)):re("height",q)}},ct=function(){var A=r.items;if(A){var z=me(),q=function(oe,Ie,we){var pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return yt.current=Yf(Yf({},yt.current),H5({},"".concat(oe),(Ie||[]).length*we+pe+"px"))};s?(q("height",A,r.itemSize[0],z.y),q("width",r.columns||A[1],r.itemSize[1],z.x)):a?q("width",r.columns||A,r.itemSize,z.x):q("height",A,r.itemSize,z.y)}},nt=function(A){if(K.current&&!r.appendOnly){var z=A?A.first:c,q=function(we,pe){return we*pe},re=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ze.current&&(ze.current.style.top="-".concat(pe,"px")),gt.current=Yf(Yf({},gt.current),{transform:"translate3d(".concat(we,"px, ").concat(pe,"px, 0)")})};if(s)re(q(z.cols,r.itemSize[1]),q(z.rows,r.itemSize[0]));else{var oe=q(z,r.itemSize);a?re(oe,0):re(0,oe)}}},Pe=function(A){var z=A.target,q=me(),re=function(Kt,Lt){return Kt?Kt>Lt?Kt-Lt:Kt:0},oe=function(Kt,Lt){return Math.floor(Kt/(Lt||Kt))},Ie=function(Kt,Lt,qt,Rn,Qt,sn){return Kt<=Qt?Qt:sn?qt-Rn-Qt:Lt+Qt-1},we=function(Kt,Lt,qt,Rn,Qt,sn,_n){return Kt<=sn?0:Math.max(0,_n?Kt<Lt?qt:Kt-sn:Kt>Lt?qt:Kt-2*sn)},pe=function(Kt,Lt,qt,Rn,Qt,sn){var _n=Lt+Rn+2*Qt;return Kt>=Qt&&(_n+=Qt+1),H(_n,sn)},G=re(z.scrollTop,q.top),Re=re(z.scrollLeft,q.left),Ae=s?{rows:0,cols:0}:0,We=v,Ue=!1,ie=Be.current;if(s){var Oe=Be.current.top<=G,Ze=Be.current.left<=Re;if(!r.appendOnly||r.appendOnly&&(Oe||Ze)){var Ge={rows:oe(G,r.itemSize[0]),cols:oe(Re,r.itemSize[1])},$e={rows:Ie(Ge.rows,c.rows,v.rows,E.rows,M[0],Oe),cols:Ie(Ge.cols,c.cols,v.cols,E.cols,M[1],Ze)};Ae={rows:we(Ge.rows,$e.rows,c.rows,v.rows,E.rows,M[0],Oe),cols:we(Ge.cols,$e.cols,c.cols,v.cols,E.cols,M[1],Ze)},We={rows:pe(Ge.rows,Ae.rows,v.rows,E.rows,M[0]),cols:pe(Ge.cols,Ae.cols,v.cols,E.cols,M[1],!0)},Ue=Ae.rows!==c.rows||We.rows!==v.rows||Ae.cols!==c.cols||We.cols!==v.cols||et.current,ie={top:G,left:Re}}}else{var At=a?Re:G,Pt=Be.current<=At;if(!r.appendOnly||r.appendOnly&&Pt){var Vt=oe(At,r.itemSize),un=Ie(Vt,c,v,E,M,Pt);Ae=we(Vt,un,c,v,E,M,Pt),We=pe(Vt,Ae,v,E,M),Ue=Ae!==c||We!==v||et.current,ie=At}}return{first:Ae,last:We,isRangeChanged:Ue,scrollPos:ie}},dt=function(A){var z=Pe(A),q=z.first,re=z.last,oe=z.isRangeChanged,Ie=z.scrollPos;if(oe){var we={first:q,last:re};if(nt(we),f(q),b(re),Be.current=Ie,r.onScrollIndexChange&&r.onScrollIndexChange(we),r.lazy&&Ee(q)){var pe={first:r.step?Math.min(he(q)*r.step,r.items.length-r.step):q,last:Math.min(r.step?(he(q)+1)*r.step:re,r.items.length)},G=!Ve.current||Ve.current.first!==pe.first||Ve.current.last!==pe.last;G&&r.onLazyLoad&&r.onLazyLoad(pe),Ve.current=pe}}},te=function(A){if(r.onScroll&&r.onScroll(A),r.delay){if(st.current&&clearTimeout(st.current),Ee(c)){if(!j&&r.showLoader){var z=Pe(A),q=z.isRangeChanged,re=q||(r.step?Ee(c):!1);re&&fe(!0)}st.current=setTimeout(function(){dt(A),j&&r.showLoader&&(!r.lazy||r.loading===void 0)&&(fe(!1),w(he(c)))},r.delay)}}else dt(A)},ue=function(){it.current&&clearTimeout(it.current),it.current=setTimeout(function(){if(se.current){var A=[ke.getWidth(se.current),ke.getHeight(se.current)],z=A[0],q=A[1],re=z!==je.current,oe=q!==Y.current,Ie=s?re||oe:a?re:o?oe:!1;Ie&&(I(r.numToleratedItems),je.current=z,Y.current=q,Fe.current=ke.getWidth(K.current),Me.current=ke.getHeight(K.current))}},r.resizeDelay)},ae=function(A){var z=(r.items||[]).length,q=s?c.rows+A:c+A;return{index:q,count:z,first:q===0,last:q===z-1,even:q%2===0,odd:q%2!==0,props:r}},Ne=function(A,z){var q=X.length;return Yf({index:A,count:q,first:A===0,last:A===q-1,even:A%2===0,odd:A%2!==0,props:r},z)},rt=function(){var A=r.items;return A&&!j?s?A.slice(r.appendOnly?0:c.rows,v.rows).map(function(z){return r.columns?z:z.slice(r.appendOnly?0:c.cols,v.cols)}):a&&r.columns?A:A.slice(r.appendOnly?0:c,v):[]},wt=function(){se.current&&ke.isVisible(se.current)&&(le(K.current),bt(),Q(),O(),je.current=ke.getWidth(se.current),Y.current=ke.getHeight(se.current),Fe.current=ke.getWidth(K.current),Me.current=ke.getHeight(K.current))},bt=function(){r.disabled||(He(),De(),ct())};xa(function(){wt()}),Wn(function(){bt()},[r.itemSize,r.scrollHeight,r.scrollWidth]),Wn(function(){r.numToleratedItems!==M&&I(r.numToleratedItems)},[r.numToleratedItems]),Wn(function(){r.numToleratedItems===M&&bt()},[M]),Wn(function(){(!i.items||i.items.length!==(r.items||[]).length)&&bt();var $=j;r.lazy&&i.loading!==r.loading&&r.loading!==j&&(fe(r.loading),$=r.loading),Le($)}),Wn(function(){Be.current=s?{top:0,left:0}:0},[r.orientation]),S.useImperativeHandle(e,function(){return{props:r,getElementRef:ee,scrollTo:qe,scrollToIndex:Ke,scrollInView:be,getRenderedRange:tt}});var xt=function(A){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=Ne(A,z),re=_e.getJSXElement(r.loadingTemplate,q);return S.createElement(S.Fragment,{key:A},re)},Et=function(){var A="p-virtualscroller-loading-icon",z=Rc({className:A},ce("loadingIcon")),q=r.loadingIcon||S.createElement(rv,wC({},z,{spin:!0})),re=Hn.getJSXIcon(q,Yf({},z),{props:r});if(!r.loaderDisabled&&r.showLoader&&j){var oe=Ct("p-virtualscroller-loader",{"p-component-overlay":!r.loadingTemplate}),Ie=re;if(r.loadingTemplate)Ie=X.map(function(G,Re){return xt(Re,s&&{numCols:E.cols})});else if(r.loaderIconTemplate){var we={iconClassName:A,element:Ie,props:r};Ie=_e.getJSXElement(r.loaderIconTemplate,we)}var pe=Rc({className:oe},ce("loader"));return S.createElement("div",pe,Ie)}return null},Ut=function(){if(r.showSpacer){var A=Rc({ref:ge,style:yt.current,className:"p-virtualscroller-spacer"},ce("spacer"));return S.createElement("div",A)}return null},mn=function(A,z){var q=ae(z),re=_e.getJSXElement(r.itemTemplate,A,q);return S.createElement(S.Fragment,{key:q.index},re)},Xt=function(){var A=rt();return A.map(mn)},rn=function(){var A=Xt(),z=Ct("p-virtualscroller-content",{"p-virtualscroller-loading":j}),q=Rc({ref:K,style:gt.current,className:z},ce("content")),re=S.createElement("div",q,A);if(r.contentTemplate){var oe={style:gt.current,className:z,spacerStyle:yt.current,contentRef:function(we){return K.current=_e.getRefElement(we)},spacerRef:function(we){return ge.current=_e.getRefElement(we)},stickyRef:function(we){return ze.current=_e.getRefElement(we)},items:rt(),getItemOptions:function(we){return ae(we)},children:A,element:re,props:r,loading:j,getLoaderOptions:function(we,pe){return Ne(we,pe)},loadingTemplate:r.loadingTemplate,itemSize:r.itemSize,rows:Ye(),columns:at(),vertical:o,horizontal:a,both:s};return _e.getJSXElement(r.contentTemplate,oe)}return re};if(r.disabled){var hn=_e.getJSXElement(r.contentTemplate,{items:r.items,rows:r.items,columns:r.columns});return S.createElement(S.Fragment,null,r.children,hn)}else{var Ht=Ct("p-virtualscroller",{"p-virtualscroller-inline":r.inline,"p-virtualscroller-both p-both-scroll":s,"p-virtualscroller-horizontal p-horizontal-scroll":a},r.className),ln=Et(),_t=rn(),N=Ut(),W=Rc({ref:se,className:Ht,tabIndex:r.tabIndex,style:r.style,onScroll:function(A){return te(A)}},Ly.getOtherProps(r),ce("root"));return S.createElement("div",W,_t,N,ln)}}));O3.displayName="VirtualScroller";function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function cY(t,e){if(_h(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_h(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fY(t){var e=cY(t,"string");return _h(e)==="symbol"?e:String(e)}function D3(t,e,n){return e=fY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dY(t){if(Array.isArray(t))return t}function hY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function TO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pY(t,e){if(t){if(typeof t=="string")return TO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TO(t,e)}}function mY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zf(t,e){return dY(t)||hY(t,e)||pY(t,e)||mY()}var gY={root:function(e){var n=e.props,r=e.focusedState,i=e.overlayVisibleState;return Ct("p-dropdown p-component p-inputwrapper",{"p-disabled":n.disabled,"p-focus":r,"p-dropdown-clearable":n.showClear&&!n.disabled,"p-inputwrapper-filled":_e.isNotEmpty(n.value),"p-inputwrapper-focus":r||i})},input:function(e){var n=e.props,r=e.label;return n.editable?"p-dropdown-label p-inputtext":Ct("p-dropdown-label p-inputtext",{"p-placeholder":r===null&&n.placeholder,"p-dropdown-label-empty":r===null&&!n.placeholder})},trigger:"p-dropdown-trigger",emptyMessage:"p-dropdown-empty-message",itemGroup:function(e){var n=e.optionGroupLabel;return Ct("p-dropdown-item-group",{"p-dropdown-item-empty":!n||n.length===0})},dropdownIcon:"p-dropdown-trigger-icon p-clickable",loadingIcon:"p-dropdown-trigger-icon p-clickable",clearIcon:"p-dropdown-clear-icon p-clickable",filterIcon:"p-dropdown-filter-icon",filterClearIcon:"p-dropdown-filter-clear-icon",filterContainer:function(e){var n=e.clearIcon;return Ct("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!n})},filterInput:"p-dropdown-filter p-inputtext p-component",list:function(e){var n=e.virtualScrollerOptions;return"p-dropdown-items"},panel:function(e){var n=e.context;return Ct("p-dropdown-panel p-component",{"p-input-filled":n&&n.inputStyle==="filled"||En.inputStyle==="filled","p-ripple-disabled":n&&n.ripple===!1||En.ripple===!1})},item:function(e){var n=e.selected,r=e.disabled,i=e.label,o=e.index,a=e.focusedOptionIndex;return Ct("p-dropdown-item",{"p-highlight":n,"p-disabled":r,"p-focus":o===a,"p-dropdown-item-empty":!i||i.length===0})},wrapper:"p-dropdown-items-wrapper",header:"p-dropdown-header",footer:"p-dropdown-footer",transition:"p-connected-overlay"},vY=`
@layer primereact {
    .p-dropdown {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
    }
    
    .p-dropdown-trigger {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }
    
    .p-dropdown-label {
        display: block;
        white-space: nowrap;
        overflow: hidden;
        flex: 1 1 auto;
        width: 1%;
        text-overflow: ellipsis;
        cursor: pointer;
    }
    
    .p-dropdown-label-empty {
        overflow: hidden;
        visibility: hidden;
    }
    
    input.p-dropdown-label  {
        cursor: default;
    }
    
    .p-dropdown .p-dropdown-panel {
        min-width: 100%;
    }
    
    .p-dropdown-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-dropdown-items-wrapper {
        overflow: auto;
    }
    
    .p-dropdown-item {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }
    
    .p-dropdown-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-dropdown-filter {
        width: 100%;
    }
    
    .p-dropdown-filter-container {
        position: relative;
    }
    
    .p-dropdown-clear-icon,
    .p-dropdown-filter-icon,
    .p-dropdown-filter-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
    }
    
    .p-fluid .p-dropdown {
        display: flex;
    }
    
    .p-fluid .p-dropdown .p-dropdown-label {
        width: 1%;
    }
}
`,yY={wrapper:function(e){var n=e.props;return{maxHeight:n.scrollHeight||"auto"}},panel:function(e){var n=e.props;n.panelStyle}},Ny=Sn.extend({defaultProps:{__TYPE:"Dropdown",__parentMetadata:null,appendTo:null,ariaLabel:null,ariaLabelledBy:null,autoFocus:!1,children:void 0,className:null,clearIcon:null,dataKey:null,disabled:!1,dropdownIcon:null,editable:!1,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterClearIcon:null,filterIcon:null,filterInputAutoFocus:!0,filterLocale:void 0,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,focusInputRef:null,id:null,inputId:null,inputRef:null,itemTemplate:null,loading:!1,loadingIcon:null,maxLength:null,name:null,onBlur:null,onChange:null,onContextMenu:null,onFilter:null,onFocus:null,onHide:null,onMouseDown:null,onShow:null,optionDisabled:null,optionGroupChildren:"items",selectOnFocus:!1,autoOptionFocus:!1,optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,required:!1,resetFilterOnHide:!1,scrollHeight:"200px",showClear:!1,showFilterClear:!1,showOnFocus:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,value:null,valueTemplate:null,virtualScrollerOptions:null},css:{classes:gY,styles:vY,inlineStyles:yY}}),SC=S.memo(function(t){var e=Nn(),n=t.ptm,r=t.cx,i=t.selected,o=t.disabled,a=t.option,s=t.label,l=t.index,u=t.focusedOptionIndex,c=function(b){return n(b,{context:{selected:i,disabled:o}})},f=function(b,y){t.onClick&&t.onClick({originalEvent:b,option:a})},p=t.template?_e.getJSXElement(t.template,t.option):t.label,m=e({role:"option",key:t.label,className:Ct(a.className,r("item",{selected:i,disabled:o,label:s,index:l,focusedOptionIndex:u})),style:t.style,onClick:function(b){return f(b)},"aria-label":s,"aria-selected":i,"data-p-highlight":i,"data-p-focused":u===l,"data-p-disabled":o},c("item"));return S.createElement("li",m,p,S.createElement(ai,null))});SC.displayName="DropdownItem";function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){D3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var V5=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=t.ptm,i=t.cx,o=t.sx,a=S.useContext(Xn);S.useRef(null);var s=S.useRef(null),l=!(t.visibleOptions&&t.visibleOptions.length)&&t.hasFilter,u={filter:function(L){return m(L)},reset:function(){return t.resetFilter()}},c=function(L,M){return r(L,Ja({hostName:t.hostName},M))},f=function(){t.onEnter(function(){if(t.virtualScrollerRef.current){var L=t.getSelectedOptionIndex();L!==-1&&setTimeout(function(){return t.virtualScrollerRef.current.scrollToIndex(L)},0)}})},p=function(){t.onEntered(function(){t.filter&&t.filterInputAutoFocus&&ke.focus(s.current,!1)})},m=function(L){t.virtualScrollerRef.current&&t.virtualScrollerRef.current.scrollToIndex(0),t.onFilterInputChange&&t.onFilterInputChange(L)},v=function(){if(t.panelFooterTemplate){var L=_e.getJSXElement(t.panelFooterTemplate,t,t.onOverlayHide),M=n({className:i("footer")},c("footer"));return S.createElement("div",M,L)}return null},b=function(L,M){var I=t.getOptionGroupChildren(L);return I.map(function(V,Z){var j=t.getOptionLabel(V),fe=Z+"_"+t.getOptionRenderKey(V),ye=t.isOptionDisabled(V);return S.createElement(SC,{key:fe,index:Z,focusedOptionIndex:t.focusedOptionIndex,label:j,option:V,style:M,template:t.itemTemplate,selected:t.isSelected(V),disabled:ye,onClick:t.onOptionClick,ptm:r,cx:i})})},y=function(L,M){var I=_e.getJSXElement(L,t)||eo(M?"emptyFilterMessage":"emptyMessage"),V=n({className:i("emptyMessage")},c("emptyMessage"));return S.createElement("li",V,I)},g=function(L,M){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},V={height:I.props?I.props.itemSize:void 0};if(V=Ja(Ja({},V),L.style),t.optionGroupLabel){var Z=t.optionGroupLabel,j=t.optionGroupTemplate?_e.getJSXElement(t.optionGroupTemplate,L,M):t.getOptionGroupLabel(L),fe=b(L,V),ye=M+"_"+t.getOptionGroupRenderKey(L),ve=n({className:i("itemGroup",{optionGroupLabel:Z}),style:V,"data-p-highlight":t.selected},c("itemGroup"));return S.createElement(S.Fragment,{key:ye},S.createElement("li",ve,j),fe)}else{var X=t.getOptionLabel(L),ne=M+"_"+t.getOptionRenderKey(L),F=t.isOptionDisabled(L);return S.createElement(SC,{key:ne,label:X,index:M,focusedOptionIndex:t.focusedOptionIndex,option:L,style:V,template:t.itemTemplate,selected:t.isSelected(L),disabled:F,onClick:t.onOptionClick,ptm:r,cx:i})}},x=function(){return _e.isNotEmpty(t.visibleOptions)?t.visibleOptions.map(g):t.hasFilter?y(t.emptyFilterMessage,!0):y(t.emptyMessage)},w=function(){if(t.showFilterClear&&t.filterValue){var L=eo("clear"),M=n({className:i("filterClearIcon"),"aria-label":L,onClick:function(){return t.onFilterClearIconClick(function(){return ke.focus(s.current)})}},c("filterClearIcon")),I=t.filterClearIcon||S.createElement(iv,M),V=Hn.getJSXIcon(I,Ja({},M),{props:t});return V}return null},C=function(){if(t.filter){var L=w(),M=n({className:i("filterIcon")},c("filterIcon")),I=t.filterIcon||S.createElement(B5,M),V=Hn.getJSXIcon(I,Ja({},M),{props:t}),Z=n({className:i("filterContainer",{clearIcon:L})},c("filterContainer")),j=n({ref:s,type:"text",autoComplete:"off",className:i("filterInput"),placeholder:t.filterPlaceholder,onKeyDown:t.onFilterInputKeyDown,onChange:function(ne){return m(ne)},value:t.filterValue},c("filterInput")),fe=S.createElement("div",Z,S.createElement("input",j),L,V);if(t.filterTemplate){var ye={className:Ct("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!L}),element:fe,filterOptions:u,filterInputKeyDown:t.onFilterInputKeyDown,filterInputChange:m,filterIconClassName:"p-dropdown-filter-icon",clearIcon:L,props:t};fe=_e.getJSXElement(t.filterTemplate,ye)}var ve=n({className:i("header")},c("header"));return S.createElement("div",ve,fe)}return null},R=function(){if(t.virtualScrollerOptions){var L=Ja(Ja({},t.virtualScrollerOptions),{style:Ja(Ja({},t.virtualScrollerOptions.style),{height:t.scrollHeight}),className:Ct("p-dropdown-items-wrapper",t.virtualScrollerOptions.className),items:t.visibleOptions,autoSize:!0,onLazyLoad:function(j){return t.virtualScrollerOptions.onLazyLoad(Ja(Ja({},j),{filter:t.filterValue}))},itemTemplate:function(j,fe){return j&&g(j,fe.index,fe)},contentTemplate:function(j){var fe=t.hasFilter?t.emptyFilterMessage:t.emptyMessage,ye=l?y(fe):j.children,ve=n({ref:j.contentRef,style:j.style,className:Ct(j.className,i("list",{virtualScrollerProps:t.virtualScrollerOptions})),role:"listbox"},c("list"));return S.createElement("ul",ve,ye)}});return S.createElement(O3,qc({ref:t.virtualScrollerRef},L,{pt:r("virtualScroller")}))}else{var M=x(),I=n({className:i("wrapper"),style:o("wrapper")},c("wrapper")),V=n({className:i("list"),role:"listbox"},c("list"));return S.createElement("div",I,S.createElement("ul",V,M))}},E=function(){var L=C(),M=R(),I=v(),V=n({className:Ct(t.panelClassName,i("panel",{context:a})),style:o("panel"),onClick:t.onClick},c("panel")),Z=n({classNames:i("transition"),in:t.in,timeout:{enter:120,exit:100},options:t.transitionOptions,unmountOnExit:!0,onEnter:f,onEntered:p,onExit:t.onExit,onExited:t.onExited},c("transition"));return S.createElement(ku,qc({nodeRef:e},Z),S.createElement("div",qc({ref:e},V),t.firstFocusableElement,L,M,I,t.lastFocusableElement))},P=E();return S.createElement(Lu,{element:P,appendTo:t.appendTo})}));V5.displayName="DropdownPanel";function xY(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=bY(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function bY(t,e){if(t){if(typeof t=="string")return RO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){D3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var df=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=Ny.getProps(t,r),o=S.useState(""),a=Zf(o,2),s=a[0],l=a[1],u=S.useState(!1),c=Zf(u,2),f=c[0],p=c[1],m=S.useState(!1),v=Zf(m,2),b=v[0],y=v[1],g=S.useState(-1),x=Zf(g,2),w=x[0],C=x[1],R=S.useState(!1),E=Zf(R,2),P=E[0],D=E[1],L=S.useRef(null),M=S.useRef(null),I=S.useRef(null),V=S.useRef(null),Z=S.useRef(i.inputRef),j=S.useRef(i.focusInputRef),fe=S.useRef(null),ye=S.useRef(null),ve=S.useRef(null);S.useRef(null);var X=i.virtualScrollerOptions&&i.virtualScrollerOptions.lazy,ne=_e.isNotEmpty(s),F=i.appendTo||r&&r.appendTo||En.appendTo,ce=Ny.setMetaData(tl(tl({props:i},i.__parentMetadata),{},{state:{filter:s,focused:b,overlayVisible:P}})),se=ce.ptm,K=ce.cx,ge=ce.sx,ze=ce.isUnstyled;Xo(Ny.css.styles,ze,{name:"dropdown"});var Be=h3({target:L,overlay:M,listener:function(Ce,Nt){var dn=Nt.type,er=Nt.valid;er&&(dn==="outside"?!Fe(Ce)&&N():N())},when:P}),st=Zf(Be,2),it=st[0],gt=st[1],yt=function(){if(ne&&!X){var Ce=s.trim().toLocaleLowerCase(i.filterLocale),Nt=i.filterBy?i.filterBy.split(","):[i.optionLabel||"label"];if(i.optionGroupLabel){var dn=[],er=xY(i.options),Ar;try{for(er.s();!(Ar=er.n()).done;){var wa=Ar.value,qu=dm.filter(ie(wa),Nt,Ce,i.filterMatchMode,i.filterLocale);qu&&qu.length&&dn.push(tl(tl({},wa),D3({},"".concat(i.optionGroupChildren),qu)))}}catch(Yu){er.e(Yu)}finally{er.f()}return dn}else return dm.filter(i.options,Nt,Ce,i.filterMatchMode,i.filterLocale)}else return i.options},je=function(Ce){var Nt=Ce.relatedTarget===j.current?ke.getFirstFocusableElement(M.current,':not([data-p-hidden-focusable="true"])'):j.current;ke.focus(Nt)},Y=function(Ce){var Nt=Ce.relatedTarget===j.current?ke.getLastFocusableElement(M.current,':not([data-p-hidden-focusable="true"])'):j.current;ke.focus(Nt)},Fe=function(Ce){return ke.isAttributeEquals(Ce.target,"data-pc-section","clearicon")||ke.isAttributeEquals(Ce.target.parentElement||Ce.target,"data-pc-section","filterclearicon")},Me=function(Ce){i.disabled||i.loading||(i.onClick&&i.onClick(Ce),!Ce.defaultPrevented&&(Fe(Ce)||Ce.target.tagName==="INPUT"||((!M.current||!(M.current&&M.current.contains(Ce.target)))&&(ke.focus(j.current),P?N():_t()),p(!0))))},et=function(Ce){i.showOnFocus&&!P&&_t(),y(!0),i.onFocus&&i.onFocus(Ce)},Ve=function(Ce){y(!1),i.onBlur&&setTimeout(function(){var Nt=Z.current?Z.current.value:void 0;i.onBlur({originalEvent:Ce.originalEvent,value:Nt,stopPropagation:function(){Ce.originalEvent.stopPropagation()},preventDefault:function(){Ce.originalEvent.preventDefault()},target:{name:i.name,id:i.id,value:Nt}})},200)},lt=function(Ce,Nt){var dn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,er=pe(Nt);Xt({originalEvent:Ce,option:er}),dn&&N()},J=function(Ce){Ha.emit("overlay-click",{originalEvent:Ce,target:L.current})},Q=function(Ce){if(i.disabled||ke.isAndroid()){Ce.preventDefault();return}var Nt=Ce.metaKey||Ce.ctrlKey;switch(Ce.code){case"ArrowDown":Le(Ce);break;case"ArrowUp":H(Ce);break;case"ArrowLeft":case"ArrowRight":me(Ce,i.editable);break;case"Home":He(Ce);break;case"End":ct(Ce);break;case"PageDown":Pe(Ce);break;case"PageUp":nt(Ce);break;case"Space":dt(Ce,i.editable);break;case"NumpadEnter":case"Enter":te(Ce);break;case"Escape":ue(Ce);break;case"Tab":ae(Ce);break;case"Backspace":Ne(Ce,i.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!Nt&&_e.isPrintableCharacter(Ce.key)&&(!P&&_t(),!i.editable&&Ke(Ce,Ce.key));break}p(!1)},xe=function(Ce){switch(Ce.code){case"ArrowDown":Le(Ce);break;case"ArrowUp":H(Ce);break;case"ArrowLeft":case"ArrowRight":me(Ce,!0);break;case"Escape":case"Enter":te(Ce),Ce.preventDefault();break}},B=function(){return ke.getFocusableElements(M.current,':not([data-p-hidden-focusable="true"])').length>0},O=function(Ce){var Nt;return ee(Ce)&&((Nt=we(Ce))===null||Nt===void 0?void 0:Nt.toLocaleLowerCase(i.filterLocale).startsWith(ve.current.toLocaleLowerCase(i.filterLocale)))},ee=function(Ce){return _e.isNotEmpty(Ce)&&!(Ae(Ce)||Re(Ce))},he=function(){return _e.isNotEmpty(i.value)},le=function(Ce){return ee(Ce)&&ln(Ce)},Ee=function(){return he?nn.findIndex(function(Ce){return le(Ce)}):-1},qe=function(){var Ce=Ee();return Ce<0?Ye():Ce},Ke=function(Ce,Nt){ve.current=(ve.current||"")+Nt;var dn=-1,er=!1;return _e.isNotEmpty(ve.current)&&(w!==-1?(dn=nn.slice(w).findIndex(function(Ar){return O(Ar)}),dn=dn===-1?nn.slice(0,w).findIndex(function(Ar){return O(Ar)}):dn+w):dn=nn.findIndex(function(Ar){return O(Ar)}),dn!==-1&&(er=!0),dn===-1&&w===-1&&(dn=qe()),dn!==-1&&De(Ce,dn)),ye.current&&clearTimeout(ye.current),ye.current=setTimeout(function(){ve.current="",ye.current=null},500),er},be=function(){var Ce=Ee();return Ce<0?at():Ce},Ye=function(){return nn.findIndex(function(Ce){return ee(Ce)})},at=function(){return _e.findLastIndex(nn,function(Ce){return ee(Ce)})},tt=function(Ce){var Nt=Ce<nn.length-1?nn.slice(Ce+1).findIndex(function(dn){return ee(dn)}):-1;return Nt>-1?Nt+Ce+1:Ce},ft=function(Ce){var Nt=Ce>0?_e.findLastIndex(nn.slice(0,Ce),function(dn){return ee(dn)}):-1;return Nt>-1?Nt:Ce},De=function(Ce,Nt){w!==Nt&&(C(Nt),i.selectOnFocus&&lt(Ce,nn[Nt],!1))},Le=function(Ce){if(!P)_t(),i.editable&&De(Ce,Ee());else{var Nt=w!==-1?tt(w):f?Ye():qe();De(Ce,Nt)}Ce.preventDefault()},H=function(Ce){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Ce.altKey&&!Nt)w!==-1&&lt(Ce,nn[w]),state.overlayVisible&&N(),Ce.preventDefault();else{var dn=w!==-1?ft(w):f?at():be();De(Ce,dn),!P&&_t(),Ce.preventDefault()}},me=function(Ce){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Nt&&C(-1)},He=function(Ce){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Nt?(Ce.currentTarget.setSelectionRange(0,0),C(-1)):(De(Ce,Ye()),!P&&_t()),Ce.preventDefault()},ct=function(Ce){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Nt){var dn=Ce.currentTarget,er=dn.value.length;dn.setSelectionRange(er,er),C(-1)}else De(Ce,at()),!P&&_t();Ce.preventDefault()},nt=function(Ce){Ce.preventDefault()},Pe=function(Ce){Ce.preventDefault()},dt=function(Ce){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!Nt&&te(Ce)},te=function(Ce){P?(w!==-1&&lt(Ce,nn[w]),N()):(C(-1),Le(Ce)),Ce.preventDefault()},ue=function(Ce){P&&N(),Ce.preventDefault()},ae=function(Ce){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Nt||(P&&!B()?(ke.focus(I.current),Ce.preventDefault()):(w!==-1&&lt(Ce,nn[w]),P&&N()))},Ne=function(Ce){var Nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Nt&&!P&&_t()},rt=function(Ce){!P&&_t();var Nt=null;Ce.target.value&&(Nt=nn.findIndex(function(dn){return dn.name.toLocaleLowerCase().startsWith(Ce.target.value.toLocaleLowerCase())})),C(Nt),i.onChange&&i.onChange({originalEvent:Ce.originalEvent,value:Ce.target.value,stopPropagation:function(){Ce.originalEvent.stopPropagation()},preventDefault:function(){Ce.originalEvent.preventDefault()},target:{name:i.name,id:i.id,value:Ce.target.value}})},wt=function(Ce){y(!0),N(),i.onFocus&&i.onFocus(Ce)},bt=function(Ce){var Nt=Ce.option;Nt.disabled||(Xt(Ce),ke.focus(j.current)),N()},xt=function(Ce){var Nt=Ce.target.value;l(Nt),i.onFilter&&i.onFilter({originalEvent:Ce,filter:Nt})},Et=function(Ce){Ut(Ce)},Ut=function(Ce){l(""),i.onFilter&&i.onFilter({filter:""}),Ce&&Ce()},mn=function(Ce){i.onChange&&i.onChange({originalEvent:Ce,value:void 0,stopPropagation:function(){Ce.stopPropagation()},preventDefault:function(){Ce.preventDefault()},target:{name:i.name,id:i.id,value:void 0}}),i.filter&&Ut(),Ie()},Xt=function(Ce){if(Kt!==Ce.option){Ie(Ce.option);var Nt=pe(Ce.option);i.onChange&&i.onChange({originalEvent:Ce.originalEvent,value:Nt,stopPropagation:function(){Ce.originalEvent.stopPropagation()},preventDefault:function(){Ce.originalEvent.preventDefault()},target:{name:i.name,id:i.id,value:Nt}})}},rn=function(Ce){if(Ce=Ce||nn,i.value!=null&&Ce)if(i.optionGroupLabel)for(var Nt=0;Nt<Ce.length;Nt++){var dn=Ht(i.value,ie(Ce[Nt]));if(dn!==-1)return{group:Nt,option:dn}}else return Ht(i.value,Ce);return-1},hn=function(){return i.optionValue?null:i.dataKey},Ht=function(Ce,Nt){var dn=hn();return Nt.findIndex(function(er){return _e.equals(Ce,pe(er),dn)})},ln=function(Ce){return _e.equals(i.value,pe(Ce),hn())},_t=function(){C(w!==-1?w:i.autoOptionFocus?qe():i.editable?-1:Ee()),D(!0)},N=function(){D(!1),p(!1)},W=function(){i.editable&&ke.focus(Z.current)},$=function(Ce){Fi.set("overlay",M.current,r&&r.autoZIndex||En.autoZIndex,r&&r.zIndex.overlay||En.zIndex.overlay),ke.addStyles(M.current,{position:"absolute",top:"0",left:"0"}),re(),Ce&&Ce()},A=function(Ce){Ce&&Ce(),it(),i.onShow&&i.onShow()},z=function(){gt()},q=function(){i.filter&&i.resetFilterOnHide&&Ut(),Fi.clear(M.current),i.onHide&&i.onHide()},re=function(){ke.alignOverlay(M.current,Z.current.parentElement,i.appendTo||r&&r.appendTo||En.appendTo)},oe=function(){var Ce=ke.findSingle(M.current,'li[data-p-highlight="true"]');Ce&&Ce.scrollIntoView&&Ce.scrollIntoView({block:"nearest",inline:"nearest"})},Ie=function(Ce){Z.current&&(Z.current.value=Ce?we(Ce):i.value||"")},we=function(Ce){return i.optionLabel?_e.resolveFieldData(Ce,i.optionLabel):Ce&&Ce.label!==void 0?Ce.label:Ce},pe=function(Ce){return i.optionValue?_e.resolveFieldData(Ce,i.optionValue):Ce&&Ce.value!==void 0?Ce.value:Ce},G=function(Ce){return i.dataKey?_e.resolveFieldData(Ce,i.dataKey):we(Ce)},Re=function(Ce){return i.optionGroupLabel&&Ce.optionGroup&&Ce.group},Ae=function(Ce){return i.optionDisabled?_e.isFunction(i.optionDisabled)?i.optionDisabled(Ce):_e.resolveFieldData(Ce,i.optionDisabled):Ce&&Ce.disabled!==void 0?Ce.disabled:!1},We=function(Ce){return _e.resolveFieldData(Ce,i.optionGroupLabel)},Ue=function(Ce){return _e.resolveFieldData(Ce,i.optionGroupLabel)},ie=function(Ce){return _e.resolveFieldData(Ce,i.optionGroupChildren)},Oe=function(){if(i.editable&&Z.current){var Ce=Kt?we(Kt):null,Nt=Ce||i.value||"";Z.current.value=Nt}},Ze=function(){var Ce=rn(i.options);return Ce!==-1?i.optionGroupLabel?ie(i.options[Ce.group])[Ce.option]:i.options[Ce]:null};S.useImperativeHandle(e,function(){return{props:i,show:_t,hide:N,clear:mn,focus:function(){return ke.focus(j.current)},getElement:function(){return L.current},getOverlay:function(){return M.current},getInput:function(){return Z.current},getFocusInput:function(){return j.current},getVirtualScroller:function(){return fe.current}}}),S.useEffect(function(){_e.combinedRefs(Z,i.inputRef),_e.combinedRefs(j,i.focusInputRef)},[Z,i.inputRef,j,i.focusInputRef]),xa(function(){i.autoFocus&&ke.focus(j.current,i.autoFocus),re()}),Wn(function(){P&&i.value&&oe()},[P,i.value]),Wn(function(){P&&s&&i.filter&&re()},[P,s,i.filter]),Wn(function(){s&&(!i.options||i.options.length===0)&&l(""),Oe(),Z.current&&(Z.current.selectedIndex=1)}),Ro(function(){Fi.clear(M.current)});var Ge=function(){var Ce={value:"",label:i.placeholder};if(Kt){var Nt=pe(Kt);Ce={value:_h(Nt)==="object"?i.options.findIndex(function(wa){return wa===Nt}):Nt,label:we(Kt)}}var dn=n({className:"p-hidden-accessible p-dropdown-hidden-select"},se("hiddenSelectedMessage")),er=n({ref:Z,required:i.required,defaultValue:Ce.value,name:i.name,tabIndex:-1,"aria-hidden":"true"},se("select")),Ar=n({value:Ce.value},se("option"));return S.createElement("div",dn,S.createElement("select",er,S.createElement("option",Ar,Ce.label)))},$e=function(){var Ce=n({className:"p-hidden-accessible"},se("hiddenSelectedMessage")),Nt=n(tl({ref:j,id:i.inputId,type:"text",readOnly:!0,"aria-haspopup":"listbox",onFocus:et,onBlur:Ve,onKeyDown:Q,disabled:i.disabled,tabIndex:i.disabled?-1:i.tabIndex||0},Rn),se("input"));return S.createElement("div",Ce,S.createElement("input",Nt))},At=function(){var Ce=_e.isNotEmpty(Kt)?we(Kt):null;if(i.editable){var Nt=Ce||i.value||"",dn=n(tl({ref:Z,type:"text",defaultValue:Nt,className:K("input",{label:Ce}),disabled:i.disabled,placeholder:i.placeholder,maxLength:i.maxLength,onInput:rt,onFocus:wt,onKeyDown:Q,onBlur:Ve,tabIndex:i.disabled?-1:i.tabIndex||0,"aria-haspopup":"listbox"},Rn),se("input"));return S.createElement("input",dn)}else{var er=i.valueTemplate?_e.getJSXElement(i.valueTemplate,Kt,i):Ce||i.placeholder||"empty",Ar=n({ref:Z,className:K("input",{label:Ce}),tabIndex:"-1"},se("input"));return S.createElement("span",Ar,er)}},Pt=function(){if(i.value!=null&&i.showClear&&!i.disabled){var Ce=n({className:K("clearIcon"),onPointerUp:mn},se("clearIcon")),Nt=i.clearIcon||S.createElement(iv,Ce);return Hn.getJSXIcon(Nt,tl({},Ce),{props:i})}return null},Vt=function(){var Ce=n({className:K("loadingIcon"),"data-pr-overlay-visible":P},se("loadingIcon")),Nt=i.loadingIcon||S.createElement(rv,{spin:!0}),dn=Hn.getJSXIcon(Nt,tl({},Ce),{props:i}),er=i.placeholder||i.ariaLabel,Ar=n({className:K("trigger"),role:"button","aria-haspopup":"listbox","aria-expanded":P,"aria-label":er},se("trigger"));return S.createElement("div",Ar,dn)},un=function(){var Ce=n({className:K("dropdownIcon"),"data-pr-overlay-visible":P},se("dropdownIcon")),Nt=i.dropdownIcon||S.createElement(Lh,Ce),dn=Hn.getJSXIcon(Nt,tl({},Ce),{props:i}),er=i.placeholder||i.ariaLabel,Ar=n({className:K("trigger"),role:"button","aria-haspopup":"listbox","aria-expanded":P,"aria-label":er},se("trigger"));return S.createElement("div",Ar,dn)},nn=yt(),Kt=Ze(),Lt=_e.isNotEmpty(i.tooltip),qt=Ny.getOtherProps(i),Rn=_e.reduceKeys(qt,ke.ARIA_PROPS),Qt=Ge(),sn=$e(),_n=At(),Jr=i.loading?Vt():un(),gr=Pt(),Rr=n({id:i.id,ref:L,className:Ct(i.className,K("root",{focusedState:b,overlayVisibleState:P})),style:i.style,onClick:function(Ce){return Me(Ce)},onMouseDown:i.onMouseDown,onContextMenu:i.onContextMenu,onFocus:W,"data-p-disabled":i.disabled,"data-p-focus":b},qt,se("root")),Ka=n({ref:I,role:"presentation","aria-hidden":"true",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:je,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},se("hiddenFirstFocusableEl")),ba=n({ref:V,role:"presentation","aria-hidden":"true",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:Y,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},se("hiddenLastFocusableEl"));return S.createElement(S.Fragment,null,S.createElement("div",Rr,sn,Qt,_n,gr,Jr,S.createElement(V5,qc({hostName:"Dropdown",ref:M,visibleOptions:nn,virtualScrollerRef:fe},i,{appendTo:F,cx:K,filterValue:s,focusedOptionIndex:w,getOptionGroupChildren:ie,getOptionGroupLabel:Ue,getOptionGroupRenderKey:We,getOptionLabel:we,getOptionRenderKey:G,getSelectedOptionIndex:rn,hasFilter:ne,in:P,isOptionDisabled:Ae,isSelected:ln,onClick:J,onEnter:$,onEntered:A,onExit:z,onExited:q,onFilterClearIconClick:Et,onFilterInputChange:xt,onFilterInputKeyDown:xe,onOptionClick:bt,ptm:se,resetFilter:Ut,setFocusedOptionIndex:C,firstFocusableElement:S.createElement("span",Ka),lastFocusableElement:S.createElement("span",ba),sx:ge}))),Lt&&S.createElement(wf,qc({target:L,content:i.tooltip,pt:se("tooltip")},i.tooltipOptions)))}));df.displayName="Dropdown";function wY(t){if(Array.isArray(t))return t}function SY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function IO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Y(t,e){if(t){if(typeof t=="string")return IO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IO(t,e)}}function EY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CY(t,e){return wY(t)||SY(t,e)||_Y(t,e)||EY()}function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function MY(t,e){if(Eh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j5(t){var e=MY(t,"string");return Eh(e)==="symbol"?e:String(e)}function vi(t,e,n){return e=j5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var TY={root:"p-paginator p-component",left:"p-paginator-left-content",end:"p-paginator-right-content",firstPageIcon:"p-paginator-icon",firstPageButton:function(e){var n=e.disabled;return Ct("p-paginator-first p-paginator-element p-link",{"p-disabled":n})},prevPageIcon:"p-paginator-icon",prevPageButton:function(e){var n=e.disabled;return Ct("p-paginator-prev p-paginator-element p-link",{"p-disabled":n})},nextPageIcon:"p-paginator-icon",nextPageButton:function(e){var n=e.disabled;return Ct("p-paginator-next p-paginator-element p-link",{"p-disabled":n})},lastPageIcon:"p-paginator-icon",lastPageButton:function(e){var n=e.disabled;return Ct("p-paginator-last p-paginator-element p-link",{"p-disabled":n})},pageButton:function(e){var n=e.pageLink,r=e.startPageInView,i=e.endPageInView,o=e.page;return Ct("p-paginator-page p-paginator-element p-link",{"p-paginator-page-start":n===r,"p-paginator-page-end":n===i,"p-highlight":n-1===o})},pages:"p-paginator-pages"},PY=`
@layer primereact {
    .p-paginator {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .p-paginator-left-content {
        margin-right: auto;
    }
    
    .p-paginator-right-content {
        margin-left: auto;
    }
    
    .p-paginator-page,
    .p-paginator-next,
    .p-paginator-last,
    .p-paginator-first,
    .p-paginator-prev,
    .p-paginator-current {
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        line-height: 1;
        user-select: none;
        overflow: hidden;
        position: relative;
    }
    
    .p-paginator-element:focus {
        z-index: 1;
        position: relative;
    }
}
`,Fy=Sn.extend({defaultProps:{__TYPE:"Paginator",__parentMetadata:null,totalRecords:0,rows:0,first:0,pageLinkSize:5,rowsPerPageOptions:null,alwaysShow:!0,style:null,className:null,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPageChange:null,leftContent:null,rightContent:null,dropdownAppendTo:null,currentPageReportTemplate:"({currentPage} of {totalPages})",children:void 0},css:{classes:TY,styles:PY}}),RY=Sn.extend({defaultProps:{__TYPE:"CurrentPageReport",pageCount:null,page:null,first:null,rows:null,totalRecords:null,reportTemplate:"({currentPage} of {totalPages})",template:null,children:void 0}}),AY=Sn.extend({defaultProps:{__TYPE:"FirstPageLink",disabled:!1,onClick:null,template:null,firstPageLinkIcon:null,children:void 0}}),IY=Sn.extend({defaultProps:{__TYPE:"JumpToPageInput",page:null,rows:null,pageCount:null,disabled:!1,template:null,onChange:null,children:void 0,metaData:null,ptm:null}}),OY=Sn.extend({defaultProps:{__TYPE:"LastPageLink",disabled:!1,onClick:null,template:null,lastPageLinkIcon:null,children:void 0}}),DY=Sn.extend({defaultProps:{__TYPE:"NextPageLink",disabled:!1,onClick:null,template:null,nextPageLinkIcon:null,children:void 0}}),kY=Sn.extend({defaultProps:{__TYPE:"PageLinks",value:null,page:null,rows:null,pageCount:null,links:null,template:null,children:void 0}}),LY=Sn.extend({defaultProps:{__TYPE:"PrevPageLink",disabled:!1,onClick:null,template:null,prevPageLinkIcon:null,children:void 0}}),NY=Sn.extend({defaultProps:{__TYPE:"RowsPerPageDropdown",options:null,value:null,page:null,pageCount:null,totalRecords:0,appendTo:null,onChange:null,template:null,disabled:!1,children:void 0}});function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var G5=S.memo(function(t){var e=Nn(),n=S.useContext(Xn),r=RY.getProps(t,n),i={currentPage:r.page+1,totalPages:r.pageCount,first:Math.min(r.first+1,r.totalRecords),last:Math.min(r.first+r.rows,r.totalRecords),rows:r.rows,totalRecords:r.totalRecords},o=r.reportTemplate.replace("{currentPage}",i.currentPage).replace("{totalPages}",i.totalPages).replace("{first}",i.first).replace("{last}",i.last).replace("{rows}",i.rows).replace("{totalRecords}",i.totalRecords),a=e({"aria-live":"polite",className:"p-paginator-current"},r.ptm("current",{hostName:r.hostName})),s=S.createElement("span",a,o);if(r.template){var l=DO(DO({},i),{ariaLive:"polite",className:"p-paginator-current",element:s,props:r});return _e.getJSXElement(r.template,l)}return s});G5.displayName="CurrentPageReport";function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var W5=S.memo(function(t){var e=Nn(),n=S.useContext(Xn),r=AY.getProps(t,n),i=r.ptm,o=r.cx,a=function(y){return i(y,{hostName:r.hostName,context:{disabled:r.disabled}})},s=Ct("p-paginator-first p-paginator-element p-link",{"p-disabled":r.disabled}),l="p-paginator-icon",u=e({className:o("firstPageIcon")},a("firstPageIcon")),c=r.firstPageLinkIcon||S.createElement(A5,u),f=Hn.getJSXIcon(c,FY({},u),{props:r}),p=e({type:"button",className:o("firstPageButton",{disabled:r.disabled}),onClick:r.onClick,disabled:r.disabled,"aria-label":Ei("firstPageLabel")},a("firstPageButton")),m=S.createElement("button",p,f,S.createElement(ai,null));if(r.template){var v={onClick:r.onClick,className:s,iconClassName:l,disabled:r.disabled,element:m,props:r};return _e.getJSXElement(r.template,v)}return m});W5.displayName="FirstPageLink";function LO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j5(r.key),r)}}function UY(t,e,n){return e&&LO(t.prototype,e),n&&LO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Xi=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),Ao=UY(function t(){zY(this,t)});vi(Ao,"ripple",!1);vi(Ao,"inputStyle","outlined");vi(Ao,"locale","en");vi(Ao,"appendTo",null);vi(Ao,"cssTransition",!0);vi(Ao,"autoZIndex",!0);vi(Ao,"hideOverlaysOnDocumentScrolling",!1);vi(Ao,"nonce",null);vi(Ao,"nullSortOrder",1);vi(Ao,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});vi(Ao,"pt",void 0);vi(Ao,"filterMatchModeOptions",{text:[Xi.STARTS_WITH,Xi.CONTAINS,Xi.NOT_CONTAINS,Xi.ENDS_WITH,Xi.EQUALS,Xi.NOT_EQUALS],numeric:[Xi.EQUALS,Xi.NOT_EQUALS,Xi.LESS_THAN,Xi.LESS_THAN_OR_EQUAL_TO,Xi.GREATER_THAN,Xi.GREATER_THAN_OR_EQUAL_TO],date:[Xi.DATE_IS,Xi.DATE_IS_NOT,Xi.DATE_BEFORE,Xi.DATE_AFTER]});vi(Ao,"changeTheme",function(t,e,n,r){var i,o=document.getElementById(n),a=o.cloneNode(!0),s=o.getAttribute("href").replace(t,e);a.setAttribute("id",n+"-clone"),a.setAttribute("href",s),a.addEventListener("load",function(){o.remove(),a.setAttribute("id",n),r&&r()}),(i=o.parentNode)===null||i===void 0||i.insertBefore(a,o.nextSibling)});var BY={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",prevMilliSecond:"Previous Second",nextMilliSecond:"Next Second",am:"am",pm:"pm",today:"Today",now:"Now",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}};function $5(t,e){var n=Ao.locale;try{var r=HY(n).aria[t];if(r)for(var i in e)e.hasOwnProperty(i)&&(r=r.replace("{".concat(i,"}"),e[i]));return r}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(n,"')."))}}function HY(t){var e=t||Ao.locale;return BY[e]}var K5=S.memo(function(t){Nn();var e=S.useContext(Xn),n=IY.getProps(t,e),r=$5("jumpToPageInputLabel"),i=function(u){n.onChange&&n.onChange(n.rows*(u.value-1),n.rows)},o=n.pageCount>0?n.page+1:0,a=S.createElement(N5,{value:o,onChange:i,className:"p-paginator-page-input",disabled:n.disabled,pt:n.ptm("JTPInput"),unstyled:n.unstyled,__parentMetadata:{parent:n.metaData},"aria-label":r});if(n.template){var s={value:o,onChange:i,disabled:n.disabled,className:"p-paginator-page-input","aria-label":r,element:a,props:n};return _e.getJSXElement(n.template,s)}return a});K5.displayName="JumpToPageInput";function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var X5=S.memo(function(t){var e=Nn(),n=S.useContext(Xn),r=OY.getProps(t,n),i=r.ptm,o=r.cx,a=function(y){return i(y,{hostName:r.hostName,context:{disabled:r.disabled}})},s=Ct("p-paginator-last p-paginator-element p-link",{"p-disabled":r.disabled}),l="p-paginator-icon",u=e({className:o("lastPageIcon")},a("lastPageIcon")),c=r.lastPageLinkIcon||S.createElement(F5,u),f=Hn.getJSXIcon(c,VY({},u),{props:r}),p=e({type:"button",className:o("lastPageButton",{disabled:r.disabled}),onClick:r.onClick,disabled:r.disabled,"aria-label":Ei("lastPageLabel")},a("lastPageButton")),m=S.createElement("button",p,f,S.createElement(ai,null));if(r.template){var v={onClick:r.onClick,className:s,iconClassName:l,disabled:r.disabled,element:m,props:r};return _e.getJSXElement(r.template,v)}return m});X5.displayName="LastPageLink";function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var q5=S.memo(function(t){var e=Nn(),n=S.useContext(Xn),r=DY.getProps(t,n),i=r.ptm,o=r.cx,a=function(y){return i(y,{hostName:r.hostName,context:{disabled:r.disabled}})},s=Ct("p-paginator-next p-paginator-element p-link",{"p-disabled":r.disabled}),l="p-paginator-icon",u=e({className:o("nextPageIcon")},a("nextPageIcon")),c=r.nextPageLinkIcon||S.createElement(U5,u),f=Hn.getJSXIcon(c,jY({},u),{props:r}),p=e({type:"button",className:o("nextPageButton",{disabled:r.disabled}),onClick:r.onClick,disabled:r.disabled,"aria-label":Ei("nextPageLabel")},a("nextPageButton")),m=S.createElement("button",p,f,S.createElement(ai,null));if(r.template){var v={onClick:r.onClick,className:s,iconClassName:l,disabled:r.disabled,element:m,nextPageLinkIcon:f,props:r};return _e.getJSXElement(r.template,v)}return m});q5.displayName="NextPageLink";var Y5=S.memo(function(t){var e=Nn(),n=S.useContext(Xn),r=kY.getProps(t,n),i=r.ptm,o=r.cx,a=function(m,v){return i(v,{hostName:r.hostName,context:{active:m-1===r.page}})},s=function(m,v){r.onClick&&r.onClick({originalEvent:m,value:v}),m.preventDefault()},l;if(r.value){var u=r.value[0],c=r.value[r.value.length-1];l=r.value.map(function(p){var m=Ct("p-paginator-page p-paginator-element p-link",{"p-paginator-page-start":p===u,"p-paginator-page-end":p===c,"p-highlight":p-1===r.page}),v=e({type:"button",onClick:function(x){return s(x,p)},className:o("pageButton",{pageLink:p,startPageInView:u,endPageInView:c,page:r.page}),disabled:r.disabled,"aria-label":Ei("pageLabel",{page:p}),"aria-current":p-1===r.page?"true":void 0},a(p,"pageButton")),b=S.createElement("button",v,p,S.createElement(ai,null));if(r.template){var y={onClick:function(x){return s(x,p)},className:m,view:{startPage:u-1,endPage:c-1},page:p-1,currentPage:r.page,totalPages:r.pageCount,ariaLabel:Ei("pageLabel",{page:p}),ariaCurrent:p-1===r.page?"true":void 0,element:b,props:r};b=_e.getJSXElement(r.template,y)}return S.createElement(S.Fragment,{key:p},b)})}var f=e({className:o("pages")},i("pages",{hostName:r.hostName}));return S.createElement("span",f,l)});Y5.displayName="PageLinks";function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Z5=S.memo(function(t){var e=Nn(),n=S.useContext(Xn),r=LY.getProps(t,n),i=r.ptm,o=r.cx,a=function(y){return i(y,{hostName:r.hostName,context:{disabled:r.disabled}})},s=Ct("p-paginator-prev p-paginator-element p-link",{"p-disabled":r.disabled}),l="p-paginator-icon",u=e({className:o("prevPageIcon")},a("prevPageIcon")),c=r.prevPageLinkIcon||S.createElement(z5,u),f=Hn.getJSXIcon(c,GY({},u),{props:r}),p=e({type:"button",className:o("prevPageButton",{disabled:r.disabled}),onClick:r.onClick,disabled:r.disabled,"aria-label":Ei("previousPageLabel")},a("prevPageButton")),m=S.createElement("button",p,f,S.createElement(ai,null));if(r.template){var v={onClick:r.onClick,className:s,iconClassName:l,disabled:r.disabled,element:m,props:r};return _e.getJSXElement(r.template,v)}return m});Z5.displayName="PrevPageLink";var J5=S.memo(function(t){Nn();var e=S.useContext(Xn),n=NY.getProps(t,e),r=n.options&&n.options.length>0,i=r?n.options.map(function(u){return{label:String(u),value:u}}):[],o=eo("choose"),a=$5("jumpToPageDropdownLabel"),s=r?S.createElement(S.Fragment,null,S.createElement(df,{value:n.value,options:i,onChange:n.onChange,appendTo:n.appendTo,disabled:n.disabled,placeholder:o,"aria-label":a,pt:n.ptm("RPPDropdown"),unstyled:n.unstyled,__parentMetadata:{parent:n.metaData}})):null;if(n.template){var l={value:n.value,options:i,onChange:n.onChange,appendTo:n.appendTo,currentPage:n.page,totalPages:n.pageCount,totalRecords:n.totalRecords,disabled:n.disabled,ariaLabel:a,element:s,props:n};return _e.getJSXElement(n.template,l)}return s});J5.displayName="RowsPerPageDropdown";function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Q5=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=Fy.getProps(t,r),o=WY({props:i},i.__parentMetadata),a=Fy.setMetaData(o),s=a.ptm,l=a.cx,u=a.isUnstyled;Xo(Fy.css.styles,u,{name:"paginator"});var c=S.useRef(null),f=Math.floor(i.first/i.rows),p=Math.ceil(i.totalRecords/i.rows),m=f===0,v=f===p-1,b=p===0,y=function(){var F=p,ce=Math.min(i.pageLinkSize,F),se=Math.max(0,Math.ceil(f-ce/2)),K=Math.min(F-1,se+ce-1),ge=i.pageLinkSize-(K-se+1);return se=Math.max(0,se-ge),[se,K]},g=function(){for(var F=[],ce=y(),se=ce[0],K=ce[1],ge=se;ge<=K;ge++)F.push(ge+1);return F},x=function(F,ce){var se=p,K=Math.floor(F/ce);if(K>=0&&K<se){var ge={first:F,rows:ce,page:K,pageCount:se};i.onPageChange&&i.onPageChange(ge)}},w=function(F){x(0,i.rows),F.preventDefault()},C=function(F){x(i.first-i.rows,i.rows),F.preventDefault()},R=function(F){x((F.value-1)*i.rows,i.rows)},E=function(F){x(i.first+i.rows,i.rows),F.preventDefault()},P=function(F){x((p-1)*i.rows,i.rows),F.preventDefault()},D=function(F){var ce=F.value;x(0,ce)};S.useImperativeHandle(e,function(){return{props:i,getElement:function(){return c.current}}}),Wn(function(){f>0&&i.first>=i.totalRecords&&x((p-1)*i.rows,i.rows)},[i.totalRecords]);var L=function(F,ce){var se;switch(F){case"FirstPageLink":se=S.createElement(W5,{hostName:"Paginator",key:F,onClick:w,disabled:m||b,template:ce,firstPageLinkIcon:i.firstPageLinkIcon,ptm:s,cx:l});break;case"PrevPageLink":se=S.createElement(Z5,{hostName:"Paginator",key:F,onClick:C,disabled:m||b,template:ce,prevPageLinkIcon:i.prevPageLinkIcon,ptm:s,cx:l});break;case"NextPageLink":se=S.createElement(q5,{hostName:"Paginator",key:F,onClick:E,disabled:v||b,template:ce,nextPageLinkIcon:i.nextPageLinkIcon,ptm:s,cx:l});break;case"LastPageLink":se=S.createElement(X5,{hostName:"Paginator",key:F,onClick:P,disabled:v||b,template:ce,lastPageLinkIcon:i.lastPageLinkIcon,ptm:s,cx:l});break;case"PageLinks":se=S.createElement(Y5,{hostName:"Paginator",key:F,value:g(),page:f,rows:i.rows,pageCount:p,onClick:R,template:ce,ptm:s,cx:l});break;case"RowsPerPageDropdown":se=S.createElement(J5,{hostName:"Paginator",key:F,value:i.rows,page:f,pageCount:p,totalRecords:i.totalRecords,options:i.rowsPerPageOptions,onChange:D,appendTo:i.dropdownAppendTo,template:ce,disabled:b,unstyled:i.unstyled,ptm:s,cx:l,metaData:o});break;case"CurrentPageReport":se=S.createElement(G5,{hostName:"Paginator",reportTemplate:i.currentPageReportTemplate,key:F,page:f,pageCount:p,first:i.first,rows:i.rows,totalRecords:i.totalRecords,template:ce,ptm:s});break;case"JumpToPageInput":se=S.createElement(K5,{hostName:"Paginator",key:F,rows:i.rows,page:f,pageCount:p,onChange:x,disabled:b,template:ce,ptm:s,unstyled:i.unstyled,metaData:o});break;default:se=null;break}return se},M=function(){var F=i.template;return F?Eh(F)==="object"?F.layout?F.layout.split(" ").map(function(ce){var se=ce.trim();return L(se,F[se])}):Object.entries(F).map(function(ce){var se=CY(ce,2),K=se[0],ge=se[1];return L(K,ge)}):F.split(" ").map(function(ce){return L(ce.trim())}):null};if(!i.alwaysShow&&p<=1)return null;var I=_e.getJSXElement(i.leftContent,i),V=_e.getJSXElement(i.rightContent,i),Z=M(),j=n({className:l("left")},s("left")),fe=I&&S.createElement("div",j,I),ye=n({className:l("end")},s("end")),ve=V&&S.createElement("div",ye,V),X=n({ref:c,className:Ct(i.className,l("root")),style:i.style},Fy.getOtherProps(i),s("root"));return S.createElement("div",X,fe,Z,ve)}));Q5.displayName="Paginator";function _C(){return _C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_C.apply(this,arguments)}var e9=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",_C({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z",fill:"currentColor"}))}));e9.displayName="BarsIcon";function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EC.apply(this,arguments)}var ov=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",EC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))}));ov.displayName="CheckIcon";function CC(){return CC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CC.apply(this,arguments)}var t9=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",CC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M0.609628 13.959C0.530658 13.9599 0.452305 13.9451 0.379077 13.9156C0.305849 13.8861 0.239191 13.8424 0.18294 13.787C0.118447 13.7234 0.0688234 13.6464 0.0376166 13.5614C0.00640987 13.4765 -0.00560954 13.3857 0.00241768 13.2956L0.25679 10.1501C0.267698 10.0041 0.331934 9.86709 0.437312 9.76516L9.51265 0.705715C10.0183 0.233014 10.6911 -0.0203041 11.3835 0.00127367C12.0714 0.00660201 12.7315 0.27311 13.2298 0.746671C13.7076 1.23651 13.9824 1.88848 13.9992 2.57201C14.0159 3.25554 13.7733 3.92015 13.32 4.4327L4.23648 13.5331C4.13482 13.6342 4.0017 13.6978 3.85903 13.7133L0.667067 14L0.609628 13.959ZM1.43018 10.4696L1.25787 12.714L3.50619 12.5092L12.4502 3.56444C12.6246 3.35841 12.7361 3.10674 12.7714 2.83933C12.8067 2.57193 12.7644 2.30002 12.6495 2.05591C12.5346 1.8118 12.3519 1.60575 12.1231 1.46224C11.8943 1.31873 11.6291 1.2438 11.3589 1.24633C11.1813 1.23508 11.0033 1.25975 10.8355 1.31887C10.6677 1.37798 10.5136 1.47033 10.3824 1.59036L1.43018 10.4696Z",fill:"currentColor"}))}));t9.displayName="PencilIcon";function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function $Y(t,e){if(lg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KY(t){var e=$Y(t,"string");return lg(e)==="symbol"?e:String(e)}function pl(t,e,n){return e=KY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var XY={root:function(e){var n=e.props;return Ct("p-badge p-component",pl({"p-badge-no-gutter":_e.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":_e.isEmpty(n.value),"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge"},"p-badge-".concat(n.severity),n.severity!==null))}},qY=`
@layer primereact {
    .p-badge {
        display: inline-block;
        border-radius: 10px;
        text-align: center;
        padding: 0 .5rem;
    }
    
    .p-overlay-badge {
        position: relative;
    }
    
    .p-overlay-badge .p-badge {
        position: absolute;
        top: 0;
        right: 0;
        transform: translate(50%,-50%);
        transform-origin: 100% 0;
        margin: 0;
    }
    
    .p-badge-dot {
        width: .5rem;
        min-width: .5rem;
        height: .5rem;
        border-radius: 50%;
        padding: 0;
    }
    
    .p-badge-no-gutter {
        padding: 0;
        border-radius: 50%;
    }
}
`,Uy=Sn.extend({defaultProps:{__TYPE:"Badge",__parentMetadata:null,value:null,severity:null,size:null,style:null,className:null,children:void 0},css:{classes:XY,styles:qY}});function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){pl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var n9=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=Uy.getProps(t,r),o=Uy.setMetaData(YY({props:i},i.__parentMetadata)),a=o.ptm,s=o.cx,l=o.isUnstyled;Xo(Uy.css.styles,l,{name:"badge"});var u=S.useRef(null);S.useImperativeHandle(e,function(){return{props:i,getElement:function(){return u.current}}});var c=n({ref:u,style:i.style,className:Ct(i.className,s("root"))},Uy.getOtherProps(i),a("root"));return S.createElement("span",c,i.value)}));n9.displayName="Badge";var ZY={icon:function(e){var n=e.props;return Ct("p-button-icon p-c",pl({},"p-button-icon-".concat(n.iconPos),n.label))},loadingIcon:function(e){var n=e.props,r=e.className;return Ct(r,{"p-button-loading-icon":n.loading})},label:"p-button-label p-c",root:function(e){var n=e.props,r=e.size,i=e.disabled;return Ct("p-button p-component",pl(pl(pl(pl({"p-button-icon-only":(n.icon||n.loading)&&!n.label&&!n.children,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-disabled":i,"p-button-loading":n.loading,"p-button-outlined":n.outlined,"p-button-raised":n.raised,"p-button-link":n.link,"p-button-text":n.text,"p-button-rounded":n.rounded,"p-button-loading-label-only":n.loading&&!n.icon&&n.label},"p-button-loading-".concat(n.iconPos),n.loading&&n.label),"p-button-".concat(r),r),"p-button-".concat(n.severity),n.severity),"p-button-plain",n.plain))}},zy=Sn.extend({defaultProps:{__TYPE:"Button",__parentMetadata:null,badge:null,badgeClassName:null,className:null,children:void 0,disabled:!1,icon:null,iconPos:"left",label:null,link:!1,loading:!1,loadingIcon:null,outlined:!1,plain:!1,raised:!1,rounded:!1,severity:null,size:null,text:!1,tooltip:null,tooltipOptions:null,visible:!0},css:{classes:ZY}});function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ES(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){pl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hs=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=zy.getProps(t,r),o=i.disabled||i.loading,a=ES(ES({props:i},i.__parentMetadata),{},{context:{disabled:o}}),s=zy.setMetaData(a),l=s.ptm,u=s.cx,c=s.isUnstyled;Xo(zy.css.styles,c,{name:"button",styled:!0});var f=S.useRef(e);if(S.useEffect(function(){_e.combinedRefs(f,e)},[f,e]),i.visible===!1)return null;var p=function(){var L=Ct("p-button-icon p-c",pl({},"p-button-icon-".concat(i.iconPos),i.label)),M=n({className:u("icon")},l("icon"));L=Ct(L,{"p-button-loading-icon":i.loading});var I=n({className:u("loadingIcon",{className:L})},l("loadingIcon")),V=i.loading?i.loadingIcon||S.createElement(rv,gm({},I,{spin:!0})):i.icon;return Hn.getJSXIcon(V,ES({},M),{props:i})},m=function(){var L=n({className:u("label")},l("label"));return i.label?S.createElement("span",L,i.label):!i.children&&!i.label&&S.createElement("span",gm({},L,{dangerouslySetInnerHTML:{__html:"&nbsp;"}}))},v=function(){if(i.badge){var L=n({className:Ct(i.badgeClassName),value:i.badge,unstyled:i.unstyled,__parentMetadata:{parent:a}},l("badge"));return S.createElement(n9,L,i.badge)}return null},b=!o||i.tooltipOptions&&i.tooltipOptions.showOnDisabled,y=_e.isNotEmpty(i.tooltip)&&b,g={large:"lg",small:"sm"},x=g[i.size],w=p(),C=m(),R=v(),E=i.label?i.label+(i.badge?" "+i.badge:""):i["aria-label"],P=n({ref:f,"aria-label":E,className:Ct(i.className,u("root",{size:x,disabled:o})),disabled:o},zy.getOtherProps(i),l("root"));return S.createElement(S.Fragment,null,S.createElement("button",P,w,C,i.children,R,S.createElement(ai,null)),y&&S.createElement(wf,gm({target:f,content:i.tooltip,pt:l("tooltip")},i.tooltipOptions)))}));hs.displayName="Button";function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MC.apply(this,arguments)}var r9=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",MC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z",fill:"currentColor"}))}));r9.displayName="FilterIcon";function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TC.apply(this,arguments)}var i9=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",TC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z",fill:"currentColor"}))}));i9.displayName="FilterSlashIcon";function PC(){return PC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PC.apply(this,arguments)}var o9=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",PC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"}))}));o9.displayName="PlusIcon";function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RC.apply(this,arguments)}var a9=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",RC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z",fill:"currentColor"}))}));a9.displayName="TrashIcon";function AC(){return AC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AC.apply(this,arguments)}var s9=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",AC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z",fill:"currentColor"}),S.createElement("path",{d:"M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z",fill:"currentColor"}),S.createElement("path",{d:"M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z",fill:"currentColor"}),S.createElement("path",{d:"M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z",fill:"currentColor"}))}));s9.displayName="SortAltIcon";function IC(){return IC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IC.apply(this,arguments)}var l9=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",IC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M2.59836 13.2009C2.44634 13.2009 2.29432 13.1449 2.1743 13.0248L0.174024 11.0246C-0.0580081 10.7925 -0.0580081 10.4085 0.174024 10.1764C0.406057 9.94441 0.79011 9.94441 1.02214 10.1764L2.59836 11.7527L4.17458 10.1764C4.40662 9.94441 4.79067 9.94441 5.0227 10.1764C5.25473 10.4085 5.25473 10.7925 5.0227 11.0246L3.02242 13.0248C2.90241 13.1449 2.75038 13.2009 2.59836 13.2009Z",fill:"currentColor"}),S.createElement("path",{d:"M2.59836 13.2009C2.27032 13.2009 1.99833 12.9288 1.99833 12.6008V1.39922C1.99833 1.07117 2.27036 0.799133 2.59841 0.799133C2.92646 0.799133 3.19849 1.07117 3.19849 1.39922V12.6008C3.19849 12.9288 2.92641 13.2009 2.59836 13.2009Z",fill:"currentColor"}),S.createElement("path",{d:"M13.3999 11.2006H6.99902C6.67098 11.2006 6.39894 10.9285 6.39894 10.6005C6.39894 10.2725 6.67098 10.0004 6.99902 10.0004H13.3999C13.728 10.0004 14 10.2725 14 10.6005C14 10.9285 13.728 11.2006 13.3999 11.2006Z",fill:"currentColor"}),S.createElement("path",{d:"M10.1995 6.39991H6.99902C6.67098 6.39991 6.39894 6.12788 6.39894 5.79983C6.39894 5.47179 6.67098 5.19975 6.99902 5.19975H10.1995C10.5275 5.19975 10.7996 5.47179 10.7996 5.79983C10.7996 6.12788 10.5275 6.39991 10.1995 6.39991Z",fill:"currentColor"}),S.createElement("path",{d:"M8.59925 3.99958H6.99902C6.67098 3.99958 6.39894 3.72754 6.39894 3.3995C6.39894 3.07145 6.67098 2.79941 6.99902 2.79941H8.59925C8.92729 2.79941 9.19933 3.07145 9.19933 3.3995C9.19933 3.72754 8.92729 3.99958 8.59925 3.99958Z",fill:"currentColor"}),S.createElement("path",{d:"M11.7997 8.80025H6.99902C6.67098 8.80025 6.39894 8.52821 6.39894 8.20017C6.39894 7.87212 6.67098 7.60008 6.99902 7.60008H11.7997C12.1277 7.60008 12.3998 7.87212 12.3998 8.20017C12.3998 8.52821 12.1277 8.80025 11.7997 8.80025Z",fill:"currentColor"}))}));l9.displayName="SortAmountDownIcon";function OC(){return OC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OC.apply(this,arguments)}var u9=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",OC({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M4.59864 3.99958C4.44662 3.99958 4.2946 3.94357 4.17458 3.82356L2.59836 2.24734L1.02214 3.82356C0.79011 4.05559 0.406057 4.05559 0.174024 3.82356C-0.0580081 3.59152 -0.0580081 3.20747 0.174024 2.97544L2.1743 0.97516C2.40634 0.743127 2.79039 0.743127 3.02242 0.97516L5.0227 2.97544C5.25473 3.20747 5.25473 3.59152 5.0227 3.82356C4.90268 3.94357 4.75066 3.99958 4.59864 3.99958Z",fill:"currentColor"}),S.createElement("path",{d:"M2.59841 13.2009C2.27036 13.2009 1.99833 12.9288 1.99833 12.6008V1.39922C1.99833 1.07117 2.27036 0.799133 2.59841 0.799133C2.92646 0.799133 3.19849 1.07117 3.19849 1.39922V12.6008C3.19849 12.9288 2.92646 13.2009 2.59841 13.2009Z",fill:"currentColor"}),S.createElement("path",{d:"M13.3999 11.2006H6.99902C6.67098 11.2006 6.39894 10.9285 6.39894 10.6005C6.39894 10.2725 6.67098 10.0004 6.99902 10.0004H13.3999C13.728 10.0004 14 10.2725 14 10.6005C14 10.9285 13.728 11.2006 13.3999 11.2006Z",fill:"currentColor"}),S.createElement("path",{d:"M10.1995 6.39991H6.99902C6.67098 6.39991 6.39894 6.12788 6.39894 5.79983C6.39894 5.47179 6.67098 5.19975 6.99902 5.19975H10.1995C10.5275 5.19975 10.7996 5.47179 10.7996 5.79983C10.7996 6.12788 10.5275 6.39991 10.1995 6.39991Z",fill:"currentColor"}),S.createElement("path",{d:"M8.59925 3.99958H6.99902C6.67098 3.99958 6.39894 3.72754 6.39894 3.3995C6.39894 3.07145 6.67098 2.79941 6.99902 2.79941H8.59925C8.92729 2.79941 9.19933 3.07145 9.19933 3.3995C9.19933 3.72754 8.92729 3.99958 8.59925 3.99958Z",fill:"currentColor"}),S.createElement("path",{d:"M11.7997 8.80025H6.99902C6.67098 8.80025 6.39894 8.52821 6.39894 8.20017C6.39894 7.87212 6.67098 7.60008 6.99902 7.60008H11.7997C12.1277 7.60008 12.3998 7.87212 12.3998 8.20017C12.3998 8.52821 12.1277 8.80025 11.7997 8.80025Z",fill:"currentColor"}))}));u9.displayName="SortAmountUpAltIcon";function Er(){return Er=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Er.apply(this,arguments)}function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function JY(t,e){if(ug(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ug(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c9(t){var e=JY(t,"string");return ug(e)==="symbol"?e:String(e)}function Kn(t,e,n){return e=c9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QY(t){if(Array.isArray(t))return DC(t)}function eZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f9(t,e){if(t){if(typeof t=="string")return DC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DC(t,e)}}function tZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ur(t){return QY(t)||eZ(t)||f9(t)||tZ()}function nZ(t){if(Array.isArray(t))return t}function rZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function iZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nr(t,e){return nZ(t)||rZ(t,e)||f9(t,e)||iZ()}var Tr=Sn.extend({defaultProps:{__TYPE:"Column",align:null,alignFrozen:"left",alignHeader:null,body:null,bodyClassName:null,bodyStyle:null,cellEditValidator:null,cellEditValidatorEvent:"click",className:null,colSpan:null,columnKey:null,dataType:"text",editor:null,excludeGlobalFilter:!1,expander:!1,exportField:null,exportable:!0,field:null,filter:!1,filterApply:null,filterClear:null,filterElement:null,filterField:null,filterFooter:null,filterFunction:null,filterHeader:null,filterHeaderClassName:null,filterHeaderStyle:null,filterMatchMode:null,filterMatchModeOptions:null,filterMaxLength:null,filterMenuClassName:null,filterMenuStyle:null,filterPlaceholder:null,filterType:"text",footer:null,footerClassName:null,footerStyle:null,frozen:!1,header:null,headerClassName:null,headerStyle:null,headerTooltip:null,headerTooltipOptions:null,hidden:!1,maxConstraints:2,onBeforeCellEditHide:null,onBeforeCellEditShow:null,onCellEditCancel:null,onCellEditComplete:null,onCellEditInit:null,onFilterApplyClick:null,onFilterClear:null,onFilterConstraintAdd:null,onFilterConstraintRemove:null,onFilterMatchModeChange:null,onFilterOperatorChange:null,reorderable:!0,resizeable:!0,rowEditor:!1,rowReorder:!1,rowReorderIcon:null,rowSpan:null,selectionMode:null,showAddButton:!0,showApplyButton:!0,showClearButton:!0,showFilterMatchModes:!0,showFilterMenu:!0,showFilterMenuOptions:!0,showFilterOperator:!0,sortField:null,sortFunction:null,sortable:!1,sortableDisabled:!1,style:null,children:void 0},getCProp:function(e,n){return _e.getComponentProp(e,n,Tr.defaultProps)},getCProps:function(e){return _e.getComponentProps(e,Tr.defaultProps)},getCOtherProps:function(e){return _e.getComponentDiffProps(e,Tr.defaultProps)}});function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var oZ=`
@layer primereact {
    .p-datatable {
        position: relative;
    }

    .p-datatable > .p-datatable-wrapper {
        overflow: auto;
    }

    .p-datatable-table {
        border-spacing: 0px;
        width: 100%;
    }

    .p-datatable .p-sortable-disabled {
        cursor: auto;
    }

    .p-datatable .p-sortable-column {
        cursor: pointer;
        user-select: none;
    }

    .p-datatable .p-sortable-column .p-column-title,
    .p-datatable .p-sortable-column .p-sortable-column-icon,
    .p-datatable .p-sortable-column .p-sortable-column-badge {
        vertical-align: middle;
    }

    .p-datatable .p-sortable-column .p-sortable-column-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }

    .p-datatable-selectable .p-selectable-row,
    .p-datatable-selectable-cell .p-selectable-cell {
        cursor: pointer;
    }

    .p-datatable-drag-selection-helper {
        position: absolute;
        z-index: 99999999;
    }

    /* Scrollable */
    .p-datatable-scrollable > .p-datatable-wrapper {
        position: relative;
    }

    .p-datatable-scrollable-table > .p-datatable-thead {
        position: sticky;
        top: 0;
        z-index: 1;
    }

    .p-datatable-scrollable-table > .p-datatable-frozen-tbody {
        position: sticky;
        z-index: 1;
    }

    .p-datatable-scrollable-table > .p-datatable-tfoot {
        position: sticky;
        bottom: 0;
        z-index: 1;
    }

    .p-datatable-scrollable .p-frozen-column {
        position: sticky;
        background: inherit;
    }

    .p-datatable-scrollable th.p-frozen-column {
        z-index: 1;
    }

    .p-datatable-flex-scrollable {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .p-datatable-flex-scrollable > .p-datatable-wrapper {
        display: flex;
        flex-direction: column;
        flex: 1;
        height: 100%;
    }

    .p-datatable-scrollable-table > .p-datatable-tbody > .p-rowgroup-header {
        position: sticky;
        z-index: 1;
    }

    /* Resizable */
    .p-datatable-resizable-table > .p-datatable-thead > tr > th,
    .p-datatable-resizable-table > .p-datatable-tfoot > tr > td,
    .p-datatable-resizable-table > .p-datatable-tbody > tr > td {
        overflow: hidden;
        white-space: nowrap;
    }

    .p-datatable-resizable-table > .p-datatable-thead > tr > th.p-resizable-column:not(.p-frozen-column) {
        background-clip: padding-box;
        position: relative;
    }

    .p-datatable-resizable-table-fit > .p-datatable-thead > tr > th.p-resizable-column:last-child .p-column-resizer {
        display: none;
    }

    .p-datatable .p-column-resizer {
        display: block;
        position: absolute;
        top: 0;
        right: 0;
        margin: 0;
        width: 0.5rem;
        height: 100%;
        padding: 0px;
        cursor: col-resize;
        border: 1px solid transparent;
    }

    .p-datatable .p-column-header-content {
        display: flex;
        align-items: center;
    }

    .p-datatable .p-column-resizer-helper {
        width: 1px;
        position: absolute;
        z-index: 10;
        display: none;
    }

    .p-datatable .p-row-editor-init,
    .p-datatable .p-row-editor-save,
    .p-datatable .p-row-editor-cancel {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }

    /* Expand */
    .p-datatable .p-row-toggler {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }

    /* Reorder */
    .p-datatable-reorder-indicator-up,
    .p-datatable-reorder-indicator-down {
        position: absolute;
        display: none;
    }

    .p-reorderable-column,
    .p-datatable-reorderablerow-handle {
        cursor: move;
    }

    /* Loader */
    .p-datatable .p-datatable-loading-overlay {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2;
    }

    /* Filter */
    .p-column-filter-row {
        display: flex;
        align-items: center;
        width: 100%;
    }

    .p-column-filter-menu {
        display: inline-flex;
        margin-left: auto;
    }

    .p-column-filter-row .p-column-filter-element {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-column-filter-menu-button,
    .p-column-filter-clear-button {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    .p-column-filter-overlay {
        position: absolute;
        top: 0;
        left: 0;
    }

    .p-column-filter-row-items {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .p-column-filter-row-item {
        cursor: pointer;
    }

    .p-column-filter-add-button,
    .p-column-filter-remove-button {
        justify-content: center;
    }

    .p-column-filter-add-button .p-button-label,
    .p-column-filter-remove-button .p-button-label {
        flex-grow: 0;
    }

    .p-column-filter-buttonbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .p-column-filter-buttonbar .p-button:not(.p-button-icon-only) {
        width: auto;
    }

    /* Responsive */
    .p-datatable .p-datatable-tbody > tr > td > .p-column-title {
        display: none;
    }

    /* VirtualScroller */
    .p-datatable-virtualscroller-spacer {
        display: flex;
    }

    .p-datatable .p-virtualscroller .p-virtualscroller-loading {
        transform: none;
        min-height: 0;
        position: sticky;
        top: 0;
        left: 0;
    }

    /* Alignment */
    .p-datatable .p-datatable-thead > tr > th.p-align-left > .p-column-header-content,
    .p-datatable .p-datatable-tbody > tr > td.p-align-left,
    .p-datatable .p-datatable-tfoot > tr > td.p-align-left {
        text-align: left;
        justify-content: flex-start;
    }

    .p-datatable .p-datatable-thead > tr > th.p-align-right > .p-column-header-content,
    .p-datatable .p-datatable-tbody > tr > td.p-align-right,
    .p-datatable .p-datatable-tfoot > tr > td.p-align-right {
        text-align: right;
        justify-content: flex-end;
    }

    .p-datatable .p-datatable-thead > tr > th.p-align-center > .p-column-header-content,
    .p-datatable .p-datatable-tbody > tr > td.p-align-center,
    .p-datatable .p-datatable-tfoot > tr > td.p-align-center {
        text-align: center;
        justify-content: center;
    }
}
`,aZ={root:function(e){var n=e.props,r=e.selectable;return Ct("p-datatable p-component",{"p-datatable-hoverable-rows":n.rowHover,"p-datatable-selectable":r&&!n.cellSelection,"p-datatable-selectable-cell":r&&n.cellSelection,"p-datatable-resizable":n.resizableColumns,"p-datatable-resizable-fit":n.resizableColumns&&n.columnResizeMode==="fit","p-datatable-scrollable":n.scrollable,"p-datatable-flex-scrollable":n.scrollable&&n.scrollHeight==="flex","p-datatable-responsive-stack":n.responsiveLayout==="stack","p-datatable-responsive-scroll":n.responsiveLayout==="scroll","p-datatable-striped":n.stripedRows,"p-datatable-gridlines":n.showGridlines,"p-datatable-grouped-header":n.headerColumnGroup!=null,"p-datatable-grouped-footer":n.footerColumnGroup!=null,"p-datatable-sm":n.size==="small","p-datatable-lg":n.size==="large"})},loadingIcon:"p-datatable-loading-icon",loadingOverlay:"p-datatable-loading-overlay p-component-overlay",header:"p-datatable-header",wrapper:"p-datatable-wrapper",table:function(e){var n=e.props;return Ct("p-datatable-table",{"p-datatable-scrollable-table":n.scrollable,"p-datatable-resizable-table":n.resizableColumns,"p-datatable-resizable-table-fit":n.resizableColumns&&n.columnResizeMode==="fit"})},thead:"p-datatable-thead",tfoot:"p-datatable-tfoot",footer:"p-datatable-footer",resizeHelper:"p-column-resizer-helper",reorderIndicatorUp:"p-datatable-reorder-indicator-up",reorderIndicatorDown:"p-datatable-reorder-indicator-down",paginator:function(e){var n=e.position;return Ct("p-paginator-"+n)},bodyCell:function(e){var n=e.selectionMode,r=e.editor,i=e.editingState,o=e.frozen,a=e.cellSelected,s=e.align,l=e.bodyProps,u=e.getCellParams;return Ct(Kn({"p-selection-column":n!==null,"p-editable-column":r,"p-cell-editing":r&&i,"p-frozen-column":o,"p-selectable-cell":l.allowCellSelection&&l.isSelectable({data:u(),index:l.rowIndex}),"p-highlight":a},"p-align-".concat(s),!!s))},columnTitle:"p-column-title",bodyRow:function(e){var n=e.rowProps;return Ct({"p-highlight":!n.allowCellSelection&&n.selected||n.contextMenuSelected,"p-highlight-contextmenu":n.contextMenuSelected,"p-selectable-row":n.allowRowSelection&&n.isSelectable({data:n.rowData,index:n.rowIndex}),"p-row-odd":n.rowIndex%2!==0})},rowGroupTogglerIcon:"p-row-toggler-icon",rowGroupToggler:"p-row-toggler p-link",rowGroupHeader:"p-rowgroup-header",rowGroupHeaderName:"p-rowgroup-header-name",rowGroupFooter:"p-rowgroup-footer",rowReorderIcon:"p-datatable-reorderablerow-handle",rowTogglerIcon:"p-row-toggler-icon",rowToggler:"p-row-toggler p-link",rowEditorSaveIcon:"p-row-editor-save-icon",rowEditorSaveButton:"p-row-editor-save p-link",rowEditorCancelIcon:"p-row-editor-cancel-icon",rowEditorCancelButton:"p-row-editor-cancel p-link",rowEditorInitIcon:"p-row-editor-init-icon",rowEditorInitButton:"p-row-editor-init p-link",rowExpansion:"p-datatable-row-expansion",virtualScrollerSpacer:function(e){var n=e.className;return n},tbody:function(e){var n=e.className;return n},filterInput:"p-fluid p-column-filter-element",filterMenuButton:function(e){var n=e.overlayVisibleState,r=e.hasFilter;return Ct("p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":n,"p-column-filter-menu-button-active":r()})},headerFilterClearButton:function(e){var n=e.hasRowFilter;return Ct("p-column-filter-clear-button p-link",{"p-hidden-space":!n()})},filterSeparator:"p-column-filter-separator",filterRowItem:function(e){var n=e.isRowMatchModeSelected,r=e.isShowMatchModes,i=e.value;return r()?Ct("p-column-filter-row-item",{"p-highlight":i&&n(i)}):void 0},filterRowItems:"p-column-filter-row-items",filterOperator:"p-column-filter-operator",filterConstraints:"p-column-filter-constraints",filterConstraint:"p-column-filter-constraint",filterAddRule:"p-column-filter-add-rule",filterButtonBar:"p-column-filter-buttonbar",filterOverlay:function(e){var n=e.columnFilterProps,r=e.context,i=e.getColumnProp;return Ct("p-column-filter-overlay p-component p-fluid",i("filterMenuClassName"),{"p-column-filter-overlay-menu":n.display==="menu","p-input-filled":r&&r.inputStyle==="filled"||En.inputStyle==="filled","p-ripple-disabled":r&&r.ripple===!1||En.ripple===!1})},columnFilter:function(e){var n=e.columnFilterProps;return Ct("p-column-filter p-fluid",{"p-column-filter-row":n.display==="row","p-column-filter-menu":n.display==="menu"})},columnResizer:"p-column-resizer",emptyMessage:"p-datatable-emptymessage",sortBadge:"p-sortable-column-badge",sortIcon:"p-sortable-column-icon",checkboxWrapper:function(e){var n=e.rowProps,r=e.focusedState;return Ct("p-checkbox p-component",{"p-checkbox-focused":r,"p-disabled":n.disabled})},checkbox:function(e){var n=e.rowProps,r=e.focusedState;return Ct("p-checkbox-box p-component",{"p-highlight":n.checked,"p-focus":r})},checkboxIcon:"p-checkbox-icon",radiobuttonWrapper:function(e){var n=e.rowProps,r=e.focusedState;return Ct("p-radiobutton p-component",{"p-radiobutton-focused":r,"p-disabled":n.disabled})},radiobutton:function(e){var n=e.rowProps,r=e.focusedState;return Ct("p-radiobutton-box p-component",{"p-highlight":n.checked,"p-focus":r})},radiobuttonIcon:"p-radiobutton-icon",headerTitle:"p-column-title",headerCheckboxWrapper:"p-checkbox p-component",headerCheckbox:function(e){var n=e.headerProps,r=e.focusedState;return Ct("p-checkbox-box p-component",{"p-highlight":n.checked,"p-disabled":n.disabled,"p-focus":r})},headerCheckboxIcon:"p-checkbox-icon",headerContent:"p-column-header-content",headerCell:function(e){var n=e.headerProps,r=e.frozen,i=e.sortMeta,o=e.align,a=e._isSortableDisabled,s=e.getColumnProp;return _e.isEmpty(n)?Ct("p-filter-column",{"p-frozen-column":r}):Ct(Kn({"p-filter-column":!n.headerColumnGroup&&n.filterDisplay==="row","p-sortable-column":s("sortable"),"p-resizable-column":n.resizableColumns&&s("resizeable"),"p-highlight":i.sorted,"p-frozen-column":r,"p-selection-column":s("selectionMode"),"p-sortable-disabled":s("sortable")&&a,"p-reorderable-column":n.reorderableColumns&&s("reorderable")&&!r},"p-align-".concat(o),!!o))},footerCell:function(e){var n=e.getColumnProp,r=e.align;return Ct(Kn({"p-frozen-column":n("frozen")},"p-align-".concat(r),!!r))},transition:"p-connected-overlay"},sZ={wrapper:{overflow:"auto"},resizeHelper:{display:"none"},reorderIndicatorUp:function(e){var n=e.style;return jO({},n)},reorderIndicatorDown:function(e){var n=e.style;return jO({},n)}},By=Sn.extend({defaultProps:{__TYPE:"DataTable",alwaysShowPaginator:!0,breakpoint:"960px",cellClassName:null,cellSelection:!1,checkIcon:null,className:null,collapsedRowIcon:null,columnResizeMode:"fit",compareSelectionBy:"deepEquals",contextMenuSelection:null,csvSeparator:",",currentPageReportTemplate:"({currentPage} of {totalPages})",customRestoreState:null,customSaveState:null,dataKey:null,defaultSortOrder:1,dragSelection:!1,editMode:null,editingRows:null,emptyMessage:null,expandableRowGroups:!1,expandedRowIcon:null,expandedRows:null,exportFilename:"download",exportFunction:null,filterClearIcon:null,filterDelay:300,filterDisplay:"menu",filterIcon:null,filterLocale:void 0,filters:null,first:0,footer:null,footerColumnGroup:null,frozenRow:!1,frozenValue:null,frozenWidth:null,globalFilter:null,globalFilterFields:null,globalFilterMatchMode:Fn.CONTAINS,groupRowsBy:null,header:null,headerColumnGroup:null,id:null,isDataSelectable:null,lazy:!1,loading:!1,loadingIcon:null,metaKeySelection:!1,multiSortMeta:null,onAllRowsSelect:null,onAllRowsUnselect:null,onCellClick:null,onCellSelect:null,onCellUnselect:null,onColReorder:null,onColumnResizeEnd:null,onColumnResizerClick:null,onColumnResizerDoubleClick:null,onContextMenu:null,onContextMenuSelectionChange:null,onFilter:null,onPage:null,onRowClick:null,onRowCollapse:null,onRowDoubleClick:null,onRowEditCancel:null,onRowEditChange:null,onRowEditComplete:null,onRowEditInit:null,onRowEditSave:null,onRowExpand:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowPointerDown:null,onRowPointerUp:null,onRowReorder:null,onRowSelect:null,onRowToggle:null,onRowUnselect:null,onSelectAllChange:null,onSelectionChange:null,onSort:null,onStateRestore:null,onStateSave:null,onValueChange:null,pageLinkSize:5,paginator:!1,paginatorClassName:null,paginatorDropdownAppendTo:null,paginatorLeft:null,paginatorPosition:"bottom",paginatorRight:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",removableSort:!1,reorderIndicatorDownIcon:null,reorderIndicatorUpIcon:null,reorderableColumns:!1,reorderableRows:!1,resizableColumns:!1,responsiveLayout:"scroll",rowClassName:null,rowEditValidator:null,rowEditorCancelIcon:null,rowEditorInitIcon:null,rowEditorSaveIcon:null,rowExpansionTemplate:null,rowGroupFooterTemplate:null,rowGroupHeaderTemplate:null,rowGroupMode:null,rowHover:!1,rows:null,rowsPerPageOptions:null,scrollHeight:null,scrollable:!1,selectAll:!1,selectOnEdit:!0,selection:null,selectionAriaLabel:null,selectionAutoFocus:!0,selectionMode:null,selectionPageOnly:!1,showGridlines:!1,showHeaders:!0,showRowReorderElement:null,showSelectAll:!0,showSelectionElement:null,size:"normal",sortField:null,sortIcon:null,sortMode:"single",sortOrder:null,stateKey:null,stateStorage:"session",stripedRows:!1,style:null,tabIndex:0,tableClassName:null,tableStyle:null,totalRecords:null,value:null,virtualScrollerOptions:null,children:void 0},css:{styles:oZ,classes:aZ,inlineStyles:sZ}});function lZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uZ(t,e){if(t==null)return{};var n=lZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var d9=S.memo(function(t){var e=S.useState(!1),n=nr(e,2),r=n[0],i=n[1],o=Nn(),a=function(){return Tr.getCProps(t.column)},s=t.ptCallbacks,l=s.ptm,u=s.ptmo,c=s.cx,f=function(P){var D={props:a(),parent:t.metaData,hostName:t.hostName,state:{focused:r},context:{index:t.tabIndex,checked:t.checked,disabled:t.disabled}};return o(l("column.".concat(P),{column:D}),l("column.".concat(P),D),u(a(),P,D))},p=function(){i(!0)},m=function(){i(!1)},v=function(P){t.disabled||(i(!0),t.onChange(P),P.preventDefault())},b=function(P){(P.code==="Space"||P.key===" ")&&(v(P),P.preventDefault())},y=o({className:c("checkboxIcon")},f("checkboxIcon")),g=t.checked?t.checkIcon||S.createElement(ov,y):null,x=Hn.getJSXIcon(g,cZ({},y),{props:t}),w=t.disabled?null:"0",C=o({className:c("checkboxWrapper",{rowProps:t,focusedState:r}),onClick:function(P){return v(P)}},f("checkboxWrapper")),R=o({className:c("checkbox",{rowProps:t,focusedState:r}),role:"checkbox","aria-checked":t.checked,tabIndex:w,onKeyDown:function(P){return b(P)},onFocus:function(P){return p()},onBlur:function(P){return m()},"aria-label":t.ariaLabel},f("checkbox"));return S.createElement("div",C,S.createElement("div",R,x))});d9.displayName="RowCheckbox";var h9=S.memo(function(t){var e=S.useState(!1),n=nr(e,2),r=n[0],i=n[1],o=S.useRef(null),a=Nn(),s=function(){return Tr.getCProps(t.column)},l=t.ptCallbacks,u=l.ptm,c=l.ptmo,f=l.cx,p=function(L){var M={props:s(),parent:t.metaData,hostName:t.hostName,state:{focused:r},context:{index:t.tabIndex,checked:t.checked,disabled:t.disabled}};return a(u("column.".concat(L),{column:M}),u("column.".concat(L),M),c(s(),L,M))},m=function(){i(!0)},v=function(){i(!1)},b=function(L){t.disabled||(t.onChange(L),ke.focus(o.current))},y=function(L){(L.code==="Space"||L.key===" ")&&(b(L),L.preventDefault())},g=function(L){b(L)},x="".concat(t.tableSelector,"_dt_radio"),w=a({className:f("radiobuttonWrapper",{rowProps:t,focusedState:r})},p("radiobuttonWrapper")),C=a({className:"p-hidden-accessible"},p("hiddenInputWrapper")),R=a({name:x,type:"radio",checked:t.checked,onFocus:function(L){return m()},onBlur:function(L){return v()},onChange:function(L){return g(L)},onKeyDown:function(L){return y(L)},"aria-label":t.ariaLabel},p("hiddenInput")),E=a({className:f("radiobutton",{rowProps:t,focusedState:r}),onClick:function(L){return b(L)},role:"radio","aria-checked":t.checked},p("radiobutton")),P=a({className:f("radiobuttonIcon")},p("radiobuttonIcon"));return S.createElement("div",w,S.createElement("div",C,S.createElement("input",Er({ref:o},R))),S.createElement("div",E,S.createElement("div",P)))});h9.displayName="RowRadioButton";function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var p9=S.memo(function(t){var e=Nn(),n=S.useState(t.editing),r=nr(n,2),i=r[0],o=r[1],a=S.useState(t.rowData),s=nr(a,2),l=s[0],u=s[1],c=S.useState({}),f=nr(c,2),p=f[0],m=f[1],v=S.useRef(null),b=S.useRef(null),y=S.useRef(null),g=S.useRef(!1),x=S.useRef(null),w=S.useRef(null),C=t.ptCallbacks,R=C.ptm,E=C.ptmo,P=C.cx,D=function(H){return Tr.getCProp(t.column,H)},L=function(){return Tr.getCProps(t.column)},M=function(H){var me=L(),He={props:me,parent:t.metaData,hostName:t.hostName,state:{styleObject:p,editing:i,editingRowData:l},context:{index:t.index,size:t.metaData.props.size,showGridlines:t.metaData.props.showGridlines}};return e(R("column.".concat(H),{column:He}),R("column.".concat(H),He),E(me,H,He))},I=D("field")||"field_".concat(t.index),V=t.dataKey&&t.rowData&&t.rowData[t.dataKey]||t.rowIndex,Z=Vo({type:"click",listener:function(H){!g.current&&ce(H.target)&&setTimeout(function(){je(H,!0)},0),g.current=!1},options:!0}),j=nr(Z,2),fe=j[0],ye=j[1],ve=function(){return D("editor")},X=function(){return t.selection?t.selection instanceof Array?gt(t.selection)>-1:F(t.selection):!1},ne=function(H){return t.compareSelectionBy==="equals"?H===t.rowData:_e.equals(H,t.rowData,t.dataKey)},F=function(H){return H&&(H.rowIndex===t.rowIndex||ne(H.rowData))&&(H.field===I||H.cellIndex===t.index)},ce=function(H){return v.current&&!(v.current.isSameNode(H)||v.current.contains(H))},se=function(H){return t.virtualScrollerOptions?t.virtualScrollerOptions[H]:null},K=function(){var H=D("bodyStyle"),me=D("style");return D("frozen")?Object.assign({},me,H,p):Object.assign({},me,H)},ge=function(){return{value:Be(),field:I,rowData:t.rowData,rowIndex:t.rowIndex,cellIndex:t.index,selected:X(),column:t.column,props:t}},ze=function(H){var me=ge();return Fo({originalEvent:H},me)},Be=function(H){return _e.resolveFieldData(H||t.rowData,I)},st=function(){return t.editingMeta&&t.editingMeta[V]?t.editingMeta[V].data:t.rowData},it=function(H){return t.allowCellSelection?H?0:t.rowIndex===0&&t.index===0?t.tabIndex:-1:null},gt=function(H){return(H||[]).findIndex(function(me){return F(me)})},yt=function(H){var me=ze(H),He=D("onBeforeCellEditHide");He&&He(me),setTimeout(function(){o(!1),ye(),Ha.off("overlay-click",y.current),y.current=null,g.current=!1},1)},je=function(H,me){var He=ze(H);u(function(ct){var nt=ct,Pe=Be(nt),dt=Fo(Fo({},He),{},{newRowData:nt,newValue:Pe}),te=D("onCellEditCancel"),ue=D("cellEditValidator"),ae=D("onCellEditComplete");!me&&te&&te(dt);var Ne=!0;return!me&&ue&&(Ne=ue(dt)),Ne?(me&&ae&&setTimeout(function(){return ae(dt)}),yt(H)):H.preventDefault(),nt})},Y=function Le(H){var me=H.nextElementSibling;return me?ke.getAttribute(me,"data-p-selectable-cell")?me:Le(me):null},Fe=function Le(H){var me=H.previousElementSibling;return me?ke.getAttribute(me,"data-p-selectable-cell")?me:Le(me):null},Me=function Le(H){var me=H.parentElement.nextElementSibling,He=me?me.children[t.index]:null;return me&&He?ke.getAttribute(me,"data-p-selectable-row")&&ke.getAttribute(He,"data-p-selectable-cell")?He:Le(He):null},et=function Le(H){var me=H.parentElement.previousElementSibling,He=me?me.children[t.index]:null;return me&&He?ke.getAttribute(me,"data-p-selectable-row")&&ke.getAttribute(He,"data-p-selectable-cell")?He:Le(He):null},Ve=function(H,me){H&&me&&(H.tabIndex=-1,me.tabIndex=t.tabIndex)},lt=function(){clearTimeout(x.current),x.current=setTimeout(function(){if(i){var H=t.editMode==="cell"?ke.getFirstFocusableElement(v.current,':not([data-pc-section="editorkeyhelperlabel"])'):ke.findSingle(v.current,'[data-p-row-editor-save="true"]');H&&H.focus()}b.current&&(b.current.tabIndex=i?-1:0)},1)},J=function(){clearTimeout(w.current),w.current=setTimeout(function(){var H=t.editMode==="row"?ke.findSingle(v.current,'[data-p-row-editor-init="true"]'):null;H&&H.focus()},1)},Q=function(){if(D("frozen")){var H=Fo({},p),me=D("alignFrozen");if(me==="right"){var He=0,ct=v.current&&v.current.nextElementSibling;ct&&(He=ke.getOuterWidth(ct)+parseFloat(ct.style.right||0)),H.right=He+"px"}else{var nt=0,Pe=v.current&&v.current.previousElementSibling;Pe&&(nt=ke.getOuterWidth(Pe)+parseFloat(Pe.style.left||0)),H.left=nt+"px"}var dt=p.left===H.left&&p.right===H.right;!dt&&m(H)}},xe=function(H){var me=Fo({},l);_e.mutateFieldData(me,I,H),u(me);var He=st();He&&_e.mutateFieldData(He,I,H)},B=function(H){var me=ze(H);if(t.editMode!=="row"&&ve()&&!i&&(t.selectOnEdit||!t.selectOnEdit&&t.selected)){g.current=!0;var He=D("onBeforeCellEditShow"),ct=D("onCellEditInit"),nt=D("cellEditValidatorEvent");if(He&&(He(me)===!1||H&&H.defaultPrevented))return;setTimeout(function(){o(!0),!(ct&&(ct(me)===!1||H&&H.defaultPrevented))&&nt==="click"&&(fe(),y.current=function(Pe){ce(Pe.target)||(g.current=!0)},Ha.on("overlay-click",y.current))},1)}t.allowCellSelection&&t.onClick&&t.onClick(me)},O=function(H){var me=ze(H);t.onMouseDown&&t.onMouseDown(me)},ee=function(H){var me=ze(H);t.onMouseUp&&t.onMouseUp(me)},he=function(H){if(t.editMode!=="row"&&((H.code==="Enter"||H.code==="Tab")&&je(H,!0),H.code==="Escape"&&je(H,!1)),t.allowCellSelection){var me=H.target,He=H.currentTarget;switch(H.code){case"ArrowLeft":var ct=Fe(He);ct&&(Ve(He,ct),ct.focus()),H.preventDefault();break;case"ArrowRight":var nt=Y(He);nt&&(Ve(He,nt),nt.focus()),H.preventDefault();break;case"ArrowUp":var Pe=et(He);Pe&&(Ve(He,Pe),Pe.focus()),H.preventDefault();break;case"ArrowDown":var dt=Me(He);dt&&(Ve(He,dt),dt.focus()),H.preventDefault();break;case"Enter":case"NumpadEnter":H.shiftKey||H.ctrlKey||ke.isClickable(me)||(B(H),H.preventDefault());break;case"Space":!ke.isClickable(me)&&!me.readOnly&&(B(H),H.preventDefault());break}}},le=function(H){g.current=!1,t.editMode!=="row"&&i&&D("cellEditValidatorEvent")==="blur"&&je(H,!0)},Ee=function(H){B(H)},qe=function(H){t.onRadioChange({originalEvent:H,data:t.rowData,index:t.rowIndex})},Ke=function(H){t.onCheckboxChange({originalEvent:H,data:t.rowData,index:t.rowIndex})},be=function(H){t.onRowToggle({originalEvent:H,data:t.rowData}),H.preventDefault(),H.stopPropagation()},Ye=function(H){t.onRowEditInit({originalEvent:H,data:t.rowData,newData:st(),field:I,index:t.rowIndex})},at=function(H){t.onRowEditSave({originalEvent:H,data:t.rowData,newData:st(),field:I,index:t.rowIndex}),J()},tt=function(H){t.onRowEditCancel({originalEvent:H,data:t.rowData,newData:st(),field:I,index:t.rowIndex}),J()};S.useEffect(function(){D("frozen")&&Q(),(t.editMode==="cell"||t.editMode==="row")&&lt()}),S.useEffect(function(){t.editMode==="row"&&t.editing!==i&&o(t.editing)},[t.editMode,t.editing,i]),Wn(function(){(t.editMode==="cell"||t.editMode==="row")&&u(st())},[t.editingMeta]),S.useEffect(function(){if(t.editMode==="cell"||t.editMode==="row"){var Le=ze(),H=Fo(Fo({},Le),{},{editing:i,editingKey:V});t.onEditingMetaChange(H)}},[i]),Ro(function(){y.current&&(Ha.off("overlay-click",y.current),y.current=null)});var ft=function(){var H=se("getLoaderOptions")(t.rowIndex,{cellIndex:t.index,cellFirst:t.index===0,cellLast:t.index===se("columns").length-1,cellEven:t.index%2===0,cellOdd:t.index%2!==0,column:t.column,field:I}),me=_e.getJSXElement(se("loadingTemplate"),H),He=e(M("bodyCell"),{role:"cell"});return S.createElement("td",He,me)},De=function(){var H,me,He=t.allowCellSelection&&X(),ct=t.editMode==="row",nt=it(He),Pe=D("selectionMode"),dt=D("rowReorder"),te=D("header"),ue=D("body"),ae=D("editor"),Ne=D("frozen"),rt=D("align"),wt=Be(),bt={column:t.column,field:I,rowIndex:t.rowIndex,frozenRow:t.frozenRow,props:t.tableProps},xt=_e.getPropValue(D("rowEditor"),t.rowData,bt),Et=_e.getPropValue(D("expander"),t.rowData,bt),Ut=_e.getPropValue(t.cellClassName,wt,bt),mn=_e.getPropValue(D("bodyClassName"),t.rowData,bt),Xt=K(),rn=e({className:P("columnTitle")},M("columnTitle")),hn=t.responsiveLayout==="stack"&&S.createElement("span",rn,_e.getJSXElement(te,{props:t.tableProps}));if(Pe){var Ht=t.showSelectionElement?t.showSelectionElement(t.rowData,{rowIndex:t.rowIndex,props:t.tableProps}):!0,ln;if(Ht){var _t=t.selectionAriaLabel||t.tableProps.dataKey,N=_e.resolveFieldData(t.rowData,_t);ln="".concat(t.selected?Ei("unselectLabel"):Ei("selectLabel")," ").concat(N)}H=Ht&&S.createElement(S.Fragment,null,Pe==="single"&&S.createElement(h9,{hostName:t.hostName,column:t.column,checked:t.selected,disabled:!t.isSelectable({data:t.rowData,index:t.rowIndex}),onChange:qe,tabIndex:t.tabIndex,tableSelector:t.tableSelector,ariaLabel:ln,ptCallbacks:t.ptCallbacks,metaData:t.metaData}),Pe==="multiple"&&S.createElement(d9,{hostName:t.hostName,column:t.column,checked:t.selected,disabled:!t.isSelectable({data:t.rowData,index:t.rowIndex}),onChange:Ke,tabIndex:t.tabIndex,ariaLabel:ln,checkIcon:t.checkIcon,ptCallbacks:t.ptCallbacks,metaData:t.metaData}))}else if(dt){var W=t.showRowReorderElement?t.showRowReorderElement(t.rowData,{rowIndex:t.rowIndex,props:t.tableProps}):!0,$=e({className:P("rowReorderIcon")},M("rowReorderIcon")),A=D("rowReorderIcon")||S.createElement(e9,$);H=W?Hn.getJSXIcon(A,Fo({},$),{props:t}):null}else if(Et){var z=e({className:P("rowTogglerIcon"),"aria-hidden":!0},M("rowTogglerIcon")),q=t.expanded?t.expandedRowIcon||S.createElement(Lh,z):t.collapsedRowIcon||S.createElement(Qg,z),re=Hn.getJSXIcon(q,Fo({},z),{props:t}),oe="".concat(t.tableSelector,"_content_").concat(t.rowIndex,"_expanded"),Ie=t.selectionAriaLabel||t.tableProps.dataKey,we=_e.resolveFieldData(t.rowData,Ie),pe="".concat(t.expanded?Ei("collapseLabel"):Ei("expandLabel")," ").concat(we),G={onClick:be,className:P("rowToggler")},Re=e(Fo(Fo({},G),{},{type:"button","aria-expanded":t.expanded,"aria-controls":oe,tabIndex:t.tabIndex,"aria-label":pe}),M("rowToggler"));H=S.createElement("button",Re,re,S.createElement(ai,null)),ue&&(G.element=H,H=_e.getJSXElement(ue,t.rowData,{column:t.column,field:I,rowIndex:t.rowIndex,frozenRow:t.frozenRow,props:t.tableProps,expander:G}))}else if(ct&&xt){var Ae={},We=e({className:P("rowEditorSaveIcon")},M("rowEditorSaveIcon")),Ue=e({className:P("rowEditorCancelIcon")},M("rowEditorCancelIcon")),ie=e({className:P("rowEditorInitIcon")},M("rowEditorInitIcon")),Oe=Hn.getJSXIcon(t.rowEditorSaveIcon||S.createElement(ov,We),Fo({},We),{props:t}),Ze=Hn.getJSXIcon(t.rowEditorCancelIcon||S.createElement(iv,Ue),Fo({},Ue),{props:t}),Ge=Hn.getJSXIcon(t.rowEditorInitIcon||S.createElement(t9,ie),Fo({},ie),{props:t});if(i){Ae={editing:!0,onSaveClick:at,saveClassName:P("rowEditorSaveButton"),onCancelClick:tt,cancelClassName:P("rowEditorCancelButton")};var $e=e(Kn(Kn({type:"button",name:"row-save","aria-label":Ei("saveEdit"),onClick:Ae.onSaveClick,className:Ae.saveClassName,tabIndex:t.tabIndex},"aria-label",Ei("saveEdit")),"data-p-row-editor-save",!0),M("rowEditorSaveButton")),At=e(Kn({type:"button",name:"row-cancel","aria-label":Ei("cancelEdit"),onClick:Ae.onCancelClick,className:Ae.cancelClassName,tabIndex:t.tabIndex},"aria-label",Ei("cancelEdit")),M("rowEditorCancelButton"));H=S.createElement(S.Fragment,null,S.createElement("button",$e,Oe,S.createElement(ai,null)),S.createElement("button",At,Ze,S.createElement(ai,null)))}else{Ae={editing:!1,onInitClick:Ye,initClassName:P("rowEditorInitButton")};var Pt=e(Kn(Kn({type:"button",name:"row-edit","aria-label":Ei("editRow"),onClick:Ae.onInitClick,className:Ae.initClassName,tabIndex:t.tabIndex},"aria-label",Ei("editRow")),"data-p-row-editor-init",!0),M("rowEditorInitButton"));H=S.createElement("button",Pt,Ge,S.createElement(ai,null))}ue&&(Ae.element=H,H=_e.getJSXElement(ue,t.rowData,{column:t.column,field:I,rowIndex:t.rowIndex,frozenRow:t.frozenRow,props:t.tableProps,rowEditor:Ae}))}else ue&&(!i||!ae)?H=ue?_e.getJSXElement(ue,t.rowData,{column:t.column,field:I,rowIndex:t.rowIndex,frozenRow:t.frozenRow,props:t.tableProps}):wt:ae&&i?H=_e.getJSXElement(ae,{rowData:l,value:Be(l),column:t.column,field:I,rowIndex:t.rowIndex,frozenRow:t.frozenRow,props:t.tableProps,editorCallback:xe}):H=wt;if(H=typeof H=="boolean"?H.toString():H,!ct&&ae){var Vt=e({tabIndex:"0",className:"p-cell-editor-key-helper p-hidden-accessible",onFocus:function(Lt){return Ee(Lt)}},M("editorKeyHelperLabel")),un=e(M("editorKeyHelper"));me=S.createElement("a",Er({ref:b},Vt),S.createElement("span",un))}var nn=e({style:Xt,className:Ct(mn,D("className"),Ut,P("bodyCell",{selectionMode:Pe,editor:ae,editingState:i,frozen:Ne,cellSelected:He,align:rt,bodyProps:t,getCellParams:ge})),rowSpan:t.rowSpan,tabIndex:nt,role:"cell",onClick:function(Lt){return B(Lt)},onKeyDown:function(Lt){return he(Lt)},onBlur:function(Lt){return le(Lt)},onMouseDown:function(Lt){return O(Lt)},onMouseUp:function(Lt){return ee(Lt)},"data-p-selectable-cell":t.allowCellSelection&&t.isSelectable({data:ge(),index:t.rowIndex}),"data-p-selection-column":D("selectionMode")!=null,"data-p-editable-column":ve()!=null,"data-p-cell-editing":i,"data-p-frozen-column":Ne},M("root"),M("bodyCell"));return S.createElement("td",Er({ref:v},nn),me,hn,H)};return se("loading")?ft():De()});p9.displayName="BodyCell";function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var m9=S.memo(function(t){var e=Nn(),n=S.useState(!1),r=nr(n,2),i=r[0],o=r[1],a=t.onRowEditChange?t.editing:i,s=t.ptCallbacks,l=s.ptm,u=s.cx,c=function(O){return l(O,{parent:t.metaData,hostName:t.hostName,state:{editing:a},context:{index:t.index,selectable:t.allowRowSelection&&t.isSelectable({data:t.rowData,index:t.rowIndex}),selected:!t.allowCellSelection&&t.selected||t.contextMenuSelected,stripedRows:t.metaData.props.stripedRows}})},f=function(O,ee){return Tr.getCProp(O,ee)},p=function(){return t.selectionMode&&t.selectionModeInColumn!=="single"&&t.selectionModeInColumn!=="multiple"},m=function(O){var ee=f(O,"field");return t.groupRowsBy&&ee?Array.isArray(t.groupRowsBy)?t.groupRowsBy.indexOf(ee)>-1:t.groupRowsBy===ee:!1},v=function(O,ee){return t.compareSelectionBy==="equals"?O===ee:_e.equals(O,ee,t.dataKey)},b=function(){return p()&&!t.allowCellSelection?t.rowIndex===0?t.tabIndex:-1:null},y=function(O,ee){return(O||[]).findIndex(function(he){return v(ee,he)})},g=function(O,ee){O&&ee&&(O.tabIndex=-1,ee.tabIndex=t.tabIndex)},x=function(O){var ee=ke.findSingle(O.parentNode,"tr[data-p-selectable-row]");return ee||null},w=function B(O){var ee=O.nextElementSibling;return ee?ke.getAttribute(ee,"data-p-selectable-row")===!0?ee:B(ee):null},C=function B(O){var ee=O.previousElementSibling;return ee?ke.getAttribute(ee,"data-p-selectable-row")===!0?ee:B(ee):null},R=function(O){var ee=ke.findSingle(O.parentNode,"tr[data-p-selectable-row]:last-child");return ee||null},E=function(O,ee,he){if(f(ee,"hidden"))return!1;if(t.rowGroupMode&&t.rowGroupMode==="rowspan"&&m(ee)){var le=O[he-1];if(le){var Ee=_e.resolveFieldData(O[he],f(ee,"field")),qe=_e.resolveFieldData(le,f(ee,"field"));return Ee!==qe}}return!0},P=function(O,ee,he){if(m(ee)){for(var le=_e.resolveFieldData(O[he],f(ee,"field")),Ee=le,qe=0;le===Ee;){qe++;var Ke=O[++he];if(Ke)Ee=_e.resolveFieldData(Ke,f(ee,"field"));else break}return qe===1?null:qe}else return null},D=function(O){t.onRowClick({originalEvent:O,data:t.rowData,index:t.rowIndex})},L=function(O){t.onRowDoubleClick({originalEvent:O,data:t.rowData,index:t.rowIndex})},M=function(O){t.onRowPointerDown({originalEvent:O,data:t.rowData,index:t.rowIndex})},I=function(O){t.onRowPointerUp({originalEvent:O,data:t.rowData,index:t.rowIndex})},V=function(O){t.onRowRightClick({originalEvent:O,data:t.rowData,index:t.rowIndex})},Z=function(O){t.onRowMouseEnter({originalEvent:O,data:t.rowData,index:t.rowIndex})},j=function(O){t.onRowMouseLeave({originalEvent:O,data:t.rowData,index:t.rowIndex})},fe=function(O){t.onRowTouchEnd(O)},ye=function(O){if(p()&&!t.allowCellSelection){var ee=O.target,he=O.currentTarget;switch(O.code){case"ArrowDown":ve(he,O);break;case"ArrowUp":X(he,O);break;case"Home":ne(he,O);break;case"End":F(he,O);break;case"Enter":ce(he,O,ee);break;case"Space":se(he,O,ee);break;case"Tab":K(he,O);break}}},ve=function(O,ee){var he=w(O);he&&(g(O,he),he.focus()),ee.preventDefault()},X=function(O,ee){var he=C(O);he&&(g(O,he),he.focus()),ee.preventDefault()},ne=function(O,ee){var he=x(O);he&&(g(O,he),he.focus()),ee.preventDefault()},F=function(O,ee){var he=R(O);he&&(g(O,he),he.focus()),ee.preventDefault()},ce=function(O,ee,he){ke.isClickable(he)||(D(ee),ee.preventDefault())},se=function(O,ee,he){!ke.isClickable(he)&&!he.readOnly&&(D(ee),ee.preventDefault())},K=function(O,ee){var he=O.parentNode,le=ke.find(he,'tr[data-p-selectable-row="true"]');if(ee.code==="Tab"&&le&&le.length>0){var Ee=ke.findSingle(he,'tr[data-p-highlight="true"]'),qe=ke.findSingle(he,'tr[data-p-selectable-row="true"][tabindex="0"]');Ee?(Ee.tabIndex="0",qe&&qe!==Ee&&(qe.tabIndex="-1")):(le[0].tabIndex="0",qe!==le[0]&&(le[rowIndex].tabIndex="-1"))}},ge=function(O){t.onRowMouseDown({originalEvent:O,data:t.rowData,index:t.rowIndex})},ze=function(O){t.onRowMouseUp({originalEvent:O,data:t.rowData,index:t.rowIndex})},Be=function(O){t.onRowDragStart({originalEvent:O,data:t.rowData,index:t.rowIndex})},st=function(O){t.onRowDragOver({originalEvent:O,data:t.rowData,index:t.rowIndex})},it=function(O){t.onRowDragLeave({originalEvent:O,data:t.rowData,index:t.rowIndex})},gt=function(O){t.onRowDragEnd({originalEvent:O,data:t.rowData,index:t.rowIndex})},yt=function(O){t.onRowDrop({originalEvent:O,data:t.rowData,index:t.rowIndex})},je=function(O,ee){if(t.onRowEditChange){var he,le=t.dataKey,Ee=O.originalEvent,qe=O.data,Ke=O.index,be=O.newData;if(le){var Ye=String(_e.resolveFieldData(qe,le));if(he=t.editingRows?fZ({},t.editingRows):{},ee)he[Ye]=!0;else{delete he[Ye];var at=String(_e.resolveFieldData(be,le));delete he[at]}}else{var tt=y(t.editingRows,qe);he=t.editingRows?Ur(t.editingRows):[],tt!==-1?he=he.filter(function(ft,De){return De!==tt}):he.push(qe)}t.onRowEditChange({originalEvent:Ee,data:he,index:Ke})}else o(ee)},Y=function(O){var ee=O.originalEvent;t.onRowEditInit&&t.onRowEditInit({originalEvent:ee,data:t.rowData,index:t.rowIndex}),je(O,!0),ee.preventDefault()},Fe=function(O){var ee=O.originalEvent,he=O.newData,le=t.rowEditValidator?t.rowEditValidator(he,{props:t.tableProps,rowIndex:t.rowIndex}):!0;t.onRowEditSave&&t.onRowEditSave({originalEvent:ee,data:t.rowData,index:t.rowIndex,newData:he,valid:le}),le&&(t.onRowEditComplete&&t.onRowEditComplete(O),je(O,!1)),ee.preventDefault()},Me=function(O){var ee=O.originalEvent;t.onRowEditCancel&&t.onRowEditCancel({originalEvent:ee,data:t.rowData,index:t.rowIndex}),je(O,!1),ee.preventDefault()},et=function(){return t.columns.map(function(O,ee){if(E(t.value,O,t.index)){var he="".concat(t.rowIndex,"_").concat(f(O,"columnKey")||f(O,"field"),"_").concat(ee),le=t.rowGroupMode==="rowspan"?P(t.value,O,t.index):null;return S.createElement(p9,{hostName:t.hostName,key:he,allowCellSelection:t.allowCellSelection,cellClassName:t.cellClassName,checkIcon:t.checkIcon,collapsedRowIcon:t.collapsedRowIcon,column:O,compareSelectionBy:t.compareSelectionBy,dataKey:t.dataKey,editMode:t.editMode,editing:a,editingMeta:t.editingMeta,expanded:t.expanded,expandedRowIcon:t.expandedRowIcon,frozenRow:t.frozenRow,index:ee,isSelectable:t.isSelectable,onCheckboxChange:t.onCheckboxChange,onClick:t.onCellClick,onEditingMetaChange:t.onEditingMetaChange,onMouseDown:t.onCellMouseDown,onMouseUp:t.onCellMouseUp,onRadioChange:t.onRadioChange,onRowEditCancel:Me,onRowEditInit:Y,onRowEditSave:Fe,onRowToggle:t.onRowToggle,responsiveLayout:t.responsiveLayout,rowData:t.rowData,rowEditorCancelIcon:t.rowEditorCancelIcon,rowEditorInitIcon:t.rowEditorInitIcon,rowEditorSaveIcon:t.rowEditorSaveIcon,rowIndex:t.rowIndex,rowSpan:le,selectOnEdit:t.selectOnEdit,selected:t.selected,selection:t.selection,selectionAriaLabel:t.tableProps.selectionAriaLabel,showRowReorderElement:t.showRowReorderElement,showSelectionElement:t.showSelectionElement,tabIndex:t.tabIndex,tableProps:t.tableProps,tableSelector:t.tableSelector,value:t.value,virtualScrollerOptions:t.virtualScrollerOptions,ptCallbacks:t.ptCallbacks,metaData:t.metaData})}return null})},Ve=_e.getPropValue(t.rowClassName,t.rowData,{props:t.tableProps}),lt={height:t.virtualScrollerOptions?t.virtualScrollerOptions.itemSize:void 0},J=et(),Q=b(),xe=e({role:"row",tabIndex:Q,className:Ct(Ve,u("bodyRow",{rowProps:t})),style:lt,onMouseDown:function(O){return ge(O)},onMouseUp:function(O){return ze(O)},onMouseEnter:function(O){return Z(O)},onMouseLeave:function(O){return j(O)},onClick:function(O){return D(O)},onDoubleClick:function(O){return L(O)},onPointerDown:function(O){return M(O)},onPointerUp:function(O){return I(O)},onContextMenu:function(O){return V(O)},onTouchEnd:function(O){return fe(O)},onKeyDown:function(O){return ye(O)},onDragStart:function(O){return Be(O)},onDragOver:function(O){return st(O)},onDragLeave:function(O){return it(O)},onDragEnd:function(O){return gt(O)},onDrop:function(O){return yt(O)},"aria-selected":t!=null&&t.selectionMode?t.selected:null,"data-p-selectable-row":t.allowRowSelection&&t.isSelectable({data:t.rowData,index:t.rowIndex}),"data-p-highlight":t.selected,"data-p-highlight-contextmenu":t.contextMenuSelected},c("bodyRow"));return S.createElement("tr",xe,J)});m9.displayName="BodyRow";function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var g9=S.memo(function(t){var e=Nn(),n=t.ptCallbacks,r=n.ptm,i=n.ptmo,o=n.cx,a=function(b){t.onClick({originalEvent:b,data:t.rowData})},s=function(){return Tr.getCProps(t.column)},l=function(b){var y=s(),g={props:s(),parent:t.metaData,hostName:t.hostName};return e(r("column.".concat(b),{column:g}),r("column.".concat(b),g),i(y,b,g))},u=e({className:o("rowGroupTogglerIcon"),"aria-hidden":!0},l("rowGroupTogglerIcon")),c=t.expanded?t.expandedRowIcon||S.createElement(Lh,u):t.collapsedRowIcon||S.createElement(Qg,u),f=Hn.getJSXIcon(c,dZ({},u),{props:t}),p=t.expanded?Ei("collapseLabel"):Ei("expandLabel"),m=e({type:"button",onClick:function(b){return a(b)},className:o("rowGroupToggler"),tabIndex:t.tabIndex,"aria-label":p},l("rowGroupToggler"));return S.createElement("button",m,f,S.createElement(ai,null))});g9.displayName="RowTogglerButton";var hZ=["originalEvent"];function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var p1=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=t.ptCallbacks,i=r.ptm,o=r.ptmo,a=r.cx,s=r.isUnsyled,l=S.useState({}),u=nr(l,2),c=u[0],f=u[1],p=function(G){return Tr.getCProps(G)},m=function(G){var Re=p(t.column),Ae={props:Re,parent:t.metaData,hostName:t.hostName,state:{rowGroupHeaderStyleObject:c}};return n(i("column.".concat(G),{column:Ae}),i("column.".concat(G),Ae),o(Re,G,Ae))},v=S.useRef(null),b=S.useCallback(function(pe){v.current=pe,t.virtualScrollerContentRef&&t.virtualScrollerContentRef(pe)},[t]),y=S.useRef(null),g=S.useRef(null),x=S.useRef(null),w=S.useRef(null),C=S.useRef(null),R=S.useRef(null),E=S.useRef(!1),P=S.useRef(!1),D=S.useRef(null),L=S.useRef(null),M=t.rowGroupMode&&t.rowGroupMode==="subheader",I=t.selectionMode==="radiobutton",V=t.selectionMode==="checkbox",Z=t.selectionModeInColumn==="single",j=t.selectionModeInColumn==="multiple",fe=function(G,Re){return Me()?(G.rowIndex===Re.rowIndex||G.rowData===Re.rowData)&&(G.field===Re.field||G.cellIndex===Re.cellIndex):t.compareSelectionBy==="equals"?G===Re:_e.equals(G,Re,t.dataKey)},ye=function(){return t.selectionMode||t.selectionModeInColumn!==null||t.columns&&t.columns.some(function(G){return G&&!!Ve(G,"selectionMode")})},ve=function(){return t.selectionMode==="single"&&!j||!I&&Z},X=function(){return t.selectionMode==="multiple"&&!Z||j},ne=function(){return I&&Z},F=function(){return V&&j},ce=function(G){return G&&t.selection?t.selection instanceof Array?J(t.selection,G)>-1:fe(G,t.selection):!1},se=function(G){return G&&t.contextMenuSelection?fe(G,t.contextMenuSelection):!1},K=function(G){return t.isDataSelectable?t.isDataSelectable(G):!0},ge=function(G){if(G&&t.expandedRows){if(M&&t.expandableRowGroups)return ze(G);if(t.dataKey){var Re=_e.resolveFieldData(G,t.dataKey),Ae=!1;return t.expandedRows&&(Array.isArray(t.expandedRows)?Ae=t.expandedRows.some(function(We){return _e.resolveFieldData(We,t.dataKey)===Re}):Ae=t.expandedRows[Re]!==void 0),Ae}else return J(t.expandedRows,G)!==-1}return!1},ze=function(G){return t.dataKey===t.groupRowsBy?Object.keys(t.expandedRows).some(function(Re){return _e.equals(Re,_e.resolveFieldData(G,t.dataKey))}):t.expandedRows.some(function(Re){return _e.equals(Re,G,t.groupRowsBy)})},Be=function(G){return t.editMode==="row"&&G&&t.editingRows?t.dataKey?t.editingRows?t.editingRows[_e.resolveFieldData(G,t.dataKey)]!==void 0:!1:J(t.editingRows,G)!==-1:!1},st=function(G){return t.dragSelection&&X()&&!G.originalEvent.shiftKey},it=function(G){return!Me()&&st(G)||t.reorderableRows},gt=function(G){return Me()&&st(G)},yt=function(G){return!ke.isClickable(G.originalEvent.target)},je=function(G){return!E.current&&(!t.metaKeySelection||t.metaKeySelection&&(G.originalEvent.metaKey||G.originalEvent.ctrlKey))},Y=function(G){return X()&&G.originalEvent.shiftKey&&x.current!==null},Fe=function(){return(t.selectionMode||t.selectionModeInColumn)&&!ne()&&!F()},Me=function(){return t.cellSelection&&!Z&&!j},et=function(){return t.columns?t.columns.length:0},Ve=function(G,Re){return Tr.getCProp(G,Re)},lt=function(G,Re){return Re=Re||t.virtualScrollerOptions,Re?Re[G]:null},J=function(G,Re){return(G||[]).findIndex(function(Ae){return fe(Re,Ae)})},Q=function(){return t.scrollable?{top:c.top}:null},xe=function(G,Re){return t.dataKey?_e.resolveFieldData(G,t.dataKey):Re},B=function(G,Re,Ae){var We=_e.resolveFieldData(Re,t.groupRowsBy),Ue=G[Ae-1];if(Ue){var ie=_e.resolveFieldData(Ue,t.groupRowsBy);return!_e.deepEquals(We,ie)}else return!0},O=function(G,Re,Ae,We){if(t.expandableRowGroups&&!We)return!1;var Ue=_e.resolveFieldData(Re,t.groupRowsBy),ie=G[Ae+1];if(ie){var Oe=_e.resolveFieldData(ie,t.groupRowsBy);return!_e.deepEquals(Ue,Oe)}else return!0},ee=function(){v.current.style.top=ke.getOuterHeight(v.current.previousElementSibling)+"px"},he=function(){var G=ke.getOuterHeight(v.current.previousElementSibling),Re=G+"px";c.top!==Re&&f({top:Re})},le=function(G){var Re=G.originalEvent,Ae=G.data,We=G.index,Ue=G.toggleable,ie=G.type;if(K({data:Ae,index:We})){var Oe=ce(Ae),Ze=t.selection;Oe?Ue&&(Ze=null,tt({originalEvent:Re,data:Ae,type:ie})):(Ze=Ae,at({originalEvent:Re,data:Ae,type:ie})),De(Re,!0),t.onSelectionChange&&Ze!==t.selection&&t.onSelectionChange({originalEvent:Re,value:Ze,type:ie})}},Ee=function(G){var Re=G.originalEvent,Ae=G.data,We=G.index,Ue=G.toggleable,ie=G.type;if(K({data:Ae,index:We})){var Oe=ce(Ae),Ze=t.selection||[];if(Oe)if(Ue){var Ge=J(Ze,Ae);Ze=t.selection.filter(function($e,At){return At!==Ge}),tt({originalEvent:Re,data:Ae,type:ie})}else Ze.length&&(t.selection.forEach(function($e){return tt({originalEvent:Re,data:$e,type:ie})}),Ze=[Ae],at({originalEvent:Re,data:Ae,type:ie}));else Ze=_e.isObject(Ze)?[Ze]:Ze,Ze=Ue&&X()?[].concat(Ur(Ze),[Ae]):[Ae],at({originalEvent:Re,data:Ae,type:ie});De(Re,!0),t.onSelectionChange&&Ze!==t.selection&&t.onSelectionChange({originalEvent:Re,value:Ze,type:ie})}},qe=function(G,Re){ke.clearSelection(),C.current=Me()?G.rowIndex:G.index;var Ae=Ke(G);t.onSelectionChange&&Ae!==t.selection&&t.onSelectionChange({originalEvent:G.originalEvent,value:Ae,type:Re}),x.current=C.current,w.current=G.cellIndex,De(G.originalEvent,!1)},Ke=function(G){var Re,Ae;return C.current>x.current?(Re=x.current,Ae=C.current):C.current<x.current?(Re=C.current,Ae=x.current):Re=Ae=C.current,t.paginator&&(Re=Math.max(Re-t.first,0),Ae-=t.first),Me()?Ye(G,Re,Ae):be(G,Re,Ae)},be=function(G,Re,Ae){for(var We=t.value,Ue=[],ie=Re;ie<=Ae;ie++){var Oe=We[ie];K({data:Oe,index:ie})&&(Ue.push(Oe),at({originalEvent:G.originalEvent,data:Oe,type:"row"}))}return Ue},Ye=function(G,Re,Ae){var We,Ue,ie=G.cellIndex;ie>w.current?(We=w.current,Ue=ie):ie<w.current?(We=ie,Ue=w.current):We=Ue=ie;for(var Oe=t.value,Ze=[],Ge=Re;Ge<=Ae;Ge++)for(var $e=Oe[Ge],At=t.columns,Pt=t.paginator?Ge+t.first:Ge,Vt=We;Vt<=Ue;Vt++){var un=Ve(At[Vt],"field"),nn=_e.resolveFieldData($e,un),Kt={value:nn,field:un,rowData:$e,rowIndex:Pt,cellIndex:Vt,selected:!0};K({data:Kt,index:Ge})&&(Ze.push(Kt),at({originalEvent:G.originalEvent,data:Kt,type:"cell"}))}return Ze},at=function(G){Me()?t.onCellSelect&&t.onCellSelect(ea(ea({originalEvent:G.originalEvent},G.data),{},{type:G.type})):t.onRowSelect&&t.onRowSelect(G)},tt=function(G){Me()?t.onCellUnselect&&t.onCellUnselect(ea(ea({originalEvent:G.originalEvent},G.data),{},{type:G.type})):t.onRowUnselect&&t.onRowUnselect(G)},ft=function(G){t.dragSelection&&!y.current&&(y.current=document.createElement("div"),y.current.setAttribute("p-datatable-drag-selection-helper","true"),!s&&ke.addClass(y.current,"p-datatable-drag-selection-helper"),g.current={x:G.clientX,y:G.clientY},y.current.style.top="".concat(G.pageY,"px"),y.current.style.left="".concat(G.pageX,"px"),_t())},De=function(G,Re){var Ae=G.currentTarget;if(!Me()&&t.selectionAutoFocus){if(j){var We=ke.findSingle(Ae,'td[data-p-selection-column="true"] [data-pc-section="checkbox"]');We&&We.focus()}else if(Z){var Ue=ke.findSingle(Ae,'td[data-p-selection-column="true"] input[type="radio"]');Ue&&Ue.focus()}}!Re&&Ae&&Ae.focus()},Le=function(G,Re){var Ae=G.currentTarget,We=ke.getAttribute(Ae,Re==="cell"?"data-p-selectable-cell":"data-p-selectable-row")===!0;if(We){var Ue=Re==="cell"?"tr > td":"tr",ie=ke.findSingle(v.current,"".concat(Ue,'[tabindex="').concat(t.tabIndex,'"]'));ie&&Ae&&(ie.tabIndex=-1,Ae.tabIndex=t.tabIndex)}},H=function(G){if(!(G.defaultPrevented||G.originalEvent&&G.originalEvent.defaultPrevented||Me()||!yt(G))){if(t.onRowClick&&t.onRowClick(G),Fe()){if(Y(G))qe(G,"row");else{var Re=Z||j||je(G);x.current=G.index,C.current=G.index,R.current=t.first,ve()?le(ea(ea({},G),{},{toggleable:Re,type:"row"})):Ee(ea(ea({},G),{},{toggleable:Re,type:"row"}))}Le(G.originalEvent,"row")}else De(G.originalEvent);E.current=!1}},me=function(G){var Re=G.originalEvent;ke.isClickable(Re.target)||t.onRowDoubleClick&&t.onRowDoubleClick(G)},He=function(G){var Re=G.originalEvent;ke.isClickable(Re.target)||t.onRowPointerDown&&t.onRowPointerDown(G)},ct=function(G){var Re=G.originalEvent;ke.isClickable(Re.target)||t.onRowPointerUp&&t.onRowPointerUp(G)},nt=function(G){if(t.onContextMenu||t.onContextMenuSelectionChange){var Re=_e.isNotEmpty(t.selection),Ae=Re?t.selection:G.data;Re&&ke.clearSelection(),t.onContextMenuSelectionChange&&t.onContextMenuSelectionChange({originalEvent:G.originalEvent,value:Ae}),t.onContextMenu&&t.onContextMenu({originalEvent:G.originalEvent,data:Ae}),G.originalEvent.preventDefault()}},Pe=function(G){t.onRowMouseEnter&&t.onRowMouseEnter(G)},dt=function(G){t.onRowMouseLeave&&t.onRowMouseLeave(G)},te=function(){E.current=!0},ue=function(G){var Re=G.originalEvent;!s&&ke.hasClass(Re.target,"p-datatable-reorderablerow-handle")?Re.currentTarget.draggable=!0:Re.currentTarget.draggable=!1,it(G)&&(ft(Re),x.current=G.index,C.current=G.index,R.current=t.first)},ae=function(G){var Re=G.index===x.current;it(G)&&!Re&&qe(G,"row")},Ne=function(G){var Re,Ae=t.dataKey,We=t.groupRowsBy?Ae===t.groupRowsBy:!!Ae;if(We){var Ue=String(_e.resolveFieldData(G.data,Ae));Re=t.expandedRows?ea({},t.expandedRows):{},Re[Ue]!=null?(delete Re[Ue],t.onRowCollapse&&t.onRowCollapse({originalEvent:G,data:G.data})):(Re[Ue]=!0,t.onRowExpand&&t.onRowExpand({originalEvent:G,data:G.data}))}else{var ie=J(t.expandedRows,G.data);Re=t.expandedRows?Ur(t.expandedRows):[],ie!==-1?(Re=Re.filter(function(Oe,Ze){return Ze!==ie}),t.onRowCollapse&&t.onRowCollapse({originalEvent:G,data:G.data})):(Re.push(G.data),t.onRowExpand&&t.onRowExpand({originalEvent:G,data:G.data}))}t.onRowToggle&&t.onRowToggle({data:Re})},rt=function(G){var Re=G.originalEvent,Ae=G.index;it(Re)&&(P.current=!0,D.current=Ae,Re.dataTransfer.setData("text","b"))},wt=function(G){var Re=G.originalEvent,Ae=G.index;if(P.current&&D.current!==Ae){var We=Re.currentTarget,Ue=ke.getOffset(We).top+ke.getWindowScrollTop(),ie=Re.pageY+window.scrollY,Oe=Ue+ke.getOuterHeight(We)/2,Ze=We.previousElementSibling;ie<Oe?(We.setAttribute("data-p-datatable-dragpoint-bottom","false"),!s&&ke.removeClass(We,"p-datatable-dragpoint-bottom"),L.current=Ae,Ze?(Ze.setAttribute("data-p-datatable-dragpoint-bottom","true"),!s&&ke.addClass(Ze,"p-datatable-dragpoint-bottom")):(We.setAttribute("data-p-datatable-dragpoint-top","true"),!s&&ke.addClass(We,"p-datatable-dragpoint-top"))):(Ze?(Ze.setAttribute("data-p-datatable-dragpoint-bottom","false"),!s&&ke.removeClass(Ze,"p-datatable-dragpoint-bottom")):(We.setAttribute("data-p-datatable-dragpoint-top","true"),!s&&ke.addClass(We,"p-datatable-dragpoint-top")),L.current=Ae+1,We.setAttribute("data-p-datatable-dragpoint-bottom","true"),!s&&ke.addClass(We,"p-datatable-dragpoint-bottom"))}Re.preventDefault()},bt=function(G){var Re=G.originalEvent,Ae=Re.currentTarget,We=Ae.previousElementSibling;We&&(We.setAttribute("data-p-datatable-dragpoint-bottom","false"),!s&&ke.removeClass(We,"p-datatable-dragpoint-bottom")),Ae.setAttribute("data-p-datatable-dragpoint-bottom","false"),!s&&ke.removeClass(Ae,"p-datatable-dragpoint-bottom"),Ae.setAttribute("data-p-datatable-dragpoint-top","false"),!s&&ke.removeClass(Ae,"p-datatable-dragpoint-top")},xt=function(G){var Re=G.originalEvent;P.current=!1,D.current=null,L.current=null,Re.currentTarget.draggable=!1},Et=function(G){var Re=G.originalEvent;if(L.current!=null){var Ae=D.current>L.current?L.current:L.current===0?0:L.current-1,We=Ur(t.tableProps.value);_e.reorderArray(We,D.current,Ae),t.onRowReorder&&t.onRowReorder({originalEvent:Re,value:We,dragIndex:D.current,dropIndex:Ae})}bt(G),xt(G),Re.preventDefault()},Ut=function(G){le(ea(ea({},G),{},{toggleable:!0,type:"radio"}))},mn=function(G){Ee(ea(ea({},G),{},{toggleable:!0,type:"checkbox"}))},Xt=function(G){var Re=g.current,Ae=Re.x,We=Re.y,Ue=G.clientX-Ae,ie=G.clientY-We;ie<0&&(y.current.style.top="".concat(G.pageY+5,"px")),Ue<0&&(y.current.style.left="".concat(G.pageX+5,"px")),y.current.style.height="".concat(Math.abs(ie),"px"),y.current.style.width="".concat(Math.abs(Ue),"px"),G.preventDefault()},rn=function pe(){y.current&&(y.current.remove(),y.current=null),document.removeEventListener("mousemove",Xt),document.removeEventListener("mouseup",pe)},hn=function(G){if(yt(G)){if(t.onCellClick&&t.onCellClick(G),Me()){if(Y(G))qe(G,"cell");else{var Re=je(G),Ae=G.originalEvent,We=uZ(G,hZ);x.current=G.rowIndex,C.current=G.rowIndex,R.current=t.first,w.current=G.cellIndex,ve()?le({originalEvent:Ae,data:We,index:G.rowIndex,toggleable:Re,type:"cell"}):Ee({originalEvent:Ae,data:We,index:G.rowIndex,toggleable:Re,type:"cell"})}Le(G.originalEvent,"cell")}E.current=!1}},Ht=function(G){gt(G)&&(ft(G.originalEvent),x.current=G.rowIndex,C.current=G.rowIndex,R.current=t.first,w.current=G.cellIndex)},ln=function(G){var Re=G.rowIndex===x.current&&G.cellIndex===w.current;gt(G)&&!Re&&qe(G,"cell")},_t=function(){document.addEventListener("mousemove",Xt),document.addEventListener("mouseup",rn),document.body.appendChild(y.current)},N=function(){rn()};S.useEffect(function(){t.frozenRow&&ee(),t.scrollable&&t.rowGroupMode==="subheader"&&he()}),Wn(function(){t.paginator&&X()&&(x.current=null)},[t.first]),Ro(function(){t.dragSelection&&N()});var W=function(){if(!t.loading){var G=et(),Re=_e.getJSXElement(t.emptyMessage,{props:t.tableProps,frozen:t.frozenRow})||eo("emptyMessage"),Ae=n({className:a("emptyMessage"),role:"row"},m("emptyMessage")),We=n({colSpan:G,role:"cell"},m("root"),m("bodyCell"));return S.createElement("tr",Ae,S.createElement("td",We,Re))}return null},$=function(G,Re,Ae,We){if(M&&B(t.value,G,Re-t.first)){var Ue=Q(),ie=t.expandableRowGroups&&S.createElement(g9,{hostName:t.hostName,onClick:Ne,rowData:G,expanded:Ae,expandedRowIcon:t.expandedRowIcon,collapsedRowIcon:t.collapsedRowIcon,ptCallbacks:t.ptCallbacks,metaData:t.metaData}),Oe={index:Re,props:t.tableProps,customRendering:!1},Ze=_e.getJSXElement(t.rowGroupHeaderTemplate,G,Oe);if(!Oe.customRendering){var Ge=n({colSpan:We},m("root"),m("bodyCell")),$e=n({className:a("rowGroupHeaderName")},m("rowGroupHeaderName"));Ze=S.createElement("td",Ge,ie,S.createElement("span",$e,Ze))}var At=n({className:a("rowGroupHeader"),style:Ue,role:"row"},m("rowGroupHeader"));return S.createElement("tr",At,Ze)}return null},A=function(G,Re,Ae,We){if(!t.expandableRowGroups||We){var Ue=ye()?ce(G):!1,ie=se(G),Oe=Fe(),Ze=Me(),Ge=Be(G);return S.createElement(m9,{hostName:t.hostName,allowCellSelection:Ze,allowRowSelection:Oe,cellClassName:t.cellClassName,checkIcon:t.checkIcon,collapsedRowIcon:t.collapsedRowIcon,columns:t.columns,compareSelectionBy:t.compareSelectionBy,contextMenuSelected:ie,dataKey:t.dataKey,editMode:t.editMode,editing:Ge,editingMeta:t.editingMeta,editingRows:t.editingRows,expanded:We,expandedRowIcon:t.expandedRowIcon,frozenRow:t.frozenRow,groupRowsBy:t.groupRowsBy,index:Ae,isSelectable:K,onCellClick:hn,onCellMouseDown:Ht,onCellMouseUp:ln,onCheckboxChange:mn,onEditingMetaChange:t.onEditingMetaChange,onRadioChange:Ut,onRowClick:H,onRowDoubleClick:me,onRowPointerDown:He,onRowPointerUp:ct,onRowDragEnd:xt,onRowDragLeave:bt,onRowDragOver:wt,onRowDragStart:rt,onRowDrop:Et,onRowEditCancel:t.onRowEditCancel,onRowEditChange:t.onRowEditChange,onRowEditComplete:t.onRowEditComplete,onRowEditInit:t.onRowEditInit,onRowEditSave:t.onRowEditSave,onRowMouseDown:ue,onRowMouseEnter:Pe,onRowMouseLeave:dt,onRowMouseUp:ae,onRowRightClick:nt,onRowToggle:Ne,onRowTouchEnd:te,responsiveLayout:t.responsiveLayout,rowClassName:t.rowClassName,rowData:G,rowEditValidator:t.rowEditValidator,rowEditorCancelIcon:t.rowEditorCancelIcon,rowEditorInitIcon:t.rowEditorInitIcon,rowEditorSaveIcon:t.rowEditorSaveIcon,rowGroupMode:t.rowGroupMode,rowIndex:Re,selectOnEdit:t.selectOnEdit,selected:Ue,selection:t.selection,selectionMode:t.selectionMode,selectionModeInColumn:t.selectionModeInColumn,showRowReorderElement:t.showRowReorderElement,showSelectionElement:t.showSelectionElement,tabIndex:t.tabIndex,tableProps:t.tableProps,tableSelector:t.tableSelector,value:t.value,virtualScrollerOptions:t.virtualScrollerOptions,ptCallbacks:t.ptCallbacks,metaData:t.metaData})}},z=function(G,Re,Ae,We){if(Ae&&!(M&&t.expandableRowGroups)){var Ue="".concat(t.tableSelector,"_content_").concat(Re,"_expanded"),ie={index:Re,customRendering:!1},Oe=_e.getJSXElement(t.rowExpansionTemplate,G,ie);if(!ie.customRendering){var Ze=n({colSpan:We,role:"cell"},m("root"),m("bodyCell"));Oe=S.createElement("td",Ze,Oe)}var Ge=n({id:Ue,className:a("rowExpansion"),role:"row"},m("rowExpansion"));return S.createElement("tr",Ge,Oe)}return null},q=function(G,Re,Ae,We){if(M&&O(t.value,G,Re-t.first,Ae)){var Ue=_e.getJSXElement(t.rowGroupFooterTemplate,G,{index:Re,colSpan:We,props:t.tableProps}),ie=n({className:a("rowGroupFooter"),role:"row"},m("rowGroupFooter"));return S.createElement("tr",ie,Ue)}return null},re=function(){return t.value&&t.value.map(function(G,Re){var Ae=lt("getItemOptions")?lt("getItemOptions")(Re).index:t.first+Re,We=xe(G,Ae),Ue=ge(G),ie=et(),Oe=$(G,Ae,Ue,ie),Ze=A(G,Ae,Re,Ue),Ge=z(G,Ae,Ue,ie),$e=q(G,Ae,Ue,ie);return S.createElement(S.Fragment,{key:We},Oe,Ze,Ge,$e)})},oe=t.empty?W():re(),Ie=t.className==="p-datatable-virtualscroller-spacer"?"virtualScrollerSpacer":"tbody",we=n({style:t.style,className:a(Ie,{className:t.className}),role:" rowgroup"},i(Ie,{hostName:t.hostName}));return S.createElement("tbody",Er({ref:b},we),oe)}));p1.displayName="TableBody";var Pu=Sn.extend({defaultProps:{__TYPE:"ColumnGroup",children:void 0},getCProp:function(e,n){return _e.getComponentProp(e,n,Pu.defaultProps)},getCProps:function(e){return _e.getComponentProps(e,Pu.defaultProps)}}),k3=Sn.extend({defaultProps:{__TYPE:"Row",style:null,className:null,children:void 0},getCProp:function(e,n){return _e.getComponentProp(e,n,k3.defaultProps)}});function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var v9=S.memo(function(t){var e=S.useState({}),n=nr(e,2),r=n[0],i=n[1],o=S.useRef(null),a=Nn(),s=function(){return Tr.getCProps(t.column)},l=t.ptCallbacks,u=l.ptm,c=l.ptmo,f=l.cx,p=function(P){var D=s(),L={props:D,parent:t.metaData,hostName:t.hostName,state:{styleObject:r},context:{index:t.index,size:t.metaData.props.size,showGridlines:t.metaData.props.showGridlines}};return a(u("column.".concat(P),{column:L}),u("column.".concat(P),L),c(D,P,L))},m=function(P){return Tr.getCProp(t.column,P)},v=function(){var P=m("footerStyle"),D=m("style");return m("frozen")?Object.assign({},D,P,r):Object.assign({},D,P)},b=function(){if(m("frozen")){var P=pZ({},r),D=m("alignFrozen");if(D==="right"){var L=0,M=o.current.nextElementSibling;M&&(L=ke.getOuterWidth(M)+parseFloat(M.style.right||0)),P.right=L+"px"}else{var I=0,V=o.current.previousElementSibling;V&&(I=ke.getOuterWidth(V)+parseFloat(V.style.left||0)),P.left=I+"px"}var Z=r.left===P.left&&r.right===P.right;!Z&&i(P)}};S.useEffect(function(){m("frozen")&&b()});var y=v(),g=m("align"),x=m("colSpan"),w=m("rowSpan"),C=_e.getJSXElement(m("footer"),{props:t.tableProps}),R=a({style:y,className:Ct(m("footerClassName"),m("className"),f("footerCell",{getColumnProp:m,align:g})),role:"cell",colSpan:x,rowSpan:w},p("root"),p("footerCell"));return S.createElement("td",Er({ref:o},R),C)});v9.displayName="FooterCell";var y9=S.memo(function(t){var e=t.ptCallbacks,n=e.ptm,r=e.ptmo,i=e.cx,o=Nn(),a=function(x){return Pu.getCProps(x)},s=function(){return t.footerColumnGroup?Pu.getCProps(t.footerColumnGroup):void 0},l=function(x,w){var C=a(x),R={props:C,parent:t.metaData,hostName:t.hostName};return o(n("row.".concat(w),{row:R}),n("row.".concat(w),R),r(C,w,R))},u=function(x){var w=s(),C={props:s(),parent:t.metaData,hostName:t.hostName};return o(n("columnGroup.".concat(x),{columnGroup:C}),n("columnGroup.".concat(x),C),r(w,x,C))},c=function(){return t.footerColumnGroup?!0:t.columns?t.columns.some(function(x){return x&&f(x,"footer")}):!1},f=function(x,w){return Tr.getCProp(x,w)},p=function(x){var w=S.Children.toArray(k3.getCProp(x,"children"));return m(w)},m=function(x){return S.Children.map(x,function(w,C){var R=w?!f(w,"hidden"):!0,E=w&&(f(w,"columnKey")||f(w,"field"))||C;return R&&S.createElement(v9,{hostName:t.hostName,key:E,tableProps:t.tableProps,column:w,ptCallbacks:t.ptCallbacks,metaData:t.metaData})})},v=function(){if(t.footerColumnGroup){var x=S.Children.toArray(Pu.getCProp(t.footerColumnGroup,"children"));return x.map(function(C,R){var E=o({role:"row"},l(C,"root"));return S.createElement("tr",Er({},E,{key:R}),p(C))})}var w=o({role:"row"},n("footerRow",{hostName:t.hostName}));return S.createElement("tr",w,m(t.columns))};if(c()){var b=v(),y=o({className:i("tfoot"),role:"rowgroup"},u("root"),n("tfoot",{hostName:t.hostName}));return S.createElement("tfoot",y,b)}return null});y9.displayName="TableFooter";function YO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c9(r.key),r)}}function mZ(t,e,n){return e&&YO(t.prototype,e),n&&YO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var qi=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),Io=mZ(function t(){gZ(this,t)});Kn(Io,"ripple",!1);Kn(Io,"inputStyle","outlined");Kn(Io,"locale","en");Kn(Io,"appendTo",null);Kn(Io,"cssTransition",!0);Kn(Io,"autoZIndex",!0);Kn(Io,"hideOverlaysOnDocumentScrolling",!1);Kn(Io,"nonce",null);Kn(Io,"nullSortOrder",1);Kn(Io,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Kn(Io,"pt",void 0);Kn(Io,"filterMatchModeOptions",{text:[qi.STARTS_WITH,qi.CONTAINS,qi.NOT_CONTAINS,qi.ENDS_WITH,qi.EQUALS,qi.NOT_EQUALS],numeric:[qi.EQUALS,qi.NOT_EQUALS,qi.LESS_THAN,qi.LESS_THAN_OR_EQUAL_TO,qi.GREATER_THAN,qi.GREATER_THAN_OR_EQUAL_TO],date:[qi.DATE_IS,qi.DATE_IS_NOT,qi.DATE_BEFORE,qi.DATE_AFTER]});Kn(Io,"changeTheme",function(t,e,n,r){var i,o=document.getElementById(n),a=o.cloneNode(!0),s=o.getAttribute("href").replace(t,e);a.setAttribute("id",n+"-clone"),a.setAttribute("href",s),a.addEventListener("load",function(){o.remove(),a.setAttribute("id",n),r&&r()}),(i=o.parentNode)===null||i===void 0||i.insertBefore(a,o.nextSibling)});var vZ={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",prevMilliSecond:"Previous Second",nextMilliSecond:"Next Second",am:"am",pm:"pm",today:"Today",now:"Now",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}};function qd(t,e){var n=Io.locale;try{var r=yZ(n).aria[t];if(r)for(var i in e)e.hasOwnProperty(i)&&(r=r.replace("{".concat(i,"}"),e[i]));return r}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(n,"')."))}}function yZ(t){var e=t||Io.locale;return vZ[e]}var xZ="",vm=Sn.extend({defaultProps:{__TYPE:"FocusTrap",children:void 0},css:{styles:xZ},getProps:function(e){return _e.getMergedProps(e,vm.defaultProps)},getOtherProps:function(e){return _e.getDiffProps(e,vm.defaultProps)}});function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var wZ=fn.memo(fn.forwardRef(function(t,e){var n=fn.useRef(null),r=fn.useRef(null),i=fn.useRef(null),o=fn.useContext(Xn),a=vm.getProps(t,o),s={props:a};Uc(vm.css.styles,{name:"focustrap"});var l=vm.setMetaData(bZ({},s));l.ptm,fn.useImperativeHandle(e,function(){return{props:a,getInk:function(){return r.current},getTarget:function(){return n.current}}}),xa(function(){a.disabled||(n.current=u(),c(n.current))});var u=function(){return r.current&&r.current.parentElement},c=function(y){var g=a||{},x=g.autoFocusSelector,w=x===void 0?"":x,C=g.firstFocusableSelector,R=C===void 0?"":C,E=g.autoFocus,P=E===void 0?!1:E,D=ke.getFirstFocusableElement(y,"[autofocus]".concat(f(w)));P&&!D&&(D=ke.getFirstFocusableElement(y,f(R))),ke.focus(D)},f=function(y){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(y??"")},p=function(y){var g,x=y.currentTarget,w=y.relatedTarget,C=w===x.$_pfocustrap_lasthiddenfocusableelement||!((g=n.current)!==null&&g!==void 0&&g.contains(w))?ke.getFirstFocusableElement(x.parentElement,f(x.$_pfocustrap_focusableselector)):x.$_pfocustrap_lasthiddenfocusableelement;ke.focus(C)},m=function(y){var g,x=y.currentTarget,w=y.relatedTarget,C=w===x.$_pfocustrap_firsthiddenfocusableelement||!((g=n.current)!==null&&g!==void 0&&g.contains(w))?ke.getLastFocusableElement(x.parentElement,f(x.$_pfocustrap_focusableselector)):x.$_pfocustrap_firsthiddenfocusableelement;ke.focus(C)},v=function(){var y=a||{},g=y.tabIndex,x=g===void 0?0:g,w=function(P,D){return fn.createElement("span",{ref:D==="firstfocusableelement"?r:i,className:"p-hidden-accessible p-hidden-focusable",tabIndex:x,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:P,"data-pc-section":D})},C=w(p,"firstfocusableelement"),R=w(m,"lastfocusableelement");return C.ref.current&&R.ref.current&&(C.ref.current.$_pfocustrap_lasthiddenfocusableelement=R.ref.current,R.ref.current.$_pfocustrap_firsthiddenfocusableelement=C.ref.current),fn.createElement(fn.Fragment,null,C,a.children,R)};return v()})),SZ=wZ;function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var L3=S.memo(function(t){var e=S.useState(!1),n=nr(e,2),r=n[0],i=n[1],o=S.useRef(null),a=S.useRef(Jg()),s=S.useRef(null),l=S.useRef(!1),u=S.useRef(null),c=Nn(),f=function(N){return Tr.getCProp(t.column,N)},p=function(){return Tr.getCProps(t.column)},m=S.useContext(Xn),v=t.ptCallbacks,b=v.ptm,y=v.ptmo,g=v.cx,x=function(N,W){var $=p(),A=Qa({props:$,parent:t.metaData,hostName:t.hostName,state:{overlayVisible:r}},W);return c(b("column.".concat(N),{column:A}),b("column.".concat(N),A),y($,N,A))},w=f("filterField")||f("field"),C=t.filters[w],R=t.filtersStore&&t.filtersStore[w],E=h3({target:s,overlay:o,listener:function(N,W){var $=W.type,A=W.valid;A&&($==="outside"?!l.current&&!se(N.target)&&xe():xe()),l.current=!1},when:r}),P=nr(E,2),D=P[0],L=P[1],M=function(){return!R||!C?!1:R.operator?!V(C.constraints[0].value):!V(C.value)},I=function(){return C&&!V(C.value)},V=function(N){return _e.isEmpty(N)},Z=function(N){return C&&C.matchMode===N},j=function(){return f("filterMatchModeOptions")||m&&m.filterMatchModeOptions[ge()].map(function(N){return{label:eo(N),value:N}})||En.filterMatchModeOptions[ge()].map(function(N){return{label:eo(N),value:N}})},fe=function(){return f("showFilterMenu")&&(t.display==="row"?f("dataType")!=="boolean":!0)},ye=function(){return f("showClearButton")&&t.display==="row"},ve=function(){return f("dataType")!=="boolean"&&f("showFilterMatchModes")&&j()&&f("showFilterMenuOptions")},X=function(){return f("showFilterOperator")&&C&&C.operator&&f("showFilterMenuOptions")},ne=function(){return Ke().length>1},F=function(){return f("showAddButton")&&C&&C.operator&&Ke()&&Ke().length<f("maxConstraints")&&f("showFilterMenuOptions")},ce=function(N){return!se(N)&&o.current&&!(o.current.isSameNode(N)||o.current.contains(N))},se=function(N){return s.current&&(s.current.isSameNode(N)||s.current.contains(N))},K=function(){if(R)return R.operator?{matchMode:R.constraints[0].matchMode,operator:R.operator}:{matchMode:R.matchMode}},ge=function(){var N=f("dataType"),W=f("filterMatchMode"),$=function(z){return m&&m.filterMatchModeOptions[z].some(function(q){return q===W})||En.filterMatchModeOptions[z].some(function(q){return q===W})};return W==="custom"&&!$(N)?(m&&m.filterMatchModeOptions[N].push(Fn.CUSTOM)||En.filterMatchModeOptions[N].push(Fn.CUSTOM),N):W&&Object.keys(m&&m.filterMatchModeOptions||En.filterMatchModeOptions).find(function(A){return $(A)})||N},ze=function(){var N=f("onFilterClear"),W=K(),$=Qa({},t.filters);$[w].operator?($[w].constraints.splice(1),$[w].operator=W.operator,$[w].constraints[0]={value:null,matchMode:W.matchMode}):($[w].value=null,$[w].matchMode=W.matchMode),N&&N(),t.onFilterChange($),t.onFilterApply(),xe()},Be=function(){var N=f("onFilterApplyClick");N&&N({field:w,constraints:C}),t.onFilterApply(),xe()},st=function(){i(function(N){return!N})},it=function(N){switch(N.key){case"Escape":case"Tab":xe();break;case"ArrowDown":if(r){var W=ke.getFirstFocusableElement(o.current);W&&W.focus(),N.preventDefault()}else N.altKey&&(i(!0),N.preventDefault());break}},gt=function(N){N.key==="Escape"&&(xe(),s.current&&s.current.focus())},yt=function(N,W){var $=Qa({},t.filters),A=N.target.value,z=$[w];t.display==="menu"&&_e.isNotEmpty(z.constraints)?z.constraints[W].value=A:z.value=A,t.onFilterChange($),(!f("showApplyButton")||t.display==="row")&&t.onFilterApply()},je=function(N,W){N.key==="Enter"&&(!f("showApplyButton")||t.display==="menu")&&Be()},Y=function(N){var W=f("onFilterMatchModeChange"),$=Qa({},t.filters);$[w].matchMode=N,W&&W({field:w,matchMode:N}),t.onFilterChange($),t.onFilterApply(),xe()},Fe=function(N,W,$){var A=N.target;switch(N.key){case"ArrowDown":var z=J(A);z&&(A.removeAttribute("tabindex"),z.tabIndex=0,z.focus()),N.preventDefault();break;case"ArrowUp":var q=Q(A);q&&(A.removeAttribute("tabindex"),q.tabIndex=0,q.focus()),N.preventDefault();break;case"Enter":$?ze():Y(W.value),N.preventDefault();break}},Me=function(N){var W=f("onFilterOperatorChange"),$=N.value,A=Qa({},t.filters);A[w].operator=$,t.onFilterChange(A),W&&W({field:w,operator:$}),f("showApplyButton")||t.onFilterApply()},et=function(N,W){var $=f("onFilterMatchModeChange"),A=Qa({},t.filters),z=A[w];t.display==="menu"&&_e.isNotEmpty(z.constraints)?z.constraints[W].matchMode=N:z.matchMode=N,t.onFilterChange(A),$&&$({field:w,matchMode:N,index:W}),f("showApplyButton")||t.onFilterApply()},Ve=function(){var N=f("onFilterConstraintAdd"),W=K(),$=Qa({},t.filters),A={value:null,matchMode:W.matchMode};$[w].constraints.push(A),N&&N({field:w,constraint:A}),t.onFilterChange($),f("showApplyButton")||t.onFilterApply()},lt=function(N){var W=f("onFilterConstraintRemove"),$=Qa({},t.filters),A=$[w].constraints.splice(N,1);W&&W({field:w,constraint:A}),t.onFilterChange($),f("showApplyButton")||t.onFilterApply()},J=function _t(N){var W=N.nextElementSibling;return W?ke.getAttribute(W,"data-p-column-filter-separator")===!0?_t(W):W:N.parentElement.firstElementChild},Q=function _t(N){var W=N.previousElementSibling;return W?ke.getAttribute(W,"data-p-column-filter-separator")===!0?_t(W):W:N.parentElement.lastElementChild},xe=function(){i(!1)},B=function(N){l.current=!0,Ha.emit("overlay-click",{originalEvent:N,target:o.current})},O=function(){l.current=!0},ee=function(){Fi.set("overlay",o.current,m&&m.autoZIndex||En.autoZIndex,m&&m.zIndex.overlay||En.zIndex.overlay),ke.addStyles(o.current,{position:"absolute",top:"0",left:"0"}),ke.alignOverlay(o.current,s.current,m&&m.appendTo||En.appendTo,!1),u.current=function(N){ce(N.target)||(l.current=!0)},Ha.on("overlay-click",u.current)},he=function(){D()},le=function(){qe()},Ee=function(){Fi.clear(o.current)},qe=function(){L(),Ha.off("overlay-click",u.current),u.current=null,l.current=!1},Ke=function(){return C?C.constraints||[C]:[]},be=function(){return C.operator},Ye=function(){return[{label:eo("matchAll"),value:fm.AND},{label:eo("matchAny"),value:fm.OR}]},at=function(){return eo("noFilter")},tt=function(){return eo("removeRule")},ft=function(){return eo("addRule")},De=function(){return eo("clear")},Le=function(){return eo("apply")},H=function(N){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=Qa({},t.filters),A=$[w];t.display==="menu"&&A&&A.operator?$[w].constraints[W].value=N:$[w].value=N,t.onFilterChange($)},me=function(){for(var N=arguments.length,W=new Array(N),$=0;$<N;$++)W[$]=arguments[$];W&&H(W[0],W[1]),t.onFilterApply()};Wn(function(){t.display==="menu"&&r&&ke.alignOverlay(o.current,s.current,m&&m.appendTo||En.appendTo,!1)}),Ro(function(){u.current&&(Ha.off("overlay-click",u.current),u.current=null),o.current&&(Fi.clear(o.current),qe())});var He=function(N,W){var $=N?N.value:null;return f("filterElement")?_e.getJSXElement(f("filterElement"),{field:w,index:W,filterModel:N,value:$,filterApplyCallback:me,filterCallback:H}):S.createElement(I3,{type:f("filterType"),value:$||"",onChange:function(z){return yt(z,W)},onKeyDown:function(z){return je(z)},className:"p-column-filter",placeholder:f("filterPlaceholder"),maxLength:f("filterMaxLength"),"aria-label":f("filterPlaceholder"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})},ct=function(){if(t.display==="row"){var N=He(C,0),W=c({className:g("filterInput")},x("filterInput"));return S.createElement("div",W,N)}return null},nt=function(N,W){return t.display==="menu"?He(N,W):null},Pe=function(){if(!fe())return null;var N=c({"aria-hidden":!0},x("filterIcon")),W=t.filterIcon||S.createElement(r9,N),$=Hn.getJSXIcon(W,Qa({},N),{props:t}),A=qd(r?"hideFilterMenu":"showFilterMenu"),z=c({type:"button",className:g("filterMenuButton",{overlayVisibleState:r,hasFilter:M}),"aria-haspopup":!0,"aria-expanded":r,"aria-label":A,"aria-controls":a.current,onClick:function(re){return st()},onKeyDown:function(re){return it(re)}},x("filterMenuButton",{context:{active:M()}}));return S.createElement("button",Er({ref:s},z),$,S.createElement(ai,null))},dt=function(){if(!ye())return null;var N=c({"aria-hidden":!0},x("filterClearIcon")),W=t.filterClearIcon||S.createElement(i9,N),$=Hn.getJSXIcon(W,Qa({},N),{props:t}),A=De(),z=c({className:g("headerFilterClearButton",{hasRowFilter:I}),type:"button",onClick:function(re){return ze()},"aria-label":A},x("headerFilterClearButton",{context:{hidden:I()}}));return S.createElement("button",z,$,S.createElement(ai,null))},te=function(){if(ve()){var N=j(),W=at(),$=c({className:g("filterSeparator"),"data-p-column-filter-separator":!0},x("filterSeparator")),A=c({className:g("filterRowItem",{isRowMatchModeSelected:Z,isShowMatchModes:ve}),onClick:function(re){return ze()},onKeyDown:function(re){return Fe(re,null,!0)}},x("filterRowItem")),z=c({className:g("filterRowItems")},x("filterRowItems"));return S.createElement("ul",z,N.map(function(q,re){var oe=q.value,Ie=q.label,we=re===0?0:null,pe=c({className:g("filterRowItem",{isRowMatchModeSelected:Z,isShowMatchModes:ve,value:oe}),onClick:function(){return Y(oe)},onKeyDown:function(Re){return Fe(Re,q)},tabIndex:we},x("filterRowItem",{context:{highlighted:q&&Z(oe)}}));return S.createElement("li",Er({},pe,{key:Ie}),Ie)}),S.createElement("li",$),S.createElement("li",A,W))}return null},ue=function(){if(X()){var N=Ye(),W=be(),$=c({className:g("filterOperator")},x("filterOperator"));return S.createElement("div",$,S.createElement(df,{options:N,value:W,onChange:Me,className:"p-column-filter-operator-dropdown",pt:x("filterOperatorDropdown"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData},"aria-label":qd("filterOperator")}))}return null},ae=function(N,W){if(ve()){var $=j();return S.createElement(df,{options:$,value:N.matchMode,onChange:function(z){return et(z.value,W)},className:"p-column-filter-matchmode-dropdown",pt:x("filterMatchModeDropdown"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData},"aria-label":qd("filterConstraint")})}return null},Ne=function(N){if(ne()){var W=tt();return S.createElement(hs,{type:"button",icon:t.filterRemoveIcon||S.createElement(a9,null),className:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:function(){return lt(N)},label:W,pt:x("filterRemoveButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})}return null},rt=function(){var N=Ke(),W=c({className:g("filterConstraints")},x("filterConstraints")),$=c({className:g("filterConstraint")},x("filterConstraint"));return S.createElement("div",W,N.map(function(A,z){var q=ae(A,z),re=nt(A,z),oe=Ne(z),Ie=c(x("filterRemove"));return S.createElement("div",Er({},$,{key:z}),q,re,S.createElement("div",Ie,oe))}))},wt=function(){if(F()){var N=ft(),W=c({className:g("filterAddRule")},x("filterAddRule"));return S.createElement("div",W,S.createElement(hs,{type:"button",label:N,icon:t.filterAddIcon||S.createElement(o9,null),className:"p-column-filter-add-button p-button-text p-button-sm",onClick:Ve,pt:x("filterAddRuleButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}}))}return null},bt=function(){if(f("showClearButton")){if(!f("filterClear")){var N=De();return S.createElement(hs,{type:"button",outlined:!0,size:"small",onClick:ze,label:N,pt:x("filterClearButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})}return _e.getJSXElement(f("filterClear"),{field:w,filterModel:C,filterClearCallback:ze})}return null},xt=function(){if(f("showApplyButton")){if(!f("filterApply")){var N=Le();return S.createElement(hs,{type:"button",size:"small",onClick:Be,label:N,pt:x("filterApplyButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})}return _e.getJSXElement(f("filterApply"),{field:w,filterModel:C,filterApplyCallback:Be})}return null},Et=function(){var N=bt(),W=xt(),$=c({className:g("filterButtonBar")},x("filterButtonBar"));return S.createElement("div",$,N,W)},Ut=function(){var N=ue(),W=rt(),$=wt(),A=Et();return S.createElement(S.Fragment,null,N,W,$,A)},mn=function(){var N=f("filterMenuStyle"),W=_e.getJSXElement(f("filterHeader"),{field:w,filterModel:C,filterApplyCallback:me}),$=_e.getJSXElement(f("filterFooter"),{field:w,filterModel:C,filterApplyCallback:me}),A=t.display==="row"?te():Ut(),z=c({style:N,className:g("filterOverlay",{columnFilterProps:t,context:m,getColumnProp:f}),onKeyDown:function(oe){return gt(oe)},onClick:function(oe){return B(oe)},onMouseDown:function(oe){return O()},id:a.current,"aria-modal":r,role:"dialog"},x("filterOverlay")),q=c({classNames:g("transition"),in:r,timeout:{enter:120,exit:100},unmountOnExit:!0,onEnter:ee,onEntered:he,onExit:le,onExited:Ee},x("transition"));return S.createElement(Lu,null,S.createElement(ku,Er({nodeRef:o},q),S.createElement("div",Er({ref:o},z),S.createElement(SZ,{autoFocus:!0},W,A,$))))},Xt=ct(),rn=Pe(),hn=dt(),Ht=mn(),ln=c({className:g("columnFilter",{columnFilterProps:t})},x("columnFilter"));return S.createElement("div",ln,Xt,rn,hn,Ht)});L3.displayName="ColumnFilter";function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _Z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var N3=S.memo(function(t){var e=S.useState(!1),n=nr(e,2),r=n[0],i=n[1],o=Nn(),a=function(){return Tr.getCProps(t.column)},s=t.ptCallbacks,l=s.ptm,u=s.ptmo,c=s.cx,f=function(P){var D=a(),L={props:D,parent:t.metaData,hostName:t.hostName,state:{focused:r},context:{checked:t.checked,disabled:t.disabled}};return o(l("column.".concat(P),{column:L}),l("column.".concat(P),L),u(D,P,L))},p=function(){i(!0)},m=function(){i(!1)},v=function(P){t.disabled||(i(!0),t.onChange({originalEvent:P,checked:!t.checked}))},b=function(P){(P.code==="Space"||P.key===" ")&&(v(P),P.preventDefault())},y=o({className:c("headerCheckboxIcon")},f("headerCheckboxIcon")),g=t.checked?t.checkIcon||S.createElement(ov,y):null,x=Hn.getJSXIcon(g,_Z({},y),{props:t}),w=t.disabled?null:0,C=o({className:c("headerCheckboxWrapper"),onClick:function(P){return v(P)}},f("headerCheckboxWrapper")),R=o({className:c("headerCheckbox",{headerProps:t,focusedState:r}),role:"checkbox","aria-checked":t.checked,"aria-label":t.checked?qd("selectAll"):qd("unselectAll"),tabIndex:w,onFocus:function(P){return p()},onBlur:function(P){return m()},onKeyDown:function(P){return b(P)}},f("headerCheckbox"));return S.createElement("div",C,S.createElement("div",R,x))});N3.displayName="HeaderCheckbox";function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var x9=S.memo(function(t){var e=S.useState({}),n=nr(e,2),r=n[0],i=n[1],o=S.useRef(null),a=Ym(t.column),s=Nn(),l=t.metaData,u=t.ptCallbacks,c=t.index,f=t.ptCallbacks,p=f.ptm,m=f.ptmo,v=f.cx,b={index:c},y=Hy(Hy({},l),b),g=function(){return Tr.getCProps(t.column)},x=function(Y){var Fe=g(),Me={props:Fe,parent:y,hostName:t.hostName,state:{styleObject:r},context:{index:t.index,sorted:D().sorted,resizable:t.resizableColumns,size:t.metaData.props.size,showGridlines:t.metaData.props.showGridlines}};return s(p("column.".concat(Y),{column:Me}),p("column.".concat(Y),Me),m(Fe,Y,Me))},w=function(){return t.multiSortMeta&&t.multiSortMeta.length>1},C=function(){return!R("sortable")||R("sortable")&&(t.allSortableDisabled||R("sortableDisabled"))},R=function(){return t.column?typeof(arguments.length<=0?void 0:arguments[0])=="string"?Tr.getCProp(t.column,arguments.length<=0?void 0:arguments[0]):Tr.getCProp((arguments.length<=0?void 0:arguments[0])||t.column,arguments.length<=1?void 0:arguments[1]):null},E=function(){var Y=R("headerStyle"),Fe=R("style");return R("frozen")?Object.assign({},Fe,Y,r):Object.assign({},Fe,Y)},P=function(){return t.multiSortMeta.findIndex(function(Y){return Y.field===R("field")||Y.field===R("sortField")})},D=function(){var Y=!1,Fe=0,Me=-1;return t.sortMode==="single"?(Y=t.sortField&&(t.sortField===R("field")||t.sortField===R("sortField")),Fe=Y?t.sortOrder:0):t.sortMode==="multiple"&&(Me=P(),Me>-1&&(Y=!0,Fe=t.multiSortMeta[Me].order)),{sorted:Y,sortOrder:Fe,metaIndex:Me}},L=function(Y){var Fe=Y.sorted,Me=Y.sortOrder;return R("sortable")?Fe&&Me<0?"descending":Fe&&Me>0?"ascending":"none":null},M=function(){if(R("frozen")){var Y=Hy({},r),Fe=R("alignFrozen");if(Fe==="right"){var Me=0,et=o.current.nextElementSibling;et&&(Me=ke.getOuterWidth(et)+parseFloat(et.style.right||0)),Y.right=Me+"px"}else{var Ve=0,lt=o.current.previousElementSibling;lt&&(Ve=ke.getOuterWidth(lt)+parseFloat(lt.style.left||0)),Y.left=Ve+"px"}var J=o.current.parentElement.nextElementSibling;if(J){var Q=ke.index(o.current);J.children[Q].style.left=Y.left,J.children[Q].style.right=Y.right}var xe=r.left===Y.left&&r.right===Y.right;!xe&&i(Y)}},I=function(Y){(R(Y,"sortableDisabled")!==R("sortableDisabled")||R(Y,"sortable")!==R("sortable"))&&t.onSortableChange()},V=function(Y){if(!C()){var Fe=Y.target;(ke.getAttribute(Fe,"data-p-sortable-column")===!0||ke.getAttribute(Fe,"data-pc-section")==="headertitle"||ke.getAttribute(Fe,"data-pc-section")==="headercontent"||ke.getAttribute(Fe,"data-pc-section")==="sortIcon"||ke.getAttribute(Fe.parentElement,"data-pc-section")==="sortIcon"||Fe.closest('[data-p-sortable-column="true"]')&&!Fe.closest('[data-pc-section="filtermenubutton"]'))&&(ke.clearSelection(),t.onSortChange({originalEvent:Y,column:t.column,sortableDisabledFields:t.sortableDisabledFields}))}},Z=function(Y){t.onColumnMouseDown({originalEvent:Y,column:t.column})},j=function(Y){(Y.code=="Enter"||Y.code=="Space")&&Y.currentTarget===o.current&&ke.getAttribute(Y.currentTarget,"data-p-sortable-column")==="true"&&(V(Y),Y.preventDefault())},fe=function(Y){t.onColumnDragStart({originalEvent:Y,column:t.column})},ye=function(Y){t.onColumnDragOver({originalEvent:Y,column:t.column})},ve=function(Y){t.onColumnDragLeave({originalEvent:Y,column:t.column})},X=function(Y){t.onColumnDrop({originalEvent:Y,column:t.column})},ne=function(Y){t.onColumnResizeStart({originalEvent:Y,column:t.column})},F=function(Y){t.onColumnResizerClick&&(t.onColumnResizerClick({originalEvent:Y,element:Y.currentTarget.parentElement,column:t.column}),Y.preventDefault())},ce=function(Y){t.onColumnResizerDoubleClick&&(t.onColumnResizerDoubleClick({originalEvent:Y,element:Y.currentTarget.parentElement,column:t.column}),Y.preventDefault())};S.useEffect(function(){R("frozen")&&M(),I(a)});var se=function(){if(t.resizableColumns&&!R("frozen")){var Y=s({className:v("columnResizer"),onMouseDown:function(Me){return ne(Me)},onClick:function(Me){return F(Me)},onDoubleClick:function(Me){return ce(Me)}},x("columnResizer"));return S.createElement("span",Y)}return null},K=function(){var Y=_e.getJSXElement(R("header"),{props:t.tableProps}),Fe=s({className:v("headerTitle")},x("headerTitle"));return S.createElement("span",Fe,Y)},ge=function(Y){var Fe=Y.sorted,Me=Y.sortOrder;if(R("sortable")){var et=s({className:v("sortIcon")},x("sortIcon")),Ve=s(x("sort")),lt=Fe?Me<0?S.createElement(l9,et):S.createElement(u9,et):S.createElement(s9,et),J=Hn.getJSXIcon(t.sortIcon||lt,Hy({},et),{props:t,sorted:Fe,sortOrder:Me});return S.createElement("span",Ve,J)}return null},ze=function(Y){var Fe=Y.metaIndex;if(Fe!==-1&&w()){var Me=t.groupRowsBy&&t.groupRowsBy===t.groupRowSortField?Fe:Fe+1,et=s({className:v("sortBadge")},x("root"),x("sortBadge"));return S.createElement("span",et,Me)}return null},Be=function(){if(t.showSelectAll&&R("selectionMode")==="multiple"&&t.filterDisplay!=="row"){var Y=t.allRowsSelected(t.value);return S.createElement(N3,{hostName:t.hostName,checked:Y,onChange:t.onColumnCheckboxChange,disabled:t.empty,ptCallbacks:u,metaData:l})}return null},st=function(){return t.filterDisplay==="menu"&&R("filter")?S.createElement(L3,{hostName:t.hostName,display:"menu",column:t.column,filters:t.filters,onFilterChange:t.onFilterChange,onFilterApply:t.onFilterApply,filtersStore:t.filtersStore,filterIcon:t.filterIcon,filterClearIcon:t.filterClearIcon,ptCallbacks:u,metaData:l,unstyled:t.unstyled}):null},it=function(Y){var Fe=K(),Me=ge(Y),et=ze(Y),Ve=Be(),lt=st(),J=s({className:v("headerContent")},x("headerContent"));return S.createElement("div",J,Fe,Me,et,Ve,lt)},gt=function(){var Y=C(),Fe=D(),Me=E(),et=R("alignHeader")||R("align"),Ve=R("frozen"),lt=R("sortable")&&!Y?t.tabIndex:null,J=R("colSpan"),Q=R("rowSpan"),xe=L(Fe),B=R("headerTooltip"),O=R("headerClassName"),ee=_e.isNotEmpty(B),he=R("headerTooltipOptions"),le=se(),Ee=it(Fe),qe=s({className:Ct(O,v("headerCell",{headerProps:t,frozen:Ve,sortMeta:Fe,align:et,_isSortableDisabled:Y,getColumnProp:R})),style:Me,role:"columnheader",onClick:function(be){return V(be)},onKeyDown:function(be){return j(be)},onMouseDown:function(be){return Z(be)},onDragStart:function(be){return fe(be)},onDragOver:function(be){return ye(be)},onDragLeave:function(be){return ve(be)},onDrop:function(be){return X(be)},tabIndex:lt,colSpan:J,rowSpan:Q,"aria-sort":xe,"data-p-sortable-column":R("sortable"),"data-p-resizable-column":t.resizableColumns,"data-p-highlight":Fe.sorted,"data-p-filter-column":!t.metaData.props.headerColumnGroup&&t.filterDisplay==="row","data-p-frozen-column":R("frozen"),"data-p-reorderable-column":t.reorderableColumns},x("root"),x("headerCell"));return S.createElement(S.Fragment,null,S.createElement("th",Er({ref:o},qe),le,Ee),ee&&S.createElement(wf,Er({target:o,content:B,pt:x("tooltip"),unstyled:t.unstyled},he)))},yt=gt();return yt});x9.displayName="HeaderCell";function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var b9=S.memo(function(t){var e=S.useState([]),n=nr(e,2),r=n[0],i=n[1],o=S.useState(!1),a=nr(o,2),s=a[0],l=a[1],u=Nn(),c=t.sortMode==="single",f=t.sortMode==="multiple",p=c&&s,m=t.ptCallbacks,v=m.ptm,b=m.ptmo,y=m.cx,g=function(ce,se){return Tr.getCProp(ce,se)},x=function(ce){return Tr.getCProps(ce)},w=function(ce){return Pu.getCProps(ce)},C=function(){return t.headerColumnGroup?b(Pu.getCProps(t.headerColumnGroup)):void 0},R=function(ce){var se=C(),K={props:se,parent:t.metaData,hostName:t.hostName,state:{sortableDisabledFields:r,allSortableDisabled:s}};return u(v("columnGroup.".concat(ce),{columnGroup:K}),v("columnGroup.".concat(ce),K),b(se,ce,K))},E=function(ce,se){var K=x(ce),ge={props:K,parent:t.metaData,hostName:t.hostName,state:{sortableDisabledFields:r,allSortableDisabled:s}};return u(v("column.".concat(se),{column:ge}),v("column.".concat(se),ge),b(K,se,ge))},P=function(ce,se){var K=w(ce),ge={props:K,parent:t.metaData,hostName:t.hostName};return u(v("row.".concat(se),{row:ge}),v("row.".concat(se),ge),b(K,se,ge))},D=function(ce){return t.sortField!==null?g(ce,"field")===t.sortField||g(ce,"sortField")===t.sortField:!1},L=function(){if(c||f&&t.onSortChange){var ce=[],se=!1;t.columns.forEach(function(K){g(K,"sortableDisabled")&&(ce.push(g(K,"sortField")||g(K,"field")),!se&&D(K)&&(se=!0))}),i(ce),l(se)}},M=function(){L()},I=function(ce){t.onColumnCheckboxChange(ce,t.value)};xa(function(){L()});var V=function(ce){var se=S.Children.toArray(k3.getCProp(ce,"children"));return Z(se)},Z=function(ce){return S.Children.map(ce,function(se,K){var ge=se?!g(se,"hidden"):!0,ze=se&&(g(se,"columnKey")||g(se,"field"))||K;return ge&&S.createElement(x9,{hostName:t.hostName,allRowsSelected:t.allRowsSelected,allSortableDisabled:p,column:se,index:K,empty:t.empty,filterClearIcon:t.filterClearIcon,filterDisplay:t.filterDisplay,filterIcon:t.filterIcon,filters:t.filters,filtersStore:t.filtersStore,groupRowSortField:t.groupRowSortField,groupRowsBy:t.groupRowsBy,key:ze,multiSortMeta:t.multiSortMeta,onColumnCheckboxChange:I,onColumnDragLeave:t.onColumnDragLeave,onColumnDragOver:t.onColumnDragOver,onColumnDragStart:t.onColumnDragStart,onColumnDrop:t.onColumnDrop,onColumnMouseDown:t.onColumnMouseDown,onColumnResizeStart:t.onColumnResizeStart,onColumnResizerClick:t.onColumnResizerClick,onColumnResizerDoubleClick:t.onColumnResizerDoubleClick,onFilterApply:t.onFilterApply,onFilterChange:t.onFilterChange,onSortChange:t.onSortChange,onSortableChange:M,reorderableColumns:t.reorderableColumns,resizableColumns:t.resizableColumns,showSelectAll:t.showSelectAll,sortField:t.sortField,sortIcon:t.sortIcon,sortMode:t.sortMode,sortOrder:t.sortOrder,sortableDisabledFields:r,tabIndex:t.tabIndex,tableProps:t.tableProps,value:t.value,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:t.unstyled})})},j=function(ce){if(t.showSelectAll&&ce==="multiple"){var se=t.allRowsSelected(t.value);return S.createElement(N3,{hostName:t.hostName,checked:se,onChange:I,disabled:t.empty,ptCallbacks:t.ptCallbacks,metaData:t.metaData})}return null},fe=function(ce,se){return se?S.createElement(L3,{hostName:t.hostName,display:"row",column:ce,filterClearIcon:t.filterClearIcon,filterIcon:t.filterIcon,filters:t.filters,filtersStore:t.filtersStore,metaData:t.metaData,onFilterApply:t.onFilterApply,onFilterChange:t.onFilterChange,ptCallbacks:t.ptCallbacks,unstyled:t.unstyled}):null},ye=function(){return S.Children.map(t.columns,function(ce,se){var K=!g(ce,"hidden");if(K){var ge=Tr.getCProps(ce),ze=ge.filterHeaderStyle,Be=ge.style,st=ge.filterHeaderClassName,it=ge.className,gt=ge.frozen,yt=ge.columnKey,je=ge.field,Y=ge.selectionMode,Fe=ge.filter,Me=n4(n4({},ze||{}),Be||{}),et=yt||je||se,Ve=j(Y),lt=fe(ce,Fe),J=u({style:Me,className:Ct(st,it,y("headerCell",{frozen:gt,column:ce})),key:et},E(ce,"root"),E(ce,"headerCell"));return S.createElement("th",J,Ve,lt)}return null})},ve=function(){if(t.headerColumnGroup){var ce=S.Children.toArray(Pu.getCProp(t.headerColumnGroup,"children"));return ce.map(function(ze,Be){var st=u({role:"row"},P(ze,"root"));return S.createElement("tr",Er({},st,{key:Be}),V(ze))})}else{var se=u({role:"row"},v("headerRow",{hostName:t.hostName})),K=S.createElement("tr",se,Z(t.columns)),ge=t.filterDisplay==="row"&&S.createElement("tr",se,ye());return S.createElement(S.Fragment,null,K,ge)}},X=ve(),ne=u({className:y("thead"),role:"rowgroup"},R("root"),v("thead",{hostName:t.hostName}));return S.createElement("thead",ne,X)});b9.displayName="TableHeader";function EZ(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=CZ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function CZ(t,e){if(t){if(typeof t=="string")return r4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r4(t,e)}}function r4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var F3=S.forwardRef(function(t,e){var n=S.useContext(Xn),r=Nn(),i=By.getProps(t,n),o=S.useState(i.first),a=nr(o,2),s=a[0],l=a[1],u=S.useState(i.rows),c=nr(u,2),f=c[0],p=c[1],m=S.useState(i.sortField),v=nr(m,2),b=v[0],y=v[1],g=S.useState(i.sortOrder),x=nr(g,2),w=x[0],C=x[1],R=S.useState(i.multiSortMeta),E=nr(R,2),P=E[0],D=E[1],L=S.useState(i.filters),M=nr(L,2),I=M[0],V=M[1],Z=S.useState([]),j=nr(Z,2),fe=j[0],ye=j[1],ve=S.useState(null),X=nr(ve,2),ne=X[0],F=X[1],ce=S.useState({}),se=nr(ce,2),K=se[0],ge=se[1],ze=S.useState(i.rows),Be=nr(ze,2),st=Be[0],it=Be[1],gt=S.useState({}),yt=nr(gt,2),je=yt[0],Y=yt[1],Fe={props:i,state:{first:s,rows:f,sortField:b,sortOrder:w,multiSortMeta:P,filters:I,columnOrder:fe,groupRowsSortMeta:ne,editingMeta:K,d_rows:st,d_filters:je},context:{scrollable:i.scrollable}},Me=By.setMetaData(Fe);Xo(By.css.styles,Me.isUnstyled,{name:"datatable"});var et=S.useRef(""),Ve=S.useRef(null),lt=S.useRef(null),J=S.useRef(null),Q=S.useRef(null),xe=S.useRef(null),B=S.useRef(null),O=S.useRef(null),ee=S.useRef(null),he=S.useRef(null),le=S.useRef(null),Ee=S.useRef(null),qe=S.useRef(null),Ke=S.useRef(null),be=S.useRef(null),Ye=S.useRef(null),at=S.useRef(null),tt=S.useRef(null),ft=S.useRef(null),De=S.useRef(null),Le=S.useRef(null),H=S.useRef(null),me=S.useRef(!1),He=S.useRef(null),ct=S.useRef(!1),nt=S.useRef(null),Pe=S.useRef(null),dt=S.useRef(null);i.rows!==st&&!i.onPage&&(p(i.rows),it(i.rows));var te=Vo({type:"mousemove",listener:function(Te){me.current&&Vt(Te)}}),ue=nr(te,2),ae=ue[0],Ne=ue[1],rt=Vo({type:"mouseup",listener:function(){me.current&&(me.current=!1,un())}}),wt=nr(rt,2),bt=wt[0],xt=wt[1],Et=function(){return i.stateStorage==="custom"},Ut=function(){return i.stateKey!=null||Et()},mn=function(){return _e.isEmpty(i.virtualScrollerOptions)||!i.scrollable},Xt=function(Te,Je){return i.compareSelectionBy==="equals"?Te===Je:_e.equals(Te,Je,i.dataKey)},rn=function(){return _e.isNotEmpty(W())||i.globalFilter},hn=function(){return i.onPage?i.first:s},Ht=function(){return i.onPage?i.rows:f},ln=function(){return i.onSort?i.sortField:b},_t=function(){return i.onSort?i.sortOrder:w},N=function(){return(i.onSort?i.multiSortMeta:P)||[]},W=function(){return i.onFilter?i.filters:I},$=function(Te,Je){return Tr.getCProp(Te,Je)},A=function(Te){var Je=S.Children.toArray(i.children);if(!Je)return null;if(!Te&&i.reorderableColumns&&fe){var ht=fe.reduce(function(St,Tt){var Mt=Ze(Je,Tt);return Mt&&St.push(Mt),St},[]);return[].concat(Ur(ht),Ur(Je.filter(function(St){return ht.indexOf(St)<0})))}return Je},z=function(){switch(i.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;case"custom":return null;default:throw new Error(i.stateStorage+' is not a valid value for the state storage, supported values are "local", "session" and "custom".')}},q=function(){var Te={};i.paginator&&(Te.first=hn(),Te.rows=Ht());var Je=ln();Je&&(Te.sortField=Je,Te.sortOrder=_t());var ht=N();if(ht&&(Te.multiSortMeta=ht),rn()&&(Te.filters=W()),i.resizableColumns&&pe(Te),i.reorderableColumns&&(Te.columnOrder=fe),i.expandedRows&&(Te.expandedRows=i.expandedRows),i.selection&&i.onSelectionChange&&(Te.selection=i.selection),Et())i.customSaveState&&i.customSaveState(Te);else{var St=z();_e.isNotEmpty(Te)&&St.setItem(i.stateKey,JSON.stringify(Te))}i.onStateSave&&i.onStateSave(Te)},re=function(){var Te=z();Te&&i.stateKey&&Te.removeItem(i.stateKey)},oe=function(){var Te={};if(Et())i.customRestoreState&&(Te=i.customRestoreState());else{var Je=z(),ht=Je.getItem(i.stateKey),St=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,Tt=function(Ot,zt){return typeof zt=="string"&&St.test(zt)?new Date(zt):zt};ht&&(Te=JSON.parse(ht,Tt))}we(Te)},Ie=function(Te){we(Te)},we=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_e.isNotEmpty(Te)){if(i.paginator)if(i.onPage){var Je=function(St,Tt){var Mt=Ge(_a()),Ot=Math.ceil(Mt/Tt)||1,zt=Math.floor(St/Tt);return{first:St,rows:Tt,page:zt,pageCount:Ot}};i.onPage(Ii(Je(Te.first,Te.rows)))}else l(Te.first),p(Te.rows);Te.sortField&&(i.onSort?i.onSort(Ii({sortField:Te.sortField,sortOrder:Te.sortOrder})):(y(Te.sortField),C(Te.sortOrder))),Te.multiSortMeta&&(i.onSort?i.onSort(Ii({multiSortMeta:Te.multiSortMeta})):D(Te.multiSortMeta)),Te.filters&&(Y(Xa(Te.filters)),i.onFilter?i.onFilter(Ii({filters:Te.filters})):V(Xa(Te.filters))),i.resizableColumns&&(ft.current=Te.columnWidths,De.current=Te.tableWidth,Re()),i.reorderableColumns&&ye(Te.columnOrder),Te.expandedRows&&i.onRowToggle&&i.onRowToggle({data:Te.expandedRows}),Te.selection&&i.onSelectionChange&&i.onSelectionChange({value:Te.selection}),i.onStateRestore&&i.onStateRestore(Te)}},pe=function(Te){var Je=[],ht=ke.find(Ve.current,'[data-pc-section="thead"] > tr > th');ht.forEach(function(St){return Je.push(ke.getOuterWidth(St))}),Te.columnWidths=Je.join(","),i.columnResizeMode==="expand"&&(Te.tableWidth=ke.getOuterWidth(lt.current)+"px")},G=function(Te){Rr();var Je="",ht='[data-pc-name="datatable"]['.concat(et.current,'] > [data-pc-section="wrapper"] ').concat(mn()?"":'> [data-pc-name="virtualscroller"]',' > [data-pc-section="table"]');Te.forEach(function(St,Tt){var Mt="width: ".concat(St,"px !important; max-width: ").concat(St,"px !important");Je+=`
                `.concat(ht,' > [data-pc-section="thead"] > tr > th:nth-child(').concat(Tt+1,`),
                `).concat(ht,' > [data-pc-section="tbody"] > tr > td:nth-child(').concat(Tt+1,`),
                `).concat(ht,' > [data-pc-section="tfoot"] > tr > td:nth-child(').concat(Tt+1,`) {
                    `).concat(Mt,`
                }
            `)}),Ye.current.innerHTML=Je},Re=function(){if(ft.current){var Te=ft.current.split(",");i.columnResizeMode==="expand"&&De.current&&(lt.current.style.width=De.current,lt.current.style.minWidth=De.current),_e.isNotEmpty(Te)&&G(Te)}},Ae=function(Te){if(Te.nodeName==="TH")return Te;for(var Je=Te.parentElement;Je.nodeName!=="TH"&&(Je=Je.parentElement,!!Je););return Je},We=function(){return i.sortMode==="single"?i.sortField:ne?ne.field:null},Ue=function(Te){return i.showSelectionElement||i.isDataSelectable?Te.filter(function(Je,ht){var St=!0;return i.showSelectionElement&&(St=i.showSelectionElement({rowIndex:ht,props:i})),i.isDataSelectable&&St&&(St=i.isDataSelectable({data:Je,index:ht})),St}):Te},ie=function(Te){if(i.onSelectAllChange)return i.selectAll;var Je=i.selectionPageOnly?Zu(Te):Te,ht=_e.isNotEmpty(i.frozenValue)?[].concat(Ur(i.frozenValue),Ur(Je)):Je,St=Ue(ht);return _e.isNotEmpty(St)&&i.selection&&St.every(function(Tt){return _e.isArray(i.selection)&&i.selection.some(function(Mt){return Xt(Mt,Tt)})})},Oe=function(Te){if(Te){var Je=Te.find(function(ht){return!!$(ht,"selectionMode")});return Je?$(Je,"selectionMode"):null}return null},Ze=function(Te,Je){return _e.isNotEmpty(Te)?Te.find(function(ht){return $(ht,"columnKey")===Je||$(ht,"field")===Je}):null},Ge=function(Te){return i.lazy?i.totalRecords:Te?Te.length:0},$e=function(Te){var Je=Te.rowData,ht=Te.field,St=Te.editingKey;Te.rowIndex;var Tt=Te.editing,Mt=vo({},K),Ot=Mt[St];if(Tt)!Ot&&(Ot=Mt[St]={data:vo({},Je),fields:[]}),Ot.fields.push(ht);else if(Ot){var zt=Ot.fields.filter(function(en){return en!==ht});zt.length?Ot.fields=zt:delete Mt[St]}ge(Mt)},At=function(){i.editMode&&_e.isNotEmpty(K)&&ge({})},Pt=function(Te){gr();var Je=Te.originalEvent,ht=Te.column,St=ke.getOffset(Ve.current).left;Le.current=ht,H.current=Je.currentTarget.parentElement,me.current=!0,He.current=Je.pageX-St+Ve.current.scrollLeft,Kt()},Vt=function(Te){var Je=ke.getOffset(Ve.current).left;Ve.current.setAttribute("data-p-unselectable-text",!0),Ee.current.style.height=Ve.current.offsetHeight+"px",Ee.current.style.top="0px",Ee.current.style.left=Te.pageX-Je+Ve.current.scrollLeft+"px",Ee.current.style.display="block"},un=function(){var Te=Ee.current.offsetLeft-He.current,Je=H.current.offsetWidth,ht=Je+Te,St=H.current.style.minWidth||15;if(Je+Te>parseInt(St,10)){if(i.columnResizeMode==="fit"){var Tt=H.current.nextElementSibling,Mt=Tt.offsetWidth-Te;ht>15&&Mt>15&&nn(ht,Mt)}else if(i.columnResizeMode==="expand"){var Ot=lt.current.offsetWidth+Te+"px",zt=function(cn){cn&&(cn.style.width=cn.style.minWidth=Ot)};nn(ht),zt(lt.current),mn()||(zt(Q.current),zt(xe.current),J.current&&zt(ke.findSingle(J.current,'[data-pc-name="virtualscroller"] > table > tbody')))}i.onColumnResizeEnd&&i.onColumnResizeEnd({element:H.current,column:Le.current,delta:Te}),Ut()&&q()}Ee.current.style.display="none",Le.current=null,H.current=null,Ve.current.setAttribute("data-p-unselectable-text","true"),Ce(),Lt()},nn=function(Te,Je){var ht=[],St=ke.index(H.current),Tt=ke.find(lt.current,'[data-pc-section="thead"] > tr > th');Tt.forEach(function(zt){return ht.push(ke.getOuterWidth(zt))}),It(),Rr();var Mt="",Ot='[data-pc-name="datatable"]['.concat(et.current,'] > [data-pc-section="wrapper"] ').concat(mn()?"":'> [data-pc-name="virtualscroller"]',' > [data-pc-section="table"]');ht.forEach(function(zt,en){var cn=en===St?Te:Je&&en===St+1?Je:zt,xn="width: ".concat(cn,"px !important; max-width: ").concat(cn,"px !important");Mt+=`
                 `.concat(Ot,' > [data-pc-section="thead"] > tr > th:nth-child(').concat(en+1,`),
                `).concat(Ot,' > [data-pc-section="tbody"] > tr > td:nth-child(').concat(en+1,`),
                `).concat(Ot,' > [data-pc-section="tfoot"] > tr > td:nth-child(').concat(en+1,`) {
                    `).concat(xn,`
                }
            `)}),Ye.current.innerHTML=Mt},Kt=function(){ae(),bt()},Lt=function(){Ne(),xt()},qt=function(Te){ke.clearSelection();var Je=Te.originalEvent,ht=Te.column;i.reorderableColumns&&$(ht,"reorderable")!==!1&&!$(ht,"frozen")&&(Je.target.nodeName==="INPUT"||Je.target.nodeName==="TEXTAREA"||ke.getAttribute(Je.target,'[data-pc-section="columnresizer"]')?Je.currentTarget.draggable=!1:Je.currentTarget.draggable=!0)},Rn=function(Te,Je){if(i.onSelectAllChange)i.onSelectAllChange(Te);else{var ht=Te.originalEvent,St=Te.checked,Tt=i.selectionPageOnly?Zu(Je):Je,Mt=i.selectionPageOnly&&i.selection?i.selection.filter(function(Ot){return!Tt.some(function(zt){return Xt(Ot,zt)})}):[];St?(Mt=_e.isNotEmpty(i.frozenValue)?[].concat(Ur(Mt),Ur(i.frozenValue),Ur(Tt)):[].concat(Ur(Mt),Ur(Tt)),Mt=Ue(Mt),i.onAllRowsSelect&&i.onAllRowsSelect({originalEvent:ht,data:Mt,type:"all"})):i.onAllRowsUnselect&&i.onAllRowsUnselect({originalEvent:ht,data:Mt,type:"all"}),i.onSelectionChange&&i.onSelectionChange({originalEvent:ht,value:Mt,type:"all"})}},Qt=function(Te){var Je=Te.originalEvent,ht=Te.column;if(me.current){Je.preventDefault();return}i.reorderableColumns&&(he.current=ke.getHiddenElementOuterWidth(O.current),le.current=ke.getHiddenElementOuterHeight(O.current),Ke.current=ht,qe.current=Ae(Je.currentTarget),Je.dataTransfer.setData("text","b"))},sn=function(Te){var Je=Te.originalEvent,ht=Te.column,St=Ae(Je.currentTarget);if(i.reorderableColumns&&qe.current&&St&&!$(ht,"frozen")&&(Je.preventDefault(),qe.current!==St)){var Tt=ke.getOffset(Ve.current),Mt=ke.getOffset(St),Ot=Mt.left-Tt.left,zt=Mt.left+St.offsetWidth/2,en=ke.index(qe.current),cn=ke.index(Ae(Je.currentTarget));O.current.style.top=Mt.top-Tt.top-(le.current-1)+"px",ee.current.style.top=Mt.top-Tt.top+St.offsetHeight+"px",Je.pageX>zt&&en<cn?(O.current.style.left=Ot+St.offsetWidth-Math.ceil(he.current/2)+"px",ee.current.style.left=Ot+St.offsetWidth-Math.ceil(he.current/2)+"px",be.current=1):en>cn&&(O.current.style.left=Ot-Math.ceil(he.current/2)+"px",ee.current.style.left=Ot-Math.ceil(he.current/2)+"px",be.current=-1),O.current.style.display="block",ee.current.style.display="block"}},_n=function(Te){var Je=Te.originalEvent;i.reorderableColumns&&qe.current&&(Je.preventDefault(),O.current.style.display="none",ee.current.style.display="none")},Jr=function(Te){var Je=Te.originalEvent,ht=Te.column;if(Je.preventDefault(),qe.current){var St=ke.index(qe.current),Tt=ke.index(Ae(Je.currentTarget)),Mt=St!==Tt;if(Mt&&(Tt-St===1&&be.current===-1||St-Tt===1&&be.current===1)&&(Mt=!1),Mt){var Ot=A(),zt=function(Hi,Zs){return $(Hi,"columnKey")||$(Zs,"columnKey")?_e.equals(Hi.props,Zs.props,"columnKey"):_e.equals(Hi.props,Zs.props,"field")},en=Ot.findIndex(function(yi){return zt(yi,Ke.current)}),cn=Ot.findIndex(function(yi){return zt(yi,ht)}),xn=[],Dn=ke.find(lt.current,'[data-pc-section="thead"] > tr > th');Dn.forEach(function(yi){return xn.push(ke.getOuterWidth(yi))});var zn=xn.find(function(yi,Hi){return Hi===en}),vr=xn.filter(function(yi,Hi){return Hi!==en}),ci=[].concat(Ur(vr.slice(0,cn)),[zn],Ur(vr.slice(cn)));G(ci),cn<en&&be.current===1&&cn++,cn>en&&be.current===-1&&cn--,_e.reorderArray(Ot,en,cn);var Do=Ot.reduce(function(yi,Hi){return yi.push($(Hi,"columnKey")||$(Hi,"field")),yi},[]);ye(Do),i.onColReorder&&i.onColReorder({originalEvent:Je,dragIndex:en,dropIndex:cn,columns:Ot})}O.current.style.display="none",ee.current.style.display="none",qe.current.draggable=!1,qe.current=null,Ke.current=null,be.current=null}},gr=function(){tt.current=ke.createInlineStyle(n&&n.nonce||En.nonce,n&&n.styleContainer);var Te=`
[data-pc-name="datatable"][`.concat(et.current,`] {
    user-select:none;
}
        `);tt.current.innerHTML=Te},Rr=function(){Ye.current=ke.createInlineStyle(n&&n.nonce||En.nonce,n&&n.styleContainer)},Ka=function(){if(!at.current){at.current=ke.createInlineStyle(n&&n.nonce||En.nonce,n&&n.styleContainer);var Te=".p-datatable-wrapper ".concat(mn()?"":"> .p-virtualscroller"," > .p-datatable-table"),Je=".p-datatable[".concat(et.current,"] > ").concat(Te),ht=".p-datatable[".concat(et.current,"].p-datatable-gridlines > ").concat(Te),St=`
@media screen and (max-width: `.concat(i.breakpoint,`) {
    `).concat(Je,` > .p-datatable-thead > tr > th,
    `).concat(Je,` > .p-datatable-tfoot > tr > td {
        display: none;
    }

    `).concat(Je,` > .p-datatable-tbody > tr > td {
        display: flex;
        width: 100%;
        align-items: center;
        justify-content: space-between;
    }

    `).concat(Je,` > .p-datatable-tbody > tr > td:not(:last-child) {
        border: 0 none;
    }

    `).concat(ht,` > .p-datatable-tbody > tr > td:last-child {
        border-top: 0;
        border-right: 0;
        border-left: 0;
    }

    `).concat(Je,` > .p-datatable-tbody > tr > td > .p-column-title {
        display: block;
    }
}
`);at.current.innerHTML=St}},ba=function(){at.current=ke.removeInlineStyle(at.current)},It=function(){Ye.current=ke.removeInlineStyle(Ye.current)},Ce=function(){tt.current=ke.removeInlineStyle(tt.current)},Nt=function(Te){At(),i.onPage?i.onPage(Ii(Te)):(l(Te.first),p(Te.rows)),i.onValueChange&&i.onValueChange(_a())},dn=function(Te){At();var Je=Te.originalEvent,ht=Te.column,St=Te.sortableDisabledFields,Tt=$(ht,"sortField")||$(ht,"field"),Mt=i.defaultSortOrder,Ot,zt;if(ct.current=$(ht,"sortable"),nt.current=$(ht,"sortFunction"),Pe.current=Tt,i.sortMode==="multiple"){var en=Je.metaKey||Je.ctrlKey;Ot=Ur(N());var cn=Ot.find(function(Dn){return Dn.field===Tt});Mt=cn?er(cn.order):Mt;var xn={field:Tt,order:Mt};Mt?(Ot=en?Ot:Ot.filter(function(Dn){return St.some(function(zn){return zn===Dn.field})}),wa(xn,Ot)):i.removableSort&&qu(xn,Ot),zt={multiSortMeta:Ot}}else Mt=ln()===Tt?er(_t()):Mt,i.removableSort&&(Tt=Mt?Tt:null),zt={sortField:Tt,sortOrder:Mt};i.onSort?i.onSort(Ii(zt)):(l(0),y(zt.sortField),C(zt.sortOrder),D(zt.multiSortMeta)),i.onValueChange&&i.onValueChange(_a({sortField:Tt,sortOrder:Mt,multiSortMeta:Ot}))},er=function(Te){return i.removableSort?i.defaultSortOrder===Te?Te*-1:0:Te*-1},Ar=function(Te,Je,ht,St){return _e.sort(Te,Je,St,ht,n&&n.nullSortOrder||En.nullSortOrder)},wa=function(Te,Je){var ht=Je.findIndex(function(St){return St.field===Te.field});ht>=0?Je[ht]=Te:Je.push(Te)},qu=function(Te,Je){var ht=Je.findIndex(function(St){return St.field===Te.field});ht>=0&&Je.splice(ht,1),Je=Je.length>0?Je:null},Yu=function(Te,Je,ht){if(i.groupRowsBy&&i.groupRowsBy===i.sortField){var St=[{field:i.sortField,order:i.sortOrder||i.defaultSortOrder}];return i.sortField!==Je&&St.push({field:Je,order:ht}),jn(Te,St)}var Tt=Ur(Te);if(ct.current&&nt.current)Tt=nt.current({data:Te,field:Je,order:ht});else{var Mt=new Map,Ot=_e.localeComparator(n&&n.locale||En.locale),zt=EZ(Te),en;try{for(zt.s();!(en=zt.n()).done;){var cn=en.value;Mt.set(cn,_e.resolveFieldData(cn,Je))}}catch(xn){zt.e(xn)}finally{zt.f()}Tt.sort(function(xn,Dn){var zn=Mt.get(xn),vr=Mt.get(Dn);return Ar(zn,vr,Ot,ht)})}return Tt},jn=function(Te){var Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(i.groupRowsBy&&(ne||Je.length&&i.groupRowsBy===Je[0].field)){var ht=ne,St=Je[0];ht||(ht=St,F(ht)),St.field!==ht.field&&(Je=[ht].concat(Ur(Je)))}var Tt=Ur(Te);if(ct.current&&nt.current){var Mt=Je.find(function(cn){return cn.field===Pe.current}),Ot=Pe.current,zt=Mt?Mt.order:i.defaultSortOrder;Tt=nt.current({data:Te,field:Ot,order:zt,multiSortMeta:Je})}else{var en=_e.localeComparator(n&&n.locale||En.locale);Tt.sort(function(cn,xn){return Ev(cn,xn,Je,0,en)})}return Tt},Ev=function Rt(Te,Je,ht,St,Tt){if(!(!ht||!ht[St])){var Mt=_e.resolveFieldData(Te,ht[St].field),Ot=_e.resolveFieldData(Je,ht[St].field);return _e.compare(Mt,Ot,Tt)===0?ht.length-1>St?Rt(Te,Je,ht,St+1,Tt):0:Ar(Mt,Ot,Tt,ht[St].order)}},Wh=function(Te){At(),Y(Te)},$h=function(Te){clearTimeout(dt.current),dt.current=setTimeout(function(){var Je=Xa(Te||je);i.onFilter?i.onFilter(Ii({filters:Je})):(l(0),V(Je)),i.onValueChange&&i.onValueChange(_a({filters:Je}))},i.filterDelay)},zb=function(Te){var Je=function(Mt){var Ot=nr(Mt,2),zt=Ot[0],en=Ot[1];if(en.constraints){var cn=en.constraints.filter(function(xn){return xn.value!==null});if(cn.length>0)return[zt,vo(vo({},en),{},{constraints:cn})]}else if(en.value!==null)return[zt,en]},ht=function(Mt){return Mt!==void 0},St=Object.entries(Te).map(Je).filter(ht);return Object.fromEntries(St)},Bb=function(Te,Je){if(Te){var ht=Je?zb(Je):{},St=A(),Tt=[],Mt=ht.global||i.globalFilter,Ot;Mt&&(Ot=i.globalFilterFields||St.filter(function(rr){return!$(rr,"excludeGlobalFilter")}).map(function(rr){return $(rr,"filterField")||$(rr,"field")}));for(var zt=0;zt<Te.length;zt++){var en=!0,cn=!1,xn=!1;for(var Dn in ht)if(Dn!=="null"&&Object.prototype.hasOwnProperty.call(ht,Dn)&&Dn!=="global"){xn=!0;var zn=Dn,vr=ht[zn];if(vr.operator)for(var ci=0;ci<vr.constraints.length;ci++){var Do=vr.constraints[ci];if(en=$r(zn,Te[zt],Do,ci),vr.operator===fm.OR&&en||vr.operator===fm.AND&&!en)break}else en=$r(zn,Te[zt],vr,0);if(!en)break}if(en&&Mt&&!cn&&Ot)for(var yi=0;yi<Ot.length;yi++){var Hi=Ot[yi],Zs=ht.global?ht.global.matchMode:i.globalFilterMatchMode,ho=ht.global?ht.global.value:i.globalFilter;if(cn=dm.filters[Zs](_e.resolveFieldData(Te[zt],Hi),ho,i.filterLocale),cn)break}var Oi=void 0;Mt?Oi=xn?xn&&en&&cn:cn:Oi=xn&&en,Oi&&Tt.push(Te[zt])}return(Tt.length===i.value.length||Object.keys(ht).length===0)&&(Tt=Te),Tt}},$r=function(Te,Je,ht,St){var Tt=ht.value,Mt=ht.matchMode==="custom"?"custom_".concat(Te):ht.matchMode||Fn.STARTS_WITH,Ot=_e.resolveFieldData(Je,Te),zt=dm.filters[Mt];return _e.isFunction(zt)&&zt(Ot,Tt,i.filterLocale,St)},Xa=function(Te){Te=Te||i.filters;var Je={};if(Te)Object.entries(Te).forEach(function(St){var Tt=nr(St,2),Mt=Tt[0],Ot=Tt[1];Je[Mt]=Ot.operator?{operator:Ot.operator,constraints:Ot.constraints.map(function(zt){return vo({},zt)})}:vo({},Ot)});else{var ht=A();Je=ht.reduce(function(St,Tt){var Mt=$(Tt,"filterField")||$(Tt,"field"),Ot=$(Tt,"filterFunction"),zt=$(Tt,"dataType"),en=$(Tt,"filterMatchMode")||(n&&n.filterMatchModeOptions[zt]||En.filterMatchModeOptions[zt]?n&&n.filterMatchModeOptions[zt][0]||En.filterMatchModeOptions[zt][0]:Fn.STARTS_WITH),cn={value:null,matchMode:en};return Ot&&dm.register("custom_".concat(Mt),function(){for(var xn=arguments.length,Dn=new Array(xn),zn=0;zn<xn;zn++)Dn[zn]=arguments[zn];return Ot.apply(void 0,Dn.concat([{column:Tt}]))}),St[Mt]=i.filterDisplay==="menu"?{operator:fm.AND,constraints:[cn]}:cn,St},{})}return Je},Cv=function(Te,Je,ht){var St=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Tt=vo({},je),Mt=Tt[Je],Ot=Mt&&Mt.operator?Mt.constraints[St]:Mt;Ot=Mt?{value:Te,matchMode:ht||Ot.matchMode}:{value:Te,matchMode:ht},i.filterDisplay==="menu"&&Mt&&Mt.operator?Tt[Je].constraints[St]=Ot:Tt[Je]=Ot,Y(Tt),$h(Tt)},Kh=function(){it(i.rows),Y(Xa(i.filters)),F(null),ge({}),i.onPage||(l(i.first),p(i.rows)),i.onSort||(y(i.sortField),C(i.sortOrder),D(i.multiSortMeta)),i.onFilter||V(i.filters),Yo()},Hb=function(){if(J.current){var Te=mn()?J.current:ke.findSingle(J.current,'[data-pc-name="virtualscroller"]');Te.scrollTo(0,0)}},Af=function(){It()},Yo=function(){var Te=A(!0),Je=[];Te&&(Je=Te.reduce(function(ht,St){return ht.push($(St,"columnKey")||$(St,"field")),ht},[])),ye(Je)},Vb=function(Te){var Je,ht="\uFEFF",St=A();Te&&Te.selectionOnly?Je=i.selection||[]:Je=[].concat(Ur(i.frozenValue||[]),Ur(_a()||[])),St.forEach(function(Tt,Mt){var Ot=[$(Tt,"field"),$(Tt,"header"),$(Tt,"exportHeader"),$(Tt,"exportable")],zt=Ot[0],en=Ot[1],cn=Ot[2],xn=Ot[3];if(xn&&zt){var Dn=String(cn||en||zt).replace(/"/g,'""').replace(/\n/g,"\u2028");ht+='"'+Dn+'"',Mt<St.length-1&&(ht+=i.csvSeparator)}}),Je.forEach(function(Tt){ht+=`
`,St.forEach(function(Mt,Ot){var zt=[$(Mt,"field"),$(Mt,"exportField"),$(Mt,"exportable")],en=zt[0],cn=zt[1],xn=zt[2],Dn=cn||en;if(xn&&Dn){var zn=_e.resolveFieldData(Tt,Dn);zn!=null?i.exportFunction?zn=i.exportFunction({data:zn,field:Dn,rowData:Tt,column:Mt}):zn=String(zn).replace(/"/g,'""').replace(/\n/g,"\u2028"):zn="",ht+='"'+zn+'"',Ot<St.length-1&&(ht+=i.csvSeparator)}})}),ke.exportCSV(ht,i.exportFilename)},jb=function(){i.editMode!=="row"&&document.body.click()},Sa=function(){ke.find(document.body,'[data-pc-section="roweditorcancelbuttonprops"]').forEach(function(Te,Je){setTimeout(function(){Te.click()},Je*5)})},Ii=function(Te){return vo({first:hn(),rows:Ht(),sortField:ln(),sortOrder:_t(),multiSortMeta:N(),filters:W()},Te)},_a=function(Te){var Je=i.value||[];if(!i.lazy&&Je&&Je.length){var ht=Te&&Te.filters||W(),St=Te&&Te.sortField||ln(),Tt=Te&&Te.sortOrder||_t(),Mt=Te&&Te.multiSortMeta||N(),Ot=A(),zt=Ot.find(function(en){return $(en,"field")===St});zt&&(ct.current=$(zt,"sortable"),nt.current=$(zt,"sortFunction")),(_e.isNotEmpty(ht)||i.globalFilter)&&(Je=Bb(Je,ht)),(St||_e.isNotEmpty(Mt))&&(i.sortMode==="single"?Je=Yu(Je,St,Tt):i.sortMode==="multiple"&&(Je=jn(Je,Mt)))}return Je},Zu=function(Te){if(Te&&i.paginator){var Je=i.lazy?0:hn();return Te.slice(Je,Je+Ht())}return Te};xa(function(){Ve.current&&(et.current=Jg(),Ve.current.setAttribute(et.current,"")),Y(Xa(i.filters)),Ut()&&(oe(),i.resizableColumns&&Re())}),Wn(function(){return i.responsiveLayout==="stack"&&!i.scrollable&&Ka(),function(){ba()}},[i.breakpoint]),Wn(function(){var Rt=Xa(i.filters);V(Rt),Y(Xa(i.filters)),i.onValueChange&&i.onValueChange(_a({filters:Rt}))},[i.filters]),Wn(function(){Ut()&&q()}),Wn(function(){ba(),i.responsiveLayout==="stack"&&!i.scrollable&&Ka()},[i.responsiveLayout,i.scrollable]),Wn(function(){i.globalFilter?Cv(i.globalFilter,"global",i.globalFilterMatchMode):V(i.filters)},[i.globalFilter,i.globalFilterMatchMode]),Ro(function(){Lt(),It(),ba(),Ce()}),S.useImperativeHandle(e,function(){return{props:i,clearState:re,closeEditingCell:jb,closeEditingRows:Sa,exportCSV:Vb,filter:Cv,reset:Kh,resetColumnOrder:Yo,resetScroll:Hb,resetResizeColumnsWidth:Af,restoreColumnWidths:Re,restoreState:oe,restoreTableState:Ie,saveState:q,getElement:function(){return Ve.current},getTable:function(){return lt.current},getVirtualScroller:function(){return B.current}}});var Mv=function(){if(i.loading){var Te=r({className:Me.cx("loadingIcon")},Me.ptm("loadingIcon")),Je=i.loadingIcon||S.createElement(rv,Er({},Te,{spin:!0})),ht=Hn.getJSXIcon(Je,vo({},Te),{props:i}),St=r({className:Me.cx("loadingOverlay")},Me.ptm("loadingOverlay"));return S.createElement("div",St,ht)}return null},Gb=function(){if(i.header){var Te=_e.getJSXElement(i.header,{props:i}),Je=r({className:Me.cx("header")},Me.ptm("header"));return S.createElement("div",Je,Te)}return null},Ea=function(Te,Je,ht){if(i.showHeaders===!1)return null;var St=ln(),Tt=_t(),Mt=Ur(N()),Ot=We(),zt=je,en=!i.onFilter&&i.filters||W(),cn=Te.items,xn=Te.props,Dn=Te.columns,zn=ht||xn.lazy?cn:xn.items;return S.createElement(b9,{hostName:"DataTable",value:zn,tableProps:i,columns:Dn,tabIndex:i.tabIndex,empty:Je,headerColumnGroup:i.headerColumnGroup,resizableColumns:i.resizableColumns,onColumnResizeStart:Pt,onColumnResizerClick:i.onColumnResizerClick,onColumnResizerDoubleClick:i.onColumnResizerDoubleClick,sortMode:i.sortMode,sortField:St,sortIcon:i.sortIcon,sortOrder:Tt,multiSortMeta:Mt,groupRowsBy:i.groupRowsBy,groupRowSortField:Ot,onSortChange:dn,filterDisplay:i.filterDisplay,filters:zt,filtersStore:en,filterIcon:i.filterIcon,filterClearIcon:i.filterClearIcon,onFilterChange:Wh,onFilterApply:$h,showSelectAll:i.showSelectAll,allRowsSelected:ie,onColumnCheckboxChange:Rn,onColumnMouseDown:qt,onColumnDragStart:Qt,onColumnDragOver:sn,onColumnDragLeave:_n,onColumnDrop:Jr,rowGroupMode:i.rowGroupMode,reorderableColumns:i.reorderableColumns,ptCallbacks:Me,metaData:Fe,unstyled:i.unstyled})},Wb=function(Te,Je,ht,St){var Tt=hn(),Mt=Te.rows,Ot=Te.columns,zt=Te.contentRef,en=Te.style,cn=Te.className,xn=Te.spacerStyle,Dn=Te.itemSize,zn=_e.isNotEmpty(i.frozenValue)&&S.createElement(p1,{hostName:"DataTable",ref:xe,cellClassName:i.cellClassName,cellSelection:i.cellSelection,checkIcon:i.checkIcon,className:"p-datatable-tbody p-datatable-frozen-tbody",collapsedRowIcon:i.collapsedRowIcon,columns:Ot,compareSelectionBy:i.compareSelectionBy,contextMenuSelection:i.contextMenuSelection,dataKey:i.dataKey,dragSelection:i.dragSelection,editMode:i.editMode,editingMeta:K,editingRows:i.editingRows,emptyMessage:i.emptyMessage,expandableRowGroups:i.expandableRowGroups,expandedRowIcon:i.expandedRowIcon,expandedRows:i.expandedRows,first:Tt,frozenRow:!0,groupRowsBy:i.groupRowsBy,isDataSelectable:i.isDataSelectable,isVirtualScrollerDisabled:!0,lazy:i.lazy,loading:i.loading,metaKeySelection:i.metaKeySelection,onCellClick:i.onCellClick,onCellSelect:i.onCellSelect,onCellUnselect:i.onCellUnselect,onContextMenu:i.onContextMenu,onContextMenuSelectionChange:i.onContextMenuSelectionChange,onEditingMetaChange:$e,onRowClick:i.onRowClick,onRowCollapse:i.onRowCollapse,onRowDoubleClick:i.onRowDoubleClick,onRowPointerDown:i.onRowPointerDown,onRowPointerUp:i.onRowPointerUp,onRowEditCancel:i.onRowEditCancel,onRowEditChange:i.onRowEditChange,onRowEditComplete:i.onRowEditComplete,onRowEditInit:i.onRowEditInit,onRowEditSave:i.onRowEditSave,onRowExpand:i.onRowExpand,onRowMouseEnter:i.onRowMouseEnter,onRowMouseLeave:i.onRowMouseLeave,onRowReorder:i.onRowReorder,onRowSelect:i.onRowSelect,onRowToggle:i.onRowToggle,onRowUnselect:i.onRowUnselect,onSelectionChange:i.onSelectionChange,paginator:i.paginator,reorderableRows:i.reorderableRows,responsiveLayout:i.responsiveLayout,rowClassName:i.rowClassName,rowEditValidator:i.rowEditValidator,rowEditorCancelIcon:i.rowEditorCancelIcon,rowEditorInitIcon:i.rowEditorInitIcon,rowEditorSaveIcon:i.rowEditorSaveIcon,rowExpansionTemplate:i.rowExpansionTemplate,rowGroupFooterTemplate:i.rowGroupFooterTemplate,rowGroupHeaderTemplate:i.rowGroupHeaderTemplate,rowGroupMode:i.rowGroupMode,scrollable:i.scrollable,selectOnEdit:i.selectOnEdit,selection:i.selection,selectionAutoFocus:i.selectionAutoFocus,selectionMode:i.selectionMode,selectionModeInColumn:Je,showRowReorderElement:i.showRowReorderElement,showSelectionElement:i.showSelectionElement,tabIndex:i.tabIndex,tableProps:i,tableSelector:et.current,value:i.frozenValue,virtualScrollerOptions:Te,ptCallbacks:Me,metaData:Fe}),vr=S.createElement(p1,{hostName:"DataTable",ref:Q,cellClassName:i.cellClassName,cellSelection:i.cellSelection,checkIcon:i.checkIcon,className:Ct("p-datatable-tbody",cn),collapsedRowIcon:i.collapsedRowIcon,columns:Ot,compareSelectionBy:i.compareSelectionBy,contextMenuSelection:i.contextMenuSelection,dataKey:i.dataKey,dragSelection:i.dragSelection,editMode:i.editMode,editingMeta:K,editingRows:i.editingRows,empty:ht,emptyMessage:i.emptyMessage,expandableRowGroups:i.expandableRowGroups,expandedRowIcon:i.expandedRowIcon,expandedRows:i.expandedRows,first:Tt,frozenRow:!1,groupRowsBy:i.groupRowsBy,isDataSelectable:i.isDataSelectable,isVirtualScrollerDisabled:St,lazy:i.lazy,loading:i.loading,metaKeySelection:i.metaKeySelection,onCellClick:i.onCellClick,onCellSelect:i.onCellSelect,onCellUnselect:i.onCellUnselect,onContextMenu:i.onContextMenu,onContextMenuSelectionChange:i.onContextMenuSelectionChange,onEditingMetaChange:$e,onRowClick:i.onRowClick,onRowCollapse:i.onRowCollapse,onRowDoubleClick:i.onRowDoubleClick,onRowEditCancel:i.onRowEditCancel,onRowEditChange:i.onRowEditChange,onRowEditComplete:i.onRowEditComplete,onRowEditInit:i.onRowEditInit,onRowEditSave:i.onRowEditSave,onRowExpand:i.onRowExpand,onRowMouseEnter:i.onRowMouseEnter,onRowMouseLeave:i.onRowMouseLeave,onRowPointerDown:i.onRowPointerDown,onRowPointerUp:i.onRowPointerUp,onRowReorder:i.onRowReorder,onRowSelect:i.onRowSelect,onRowToggle:i.onRowToggle,onRowUnselect:i.onRowUnselect,onSelectionChange:i.onSelectionChange,paginator:i.paginator,reorderableRows:i.reorderableRows,responsiveLayout:i.responsiveLayout,rowClassName:i.rowClassName,rowEditValidator:i.rowEditValidator,rowEditorCancelIcon:i.rowEditorCancelIcon,rowEditorInitIcon:i.rowEditorInitIcon,rowEditorSaveIcon:i.rowEditorSaveIcon,rowExpansionTemplate:i.rowExpansionTemplate,rowGroupFooterTemplate:i.rowGroupFooterTemplate,rowGroupHeaderTemplate:i.rowGroupHeaderTemplate,rowGroupMode:i.rowGroupMode,scrollable:i.scrollable,selectOnEdit:i.selectOnEdit,selection:i.selection,selectionAutoFocus:i.selectionAutoFocus,selectionMode:i.selectionMode,selectionModeInColumn:Je,showRowReorderElement:i.showRowReorderElement,showSelectionElement:i.showSelectionElement,style:en,tabIndex:i.tabIndex,tableProps:i,tableSelector:et.current,value:Zu(Mt),virtualScrollerContentRef:zt,virtualScrollerOptions:Te,ptCallbacks:Me,metaData:Fe}),ci=_e.isNotEmpty(xn)?S.createElement(p1,{hostName:"DataTable",style:{height:"calc(".concat(xn.height," - ").concat(Mt.length*Dn,"px)")},className:"p-datatable-virtualscroller-spacer",ptCallbacks:Me,metaData:Fe}):null;return S.createElement(S.Fragment,null,zn,vr,ci)},If=function(Te){var Je=Te.columns;return S.createElement(y9,{hostName:"DataTable",tableProps:i,columns:Je,footerColumnGroup:i.footerColumnGroup,ptCallbacks:Me,metaData:Fe})},$b=function(Te,Je,ht,St){if(Je){var Tt=mn(),Mt=i.virtualScrollerOptions||{},Ot=r({className:Me.cx("wrapper"),style:vo(vo({},Me.sx("wrapper")),{},{maxHeight:Tt?i.scrollHeight:null})},Me.ptm("wrapper"));return S.createElement("div",Er({ref:J},Ot),S.createElement(O3,Er({ref:B},Mt,{items:Te,columns:Je,style:vo(vo({},Mt.style),{height:i.scrollHeight!=="flex"?i.scrollHeight:void 0}),scrollHeight:i.scrollHeight!=="flex"?void 0:"100%",disabled:Tt,loaderDisabled:!0,inline:!0,autoSize:!0,pt:Me.ptm("virtualScroller"),__parentMetadata:{parent:Fe},showSpacer:!1,contentTemplate:function(en){var cn=function(Do){lt.current=Do,en.spacerRef&&en.spacerRef(Do)},xn=Ea(en,St,Tt),Dn=Wb(en,ht,St,Tt),zn=If(en),vr=r({className:Ct(i.tableClassName,Me.cx("table")),style:i.tableStyle,role:"table"},Me.ptm("table"));return S.createElement("table",Er({ref:cn},vr),xn,Dn,zn)}})))}},Zo=function(){if(i.footer){var Te=_e.getJSXElement(i.footer,{props:i}),Je=r({className:Me.cx("footer")},Me.ptm("footer"));return S.createElement("div",Je,Te)}return null},Ju=function(Te,Je){return S.createElement(Q5,{first:hn(),rows:Ht(),pageLinkSize:i.pageLinkSize,className:Ct(i.paginatorClassName,Me.cx("paginator",{position:Te})),onPageChange:Nt,template:i.paginatorTemplate,totalRecords:Je,rowsPerPageOptions:i.rowsPerPageOptions,currentPageReportTemplate:i.currentPageReportTemplate,leftContent:i.paginatorLeft,rightContent:i.paginatorRight,alwaysShow:i.alwaysShowPaginator,dropdownAppendTo:i.paginatorDropdownAppendTo,pt:Me.ptm("paginator"),unstyled:i.unstyled,__parentMetadata:{parent:Fe}})},Of=function(Te){return i.paginator&&i.paginatorPosition!=="bottom"?Ju("top",Te):null},zl=function(Te){return i.paginator&&i.paginatorPosition!=="top"?Ju("bottom",Te):null},Xh=function(){if(i.resizableColumns){var Te=r({className:Me.cx("resizeHelper"),style:Me.sx("resizeHelper")},Me.ptm("resizeHelper"));return S.createElement("div",Er({ref:Ee},Te))}return null},qh=function(){if(i.reorderableColumns){var Te={position:"absolute",display:"none"},Je=r({className:Me.cx("reorderIndicatorUp"),style:Me.sx("reorderIndicatorUp",{style:Te})},Me.ptm("reorderIndicatorUp")),ht=r(Me.ptm("reorderIndicatorUpIcon")),St=Hn.getJSXIcon(i.reorderIndicatorUpIcon||S.createElement(P5,ht),vo({},ht),{props:i}),Tt=r({className:Me.cx("reorderIndicatorDown"),style:Me.sx("reorderIndicatorDown",{style:Te})},Me.ptm("reorderIndicatorDown")),Mt=r(Me.ptm("reorderIndicatorDownIcon")),Ot=Hn.getJSXIcon(i.reorderIndicatorDownIcon||S.createElement(R5,Mt),vo({},Mt),{props:i});return S.createElement(S.Fragment,null,S.createElement("span",Er({ref:O},Je),St),S.createElement("span",Er({ref:ee},Tt),Ot))}return null},Df=_a(),kf=A(),Lf=Ge(Df),Bl=_e.isEmpty(Df),fo=Oe(kf),Ca=i.selectionMode||fo,Ss=Mv(),Yh=Gb(),Tv=Of(Lf),qa=$b(Df,kf,fo,Bl),_s=zl(Lf),Nf=Zo(),Pv=Xh(),Ff=qh(),Rv=r({id:i.id,className:Ct(i.className,Me.cx("root",{selectable:Ca})),style:i.style,"data-scrollselectors":".p-datatable-wrapper","data-showgridlines":i.showGridlines},By.getOtherProps(i),Me.ptm("root"));return S.createElement("div",Er({ref:Ve},Rv),Ss,Yh,Tv,qa,_s,Nf,Pv,Ff)});F3.displayName="DataTable";var Ls=function(){};Ls.displayName="Column";const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,li=Object.keys,ao=Array.isArray;function Mo(t,e){return typeof e!="object"||li(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||br.Promise||(br.Promise=Promise);const cg=Object.getPrototypeOf,MZ={}.hasOwnProperty;function pa(t,e){return MZ.call(t,e)}function Ch(t,e){typeof e=="function"&&(e=e(cg(t))),(typeof Reflect>"u"?li:Reflect.ownKeys)(e).forEach(n=>{El(t,n,e[n])})}const w9=Object.defineProperty;function El(t,e,n,r){w9(t,e,Mo(n&&pa(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function ch(t){return{from:function(e){return t.prototype=Object.create(e.prototype),El(t.prototype,"constructor",t),{extend:Ch.bind(null,t.prototype)}}}}const TZ=Object.getOwnPropertyDescriptor;function U3(t,e){let n;return TZ(t,e)||(n=cg(t))&&U3(n,e)}const PZ=[].slice;function px(t,e,n){return PZ.call(t,e,n)}function S9(t,e){return e(t)}function Jp(t){if(!t)throw new Error("Assertion Failed")}function _9(t){br.setImmediate?setImmediate(t):setTimeout(t,0)}function E9(t,e){return t.reduce((n,r,i)=>{var o=e(r,i);return o&&(n[o[0]]=o[1]),n},{})}function Cl(t,e){if(typeof e=="string"&&pa(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var o=Cl(t,e[r]);n.push(o)}return n}var a=e.indexOf(".");if(a!==-1){var s=t[e.substr(0,a)];return s==null?void 0:Cl(s,e.substr(a+1))}}function ys(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Jp(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)ys(t,e[r],n[r])}else{var o=e.indexOf(".");if(o!==-1){var a=e.substr(0,o),s=e.substr(o+1);if(s==="")n===void 0?ao(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var l=t[a];l&&pa(t,a)||(l=t[a]={}),ys(l,s,n)}}else n===void 0?ao(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function C9(t){var e={};for(var n in t)pa(t,n)&&(e[n]=t[n]);return e}const RZ=[].concat;function M9(t){return RZ.apply([],t)}const T9="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(M9([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>br[t]),AZ=T9.map(t=>br[t]);E9(T9,t=>[t,!0]);let lu=null;function av(t){lu=typeof WeakMap<"u"&&new WeakMap;const e=kC(t);return lu=null,e}function kC(t){if(!t||typeof t!="object")return t;let e=lu&&lu.get(t);if(e)return e;if(ao(t)){e=[],lu&&lu.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(kC(t[n]))}else if(AZ.indexOf(t.constructor)>=0)e=t;else{const o=cg(t);for(var i in e=o===Object.prototype?{}:Object.create(o),lu&&lu.set(t,e),t)pa(t,i)&&(e[i]=kC(t[i]))}return e}const{toString:IZ}={};function LC(t){return IZ.call(t).slice(8,-1)}const NC=typeof Symbol<"u"?Symbol.iterator:"@@iterator",OZ=typeof NC=="symbol"?function(t){var e;return t!=null&&(e=t[NC])&&e.apply(t)}:function(){return null},Pd={};function ml(t){var e,n,r,i;if(arguments.length===1){if(ao(t))return t.slice();if(this===Pd&&typeof t=="string")return[t];if(i=OZ(t)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const z3=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ks=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function P9(t,e){Ks=t,R9=e}var R9=()=>!0;const DZ=!new Error("").stack;function Sf(){if(DZ)try{throw Sf.arguments,new Error}catch(t){return t}return new Error}function FC(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(R9).map(r=>`
`+r).join("")):""}var A9=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],B3=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(A9),kZ={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function fh(t,e){this._e=Sf(),this.name=t,this.message=e}function I9(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function mx(t,e,n,r){this._e=Sf(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=I9(t,e)}function ym(t,e){this._e=Sf(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=I9(t,e)}ch(fh).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+FC(this._e,2))}},toString:function(){return this.name+": "+this.message}}),ch(mx).from(fh),ch(ym).from(fh);var H3=B3.reduce((t,e)=>(t[e]=e+"Error",t),{});const LZ=fh;var bn=B3.reduce((t,e)=>{var n=e+"Error";function r(i,o){this._e=Sf(),this.name=n,i?typeof i=="string"?(this.message=`${i}${o?`
 `+o:""}`,this.inner=o||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=kZ[e]||n,this.inner=null)}return ch(r).from(LZ),t[e]=r,t},{});bn.Syntax=SyntaxError,bn.Type=TypeError,bn.Range=RangeError;var o4=A9.reduce((t,e)=>(t[e+"Error"]=bn[e],t),{}),m1=B3.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=bn[e]),t),{});function cr(){}function fg(t){return t}function NZ(t,e){return t==null||t===fg?e:function(n){return e(t(n))}}function hf(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function FZ(t,e){return t===cr?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?hf(r,this.onsuccess):r),i&&(this.onerror=this.onerror?hf(i,this.onerror):i),o!==void 0?o:n}}function UZ(t,e){return t===cr?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?hf(n,this.onsuccess):n),r&&(this.onerror=this.onerror?hf(r,this.onerror):r)}}function zZ(t,e){return t===cr?e:function(n){var r=t.apply(this,arguments);Mo(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?hf(i,this.onsuccess):i),o&&(this.onerror=this.onerror?hf(o,this.onerror):o),r===void 0?a===void 0?void 0:a:Mo(r,a)}}function BZ(t,e){return t===cr?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function V3(t,e){return t===cr?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return e.apply(r,o)})}return e.apply(this,arguments)}}m1.ModifyError=mx,m1.DexieError=fh,m1.BulkError=ym;var dg={};const O9=100,[UC,gx,zC]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,cg(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,cg(e),t]})(),D9=gx&&gx.then,g1=UC&&UC.constructor,j3=!!zC;var BC=!1,HZ=zC?()=>{zC.then(Vy)}:br.setImmediate?setImmediate.bind(null,Vy):br.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{Vy(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Vy,0)},xm=function(t,e){Qp.push([t,e]),vx&&(HZ(),vx=!1)},HC=!0,vx=!0,Yc=[],v1=[],VC=null,jC=fg,dh={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:l4,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{l4(t[0],t[1])}catch{}})}},pn=dh,Qp=[],Zc=0,y1=[];function Yt(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=cr,this._lib=!1;var e=this._PSD=pn;if(Ks&&(this._stackHolder=Sf(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==dg)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&WC(this,this._value))}this._state=null,this._value=null,++e.ref,L9(this,t)}const GC={get:function(){var t=pn,e=yx;function n(r,i){var o=!t.global&&(t!==pn||e!==yx);const a=o&&!Il();var s=new Yt((l,u)=>{G3(this,new k9(xx(r,t,o,a),xx(i,t,o,a),l,u,t))});return Ks&&U9(s,this),s}return n.prototype=dg,n},set:function(t){El(this,"then",t&&t.prototype===dg?GC:{get:function(){return t},set:GC.set})}};function k9(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}function L9(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&sv();n&&typeof n.then=="function"?L9(t,(i,o)=>{n instanceof Yt?n._then(i,o):n.then(i,o)}):(t._state=!0,t._value=n,N9(t)),r&&lv()}},WC.bind(null,t))}catch(n){WC(t,n)}}function WC(t,e){if(v1.push(e),t._state===null){var n=t._lib&&sv();e=jC(e),t._state=!1,t._value=e,Ks&&e!==null&&typeof e=="object"&&!e._promise&&function(r,i,o){try{r.apply(null,o)}catch(a){i&&i(a)}}(()=>{var r=U3(e,"stack");e._promise=t,El(e,"stack",{get:()=>BC?r&&(r.get?r.get.apply(e):r.value):t.stack})}),function(r){Yc.some(i=>i._value===r._value)||Yc.push(r)}(t),N9(t),n&&lv()}}function N9(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)G3(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),Zc===0&&(++Zc,xm(()=>{--Zc==0&&W3()},[]))}function G3(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Zc,xm(VZ,[n,t,e])}else t._listeners.push(e)}function VZ(t,e,n){try{VC=e;var r,i=e._value;e._state?r=t(i):(v1.length&&(v1=[]),r=t(i),v1.indexOf(i)===-1&&function(o){for(var a=Yc.length;a;)if(Yc[--a]._value===o._value)return void Yc.splice(a,1)}(e)),n.resolve(r)}catch(o){n.reject(o)}finally{VC=null,--Zc==0&&W3(),--n.psd.ref||n.psd.finalize()}}function F9(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i,o,a=t._value;a!=null?(i=a.name||"Error",o=a.message||a,r=FC(a,0)):(i=a,o=""),e.push(i+(o?": "+o:"")+r)}return Ks&&((r=FC(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&F9(t._prev,e,n)),e}function U9(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function Vy(){sv()&&lv()}function sv(){var t=HC;return HC=!1,vx=!1,t}function lv(){var t,e,n;do for(;Qp.length>0;)for(t=Qp,Qp=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Qp.length>0);HC=!0,vx=!0}function W3(){var t=Yc;Yc=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=y1.slice(0),n=e.length;n;)e[--n]()}function jy(t){return new Yt(dg,!1,t)}function _r(t,e){var n=pn;return function(){var r=sv(),i=pn;try{return Fu(n,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{Fu(i,!1),r&&lv()}}}Ch(Yt.prototype,{then:GC,_then:function(t,e){G3(this,new k9(null,null,t,e,pn))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):jy(r)):this.then(null,r=>r&&r.name===e?n(r):jy(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),jy(e)))},stack:{get:function(){if(this._stack)return this._stack;try{BC=!0;var t=F9(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{BC=!1}}},timeout:function(t,e){return t<1/0?new Yt((n,r)=>{var i=setTimeout(()=>r(new bn.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&El(Yt.prototype,Symbol.toStringTag,"Dexie.Promise"),dh.env=z9(),Ch(Yt,{all:function(){var t=ml.apply(null,arguments).map(Gy);return new Yt(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((i,o)=>Yt.resolve(i).then(a=>{t[o]=a,--r||e(t)},n))})},resolve:t=>{if(t instanceof Yt)return t;if(t&&typeof t.then=="function")return new Yt((n,r)=>{t.then(n,r)});var e=new Yt(dg,!0,t);return U9(e,VC),e},reject:jy,race:function(){var t=ml.apply(null,arguments).map(Gy);return new Yt((e,n)=>{t.map(r=>Yt.resolve(r).then(e,n))})},PSD:{get:()=>pn,set:t=>pn=t},totalEchoes:{get:()=>yx},newPSD:Nu,usePSD:zh,scheduler:{get:()=>xm,set:t=>{xm=t}},rejectionMapper:{get:()=>jC,set:t=>{jC=t}},follow:(t,e)=>new Yt((n,r)=>Nu((i,o)=>{var a=pn;a.unhandleds=[],a.onunhandled=o,a.finalize=hf(function(){(function(s){function l(){s(),y1.splice(y1.indexOf(l),1)}y1.push(l),++Zc,xm(()=>{--Zc==0&&W3()},[])})(()=>{this.unhandleds.length===0?i():o(this.unhandleds[0])})},a.finalize),t()},e,n,r))}),g1&&(g1.allSettled&&El(Yt,"allSettled",function(){const t=ml.apply(null,arguments).map(Gy);return new Yt(e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach((i,o)=>Yt.resolve(i).then(a=>r[o]={status:"fulfilled",value:a},a=>r[o]={status:"rejected",reason:a}).then(()=>--n||e(r)))})}),g1.any&&typeof AggregateError<"u"&&El(Yt,"any",function(){const t=ml.apply(null,arguments).map(Gy);return new Yt((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const i=new Array(r);t.forEach((o,a)=>Yt.resolve(o).then(s=>e(s),s=>{i[a]=s,--r||n(new AggregateError(i))}))})}));const no={awaits:0,echoes:0,id:0};var jZ=0,x1=[],CS=0,yx=0,GZ=0;function Nu(t,e,n,r){var i=pn,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++GZ;var a=dh.env;o.env=j3?{Promise:Yt,PromiseProp:{value:Yt,configurable:!0,writable:!0},all:Yt.all,race:Yt.race,allSettled:Yt.allSettled,any:Yt.any,resolve:Yt.resolve,reject:Yt.reject,nthen:a4(a.nthen,o),gthen:a4(a.gthen,o)}:{},e&&Mo(o,e),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=zh(o,t,n,r);return o.ref===0&&o.finalize(),s}function Uh(){return no.id||(no.id=++jZ),++no.awaits,no.echoes+=O9,no.id}function Il(){return!!no.awaits&&(--no.awaits==0&&(no.id=0),no.echoes=no.awaits*O9,!0)}function Gy(t){return no.echoes&&t&&t.constructor===g1?(Uh(),t.then(e=>(Il(),e),e=>(Il(),pi(e)))):t}function WZ(t){++yx,no.echoes&&--no.echoes!=0||(no.echoes=no.id=0),x1.push(pn),Fu(t,!0)}function $Z(){var t=x1[x1.length-1];x1.pop(),Fu(t,!1)}function Fu(t,e){var n=pn;if((e?!no.echoes||CS++&&t===pn:!CS||--CS&&t===pn)||B9(e?WZ.bind(null,t):$Z),t!==pn&&(pn=t,n===dh&&(dh.env=z9()),j3)){var r=dh.env.Promise,i=t.env;gx.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(br,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function z9(){var t=br.Promise;return j3?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(br,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:gx.then,gthen:t.prototype.then}:{}}function zh(t,e,n,r,i){var o=pn;try{return Fu(t,!0),e(n,r,i)}finally{Fu(o,!1)}}function B9(t){D9.call(UC,t)}function xx(t,e,n,r){return typeof t!="function"?t:function(){var i=pn;n&&Uh(),Fu(e,!0);try{return t.apply(this,arguments)}finally{Fu(i,!1),r&&B9(Il)}}}function a4(t,e){return function(n,r){return t.call(this,xx(n,e),xx(r,e))}}(""+D9).indexOf("[native code]")===-1&&(Uh=Il=cr);const s4="unhandledrejection";function l4(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(br.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(s4,!0,!0),Mo(r,i)):br.CustomEvent&&Mo(r=new CustomEvent(s4,{detail:i}),i),r&&br.dispatchEvent&&(dispatchEvent(r),!br.PromiseRejectionEvent&&br.onunhandledrejection))try{br.onunhandledrejection(r)}catch{}Ks&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var pi=Yt.reject;function $C(t,e,n,r){if(t.idbdb&&(t._state.openComplete||pn.letThrough||t._vip)){var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===H3.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>$C(t,e,n,r))):pi(o)}return i._promise(e,(o,a)=>Nu(()=>(pn.trans=i,r(o,a,i)))).then(o=>i._completion.then(()=>o))}if(t._state.openComplete)return pi(new bn.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return pi(new bn.DatabaseClosed);t.open().catch(cr)}return t._state.dbReadyPromise.then(()=>$C(t,e,n,r))}const u4="3.2.6",zc="",KC=-1/0,nl="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",H9="String expected.",bm=[],ub=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),KZ=ub,XZ=ub,V9=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),cb="__dbnames",MS="readonly",TS="readwrite";function pf(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const j9={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Wy(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=av(e))[t],e)}class qZ{_trans(e,n,r){const i=this._tx||pn.trans,o=this.name;function a(l,u,c){if(!c.schema[o])throw new bn.NotFound("Table "+o+" not part of transaction");return n(c.idbtrans,c)}const s=sv();try{return i&&i.db===this.db?i===pn.trans?i._promise(e,a,r):Nu(()=>i._promise(e,a,r),{trans:i,transless:pn.transless||pn}):$C(this.db,e,[this.name],a)}finally{s&&lv()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(i=>this.hook.reading.fire(i))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(ao(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=li(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>{if(u.compound&&n.every(c=>u.keyPath.indexOf(c)>=0)){for(let c=0;c<n.length;++c)if(n.indexOf(u.keyPath[c])===-1)return!1;return!0}return!1}).sort((u,c)=>u.keyPath.length-c.keyPath.length)[0];if(r&&this.db._maxKey!==zc){const u=r.keyPath.slice(0,n.length);return this.where(u).equals(u.map(c=>e[c]))}!r&&Ks&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(u,c){try{return o.cmp(u,c)===0}catch{return!1}}const[s,l]=n.reduce(([u,c],f)=>{const p=i[f],m=e[f];return[u||p,u||!p?pf(c,p&&p.multi?v=>{const b=Cl(v,f);return ao(b)&&b.some(y=>a(m,y))}:v=>a(m,Cl(v,f))):c]},[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,ao(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const i=Object.create(e.prototype);for(var o in r)if(pa(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){Mo(this,e)})}add(e,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=e;return i&&r&&(o=Wy(i)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[o]})).then(a=>a.numFailures?Yt.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{ys(e,i,a)}catch{}return a})}update(e,n){if(typeof e!="object"||ao(e))return this.where(":id").equals(e).modify(n);{const r=Cl(e,this.schema.primKey.keyPath);if(r===void 0)return pi(new bn.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?li(n).forEach(i=>{ys(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=e;return i&&r&&(o=Wy(i)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:n!=null?[n]:null})).then(a=>a.numFailures?Yt.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{ys(e,i,a)}catch{}return a})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?Yt.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:j9})).then(e=>e.numFailures?Yt.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(e,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new bn.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new bn.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let c=l&&s?e.map(Wy(l)):e;return this.core.mutate({trans:a,type:"add",keys:i,values:c,wantResults:o}).then(({numFailures:f,results:p,lastResult:m,failures:v})=>{if(f===0)return o?p:m;throw new ym(`${this.name}.bulkAdd(): ${f} of ${u} operations failed`,v)})})}bulkPut(e,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new bn.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new bn.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let c=l&&s?e.map(Wy(l)):e;return this.core.mutate({trans:a,type:"put",keys:i,values:c,wantResults:o}).then(({numFailures:f,results:p,lastResult:m,failures:v})=>{if(f===0)return o?p:m;throw new ym(`${this.name}.bulkPut(): ${f} of ${u} operations failed`,v)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:i,failures:o})=>{if(r===0)return i;throw new ym(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}}function wm(t){var e={},n=function(a,s){if(s){for(var l=arguments.length,u=new Array(l-1);--l;)u[l-1]=arguments[l];return e[a].subscribe.apply(null,u),t}if(typeof a=="string")return e[a]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(a,s,l){if(typeof a!="object"){var u;s||(s=BZ),l||(l=cr);var c={subscribers:[],fire:l,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=s(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(p){return p!==f}),c.fire=c.subscribers.reduce(s,l)}};return e[a]=n[a]=c,c}li(u=a).forEach(function(f){var p=u[f];if(ao(p))o(f,u[f][0],u[f][1]);else{if(p!=="asap")throw new bn.InvalidArgument("Invalid event config");var m=o(f,fg,function(){for(var v=arguments.length,b=new Array(v);v--;)b[v]=arguments[v];m.subscribers.forEach(function(y){_9(function(){y.apply(null,b)})})})}})}}function Ap(t,e){return ch(e).from({prototype:t}),e}function Jf(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function PS(t,e){t.filter=pf(t.filter,e)}function RS(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>pf(r(),e()):e,t.justLimit=n&&!r}function b1(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new bn.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function c4(t,e,n){const r=b1(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function $y(t,e,n,r){const i=t.replayFilter?pf(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},a=(s,l,u)=>{if(!i||i(l,u,p=>l.stop(p),p=>l.fail(p))){var c=l.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),pa(o,f)||(o[f]=!0,e(s,l,u))}};return Promise.all([t.or._iterate(a,n),f4(c4(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return f4(c4(t,r,n),pf(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function f4(t,e,n,r){var i=_r(r?(o,a,s)=>n(r(o),a,s):n);return t.then(o=>{if(o)return o.start(()=>{var a=()=>o.continue();e&&!e(o,s=>a=s,s=>{o.stop(s),a=cr},s=>{o.fail(s),a=cr})||i(o.value,o,s=>a=s),a()})})}function _o(t,e){try{const n=d4(t),r=d4(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(i,o){const a=i.length,s=o.length,l=a<s?a:s;for(let u=0;u<l;++u)if(i[u]!==o[u])return i[u]<o[u]?-1:1;return a===s?0:a<s?-1:1}(h4(t),h4(e));case"Array":return function(i,o){const a=i.length,s=o.length,l=a<s?a:s;for(let u=0;u<l;++u){const c=_o(i[u],o[u]);if(c!==0)return c}return a===s?0:a<s?-1:1}(t,e)}}catch{}return NaN}function d4(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=LC(t);return n==="ArrayBuffer"?"binary":n}function h4(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class YZ{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,pi.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,pi.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=pf(n.algorithm,e)}_iterate(e,n){return $y(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Mo(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>$y(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Jf(r,!0))return i.count({trans:n,query:{index:b1(r,i.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var o=0;return $y(r,()=>(++o,!1),n,i).then(()=>o)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),i=r[0],o=r.length-1;function a(u,c){return c?a(u[r[c]],c-1):u[i]}var s=this._ctx.dir==="next"?1:-1;function l(u,c){var f=a(u,o),p=a(c,o);return f<p?-s:f>p?s:0}return this.toArray(function(u){return u.sort(l)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Jf(r,!0)&&r.limit>0){const{valueMapper:i}=r,o=b1(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:a})=>i?a.map(i):a)}{const i=[];return $y(r,o=>i.push(o),n,r.table.core).then(()=>i)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,Jf(n)?RS(n,()=>{var r=e;return(i,o)=>r===0||(r===1?(--r,!1):(o(()=>{i.advance(r),r=0}),!1))}):RS(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),RS(this._ctx,()=>{var n=e;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this}until(e,n){return PS(this._ctx,function(r,i,o){return!e(r.value)||(i(o),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return PS(this._ctx,function(i){return e(i.value)}),n=this._ctx,r=e,n.isMatch=pf(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&Jf(n,!0)&&n.limit>0)return this._read(i=>{var o=b1(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:i})=>i).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return PS(this._ctx,function(i){var o=i.primaryKey.toString(),a=pa(r,o);return r[o]=!0,!a}),this}modify(e){var n=this._ctx;return this._write(r=>{var i;if(typeof e=="function")i=e;else{var o=li(e),a=o.length;i=function(b){for(var y=!1,g=0;g<a;++g){var x=o[g],w=e[x];Cl(b,x)!==w&&(ys(b,x,w),y=!0)}return y}}const s=n.table.core,{outbound:l,extractKey:u}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,f=[];let p=0;const m=[],v=(b,y)=>{const{failures:g,numFailures:x}=y;p+=b-x;for(let w of li(g))f.push(g[w])};return this.clone().primaryKeys().then(b=>{const y=g=>{const x=Math.min(c,b.length-g);return s.getMany({trans:r,keys:b.slice(g,g+x),cache:"immutable"}).then(w=>{const C=[],R=[],E=l?[]:null,P=[];for(let L=0;L<x;++L){const M=w[L],I={value:av(M),primKey:b[g+L]};i.call(I,I.value,I)!==!1&&(I.value==null?P.push(b[g+L]):l||_o(u(M),u(I.value))===0?(R.push(I.value),l&&E.push(b[g+L])):(P.push(b[g+L]),C.push(I.value)))}const D=Jf(n)&&n.limit===1/0&&(typeof e!="function"||e===AS)&&{index:n.index,range:n.range};return Promise.resolve(C.length>0&&s.mutate({trans:r,type:"add",values:C}).then(L=>{for(let M in L.failures)P.splice(parseInt(M),1);v(C.length,L)})).then(()=>(R.length>0||D&&typeof e=="object")&&s.mutate({trans:r,type:"put",keys:E,values:R,criteria:D,changeSpec:typeof e!="function"&&e}).then(L=>v(R.length,L))).then(()=>(P.length>0||D&&e===AS)&&s.mutate({trans:r,type:"delete",keys:P,criteria:D}).then(L=>v(P.length,L))).then(()=>b.length>g+x&&y(g+c))})};return y(0).then(()=>{if(f.length>0)throw new mx("Error modifying one or more objects",f,p,m);return b.length})})})}delete(){var e=this._ctx,n=e.range;return Jf(e)&&(e.isPrimKey&&!XZ||n.type===3)?this._write(r=>{const{primaryKey:i}=e.table.core.schema,o=n;return e.table.core.count({trans:r,query:{index:i,range:o}}).then(a=>e.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:s,lastResult:l,results:u,numFailures:c})=>{if(c)throw new mx("Could not delete some values",Object.keys(s).map(f=>s[f]),a-c);return a-c}))}):this.modify(AS)}}const AS=(t,e)=>e.value=null;function ZZ(t,e){return t<e?-1:t===e?0:1}function JZ(t,e){return t>e?-1:t===e?0:1}function ia(t,e,n){var r=t instanceof W9?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Qf(t){return new t.Collection(t,()=>G9("")).limit(0)}function QZ(t,e,n,r,i,o){for(var a=Math.min(t.length,r.length),s=-1,l=0;l<a;++l){var u=e[l];if(u!==r[l])return i(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):i(t[l],r[l])<0?t.substr(0,l)+r[l]+n.substr(l+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;i(t[l],u)<0&&(s=l)}return a<r.length&&o==="next"?t+n.substr(t.length):a<t.length&&o==="prev"?t.substr(0,n.length):s<0?null:t.substr(0,s)+r[s]+n.substr(s+1)}function Ky(t,e,n,r){var i,o,a,s,l,u,c,f=n.length;if(!n.every(b=>typeof b=="string"))return ia(t,H9);function p(b){i=function(g){return g==="next"?x=>x.toUpperCase():x=>x.toLowerCase()}(b),o=function(g){return g==="next"?x=>x.toLowerCase():x=>x.toUpperCase()}(b),a=b==="next"?ZZ:JZ;var y=n.map(function(g){return{lower:o(g),upper:i(g)}}).sort(function(g,x){return a(g.lower,x.lower)});s=y.map(function(g){return g.upper}),l=y.map(function(g){return g.lower}),u=b,c=b==="next"?"":r}p("next");var m=new t.Collection(t,()=>ou(s[0],l[f-1]+r));m._ondirectionchange=function(b){p(b)};var v=0;return m._addAlgorithm(function(b,y,g){var x=b.key;if(typeof x!="string")return!1;var w=o(x);if(e(w,l,v))return!0;for(var C=null,R=v;R<f;++R){var E=QZ(x,w,s[R],l[R],a,u);E===null&&C===null?v=R+1:(C===null||a(C,E)>0)&&(C=E)}return y(C!==null?function(){b.continue(C+c)}:g),!1}),m}function ou(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function G9(t){return{type:1,lower:t,upper:t}}class W9{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&(!r||!i)?Qf(this):new this.Collection(this,()=>ou(e,n,!r,!i))}catch{return ia(this,nl)}}equals(e){return e==null?ia(this,nl):new this.Collection(this,()=>G9(e))}above(e){return e==null?ia(this,nl):new this.Collection(this,()=>ou(e,void 0,!0))}aboveOrEqual(e){return e==null?ia(this,nl):new this.Collection(this,()=>ou(e,void 0,!1))}below(e){return e==null?ia(this,nl):new this.Collection(this,()=>ou(void 0,e,!1,!0))}belowOrEqual(e){return e==null?ia(this,nl):new this.Collection(this,()=>ou(void 0,e))}startsWith(e){return typeof e!="string"?ia(this,H9):this.between(e,e+zc,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):Ky(this,(n,r)=>n.indexOf(r[0])===0,[e],zc)}equalsIgnoreCase(e){return Ky(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=ml.apply(Pd,arguments);return e.length===0?Qf(this):Ky(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=ml.apply(Pd,arguments);return e.length===0?Qf(this):Ky(this,(n,r)=>r.some(i=>n.indexOf(i)===0),e,zc)}anyOf(){const e=ml.apply(Pd,arguments);let n=this._cmp;try{e.sort(n)}catch{return ia(this,nl)}if(e.length===0)return Qf(this);const r=new this.Collection(this,()=>ou(e[0],e[e.length-1]));r._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,e.sort(n)};let i=0;return r._addAlgorithm((o,a,s)=>{const l=o.key;for(;n(l,e[i])>0;)if(++i,i===e.length)return a(s),!1;return n(l,e[i])===0||(a(()=>{o.continue(e[i])}),!1)}),r}notEqual(e){return this.inAnyRange([[KC,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=ml.apply(Pd,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return ia(this,nl)}const n=e.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[KC,i]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(e.length===0)return Qf(this);if(!e.every(x=>x[0]!==void 0&&x[1]!==void 0&&i(x[0],x[1])<=0))return ia(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",bn.InvalidArgument);const l=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let c,f=i;function p(x,w){return f(x[0],w[0])}try{c=e.reduce(function(x,w){let C=0,R=x.length;for(;C<R;++C){const E=x[C];if(r(w[0],E[1])<0&&r(w[1],E[0])>0){E[0]=a(E[0],w[0]),E[1]=s(E[1],w[1]);break}}return C===R&&x.push(w),x},[]),c.sort(p)}catch{return ia(this,nl)}let m=0;const v=u?x=>i(x,c[m][1])>0:x=>i(x,c[m][1])>=0,b=l?x=>o(x,c[m][0])>0:x=>o(x,c[m][0])>=0;let y=v;const g=new this.Collection(this,()=>ou(c[0][0],c[c.length-1][1],!l,!u));return g._ondirectionchange=x=>{x==="next"?(y=v,f=i):(y=b,f=o),c.sort(p)},g._addAlgorithm((x,w,C)=>{for(var R=x.key;y(R);)if(++m,m===c.length)return w(C),!1;return!!function(E){return!v(E)&&!b(E)}(R)||(this._cmp(R,c[m][1])===0||this._cmp(R,c[m][0])===0||w(()=>{f===i?x.continue(c[m][0]):x.continue(c[m][1])}),!1)}),g}startsWithAnyOf(){const e=ml.apply(Pd,arguments);return e.every(n=>typeof n=="string")?e.length===0?Qf(this):this.inAnyRange(e.map(n=>[n,n+zc])):ia(this,"startsWithAnyOf() only works with strings")}}function Os(t){return _r(function(e){return hg(e),t(e.target.error),!1})}function hg(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const pg="storagemutated",fu="x-storagemutated-1",Uu=wm(null,pg);class eJ{_lock(){return Jp(!pn.global),++this._reculock,this._reculock!==1||pn.global||(pn.lockOwnerFor=this),this}_unlock(){if(Jp(!pn.global),--this._reculock==0)for(pn.global||(pn.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{zh(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&pn.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Jp(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new bn.DatabaseClosed(r);case"MissingAPIError":throw new bn.MissingAPI(r.message,r);default:throw new bn.OpenFailed(r)}if(!this.active)throw new bn.TransactionInactive;return Jp(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=_r(i=>{hg(i),this._reject(e.error)}),e.onabort=_r(i=>{hg(i),this.active&&this._reject(new bn.Abort(e.error)),this.active=!1,this.on("abort").fire(i)}),e.oncomplete=_r(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Uu.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return pi(new bn.ReadOnly("Transaction is readonly"));if(!this.active)return pi(new bn.TransactionInactive);if(this._locked())return new Yt((o,a)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(o,a)},pn])});if(r)return Nu(()=>{var o=new Yt((a,s)=>{this._lock();const l=n(a,s,this);l&&l.then&&l.then(a,s)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new Yt((o,a)=>{var s=n(o,a,this);s&&s.then&&s.then(o,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=Yt.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new Yt((a,s)=>{r.then(l=>n._waitingQueue.push(_r(a.bind(null,l))),l=>n._waitingQueue.push(_r(s.bind(null,l)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new bn.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(pa(n,e))return n[e];const r=this.schema[e];if(!r)throw new bn.NotFound("Table "+e+" not part of transaction");const i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i}}function XC(t,e,n,r,i,o,a){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+$9(e)}}function $9(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function K9(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:E9(n,r=>[r.name,r])}}let mg=t=>{try{return t.only([[]]),mg=()=>[[]],[[]]}catch{return mg=()=>zc,zc}};function qC(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>Cl(r,e)}(t):e=>Cl(e,t)}function p4(t){return[].slice.call(t)}let tJ=0;function Sm(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function nJ(t,e,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:c,lowerOpen:f,upperOpen:p}=l;return u===void 0?c===void 0?null:e.upperBound(c,!!p):c===void 0?e.lowerBound(u,!!f):e.bound(u,c,!!f,!!p)}const{schema:i,hasGetAll:o}=function(l,u){const c=p4(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(f=>u.objectStore(f)).map(f=>{const{keyPath:p,autoIncrement:m}=f,v=ao(p),b=p==null,y={},g={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b,compound:v,keyPath:p,autoIncrement:m,unique:!0,extractKey:qC(p)},indexes:p4(f.indexNames).map(x=>f.index(x)).map(x=>{const{name:w,unique:C,multiEntry:R,keyPath:E}=x,P={name:w,compound:ao(E),keyPath:E,unique:C,multiEntry:R,extractKey:qC(E)};return y[Sm(E)]=P,P}),getIndexByKeyPath:x=>y[Sm(x)]};return y[":id"]=g.primaryKey,p!=null&&(y[Sm(p)]=g.primaryKey),g})},hasGetAll:c.length>0&&"getAll"in u.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),a=i.tables.map(l=>function(u){const c=u.name;return{name:c,schema:u,mutate:function({trans:f,type:p,keys:m,values:v,range:b}){return new Promise((y,g)=>{y=_r(y);const x=f.objectStore(c),w=x.keyPath==null,C=p==="put"||p==="add";if(!C&&p!=="delete"&&p!=="deleteRange")throw new Error("Invalid operation type: "+p);const{length:R}=m||v||{length:1};if(m&&v&&m.length!==v.length)throw new Error("Given keys array must have same length as given values array.");if(R===0)return y({numFailures:0,failures:{},results:[],lastResult:void 0});let E;const P=[],D=[];let L=0;const M=V=>{++L,hg(V)};if(p==="deleteRange"){if(b.type===4)return y({numFailures:L,failures:D,results:[],lastResult:void 0});b.type===3?P.push(E=x.clear()):P.push(E=x.delete(r(b)))}else{const[V,Z]=C?w?[v,m]:[v,null]:[m,null];if(C)for(let j=0;j<R;++j)P.push(E=Z&&Z[j]!==void 0?x[p](V[j],Z[j]):x[p](V[j])),E.onerror=M;else for(let j=0;j<R;++j)P.push(E=x[p](V[j])),E.onerror=M}const I=V=>{const Z=V.target.result;P.forEach((j,fe)=>j.error!=null&&(D[fe]=j.error)),y({numFailures:L,failures:D,results:p==="delete"?m:P.map(j=>j.result),lastResult:Z})};E.onerror=V=>{M(V),I(V)},E.onsuccess=I})},getMany:({trans:f,keys:p})=>new Promise((m,v)=>{m=_r(m);const b=f.objectStore(c),y=p.length,g=new Array(y);let x,w=0,C=0;const R=P=>{const D=P.target;g[D._pos]=D.result,++C===w&&m(g)},E=Os(v);for(let P=0;P<y;++P)p[P]!=null&&(x=b.get(p[P]),x._pos=P,x.onsuccess=R,x.onerror=E,++w);w===0&&m(g)}),get:({trans:f,key:p})=>new Promise((m,v)=>{m=_r(m);const b=f.objectStore(c).get(p);b.onsuccess=y=>m(y.target.result),b.onerror=Os(v)}),query:function(f){return p=>new Promise((m,v)=>{m=_r(m);const{trans:b,values:y,limit:g,query:x}=p,w=g===1/0?void 0:g,{index:C,range:R}=x,E=b.objectStore(c),P=C.isPrimaryKey?E:E.index(C.name),D=r(R);if(g===0)return m({result:[]});if(f){const L=y?P.getAll(D,w):P.getAllKeys(D,w);L.onsuccess=M=>m({result:M.target.result}),L.onerror=Os(v)}else{let L=0;const M=y||!("openKeyCursor"in P)?P.openCursor(D):P.openKeyCursor(D),I=[];M.onsuccess=V=>{const Z=M.result;return Z?(I.push(y?Z.value:Z.primaryKey),++L===g?m({result:I}):void Z.continue()):m({result:I})},M.onerror=Os(v)}})}(o),openCursor:function({trans:f,values:p,query:m,reverse:v,unique:b}){return new Promise((y,g)=>{y=_r(y);const{index:x,range:w}=m,C=f.objectStore(c),R=x.isPrimaryKey?C:C.index(x.name),E=v?b?"prevunique":"prev":b?"nextunique":"next",P=p||!("openKeyCursor"in R)?R.openCursor(r(w),E):R.openKeyCursor(r(w),E);P.onerror=Os(g),P.onsuccess=_r(D=>{const L=P.result;if(!L)return void y(null);L.___id=++tJ,L.done=!1;const M=L.continue.bind(L);let I=L.continuePrimaryKey;I&&(I=I.bind(L));const V=L.advance.bind(L),Z=()=>{throw new Error("Cursor not stopped")};L.trans=f,L.stop=L.continue=L.continuePrimaryKey=L.advance=()=>{throw new Error("Cursor not started")},L.fail=_r(g),L.next=function(){let j=1;return this.start(()=>j--?this.continue():this.stop()).then(()=>this)},L.start=j=>{const fe=new Promise((ve,X)=>{ve=_r(ve),P.onerror=Os(X),L.fail=X,L.stop=ne=>{L.stop=L.continue=L.continuePrimaryKey=L.advance=Z,ve(ne)}}),ye=()=>{if(P.result)try{j()}catch(ve){L.fail(ve)}else L.done=!0,L.start=()=>{throw new Error("Cursor behind last entry")},L.stop()};return P.onsuccess=_r(ve=>{P.onsuccess=ye,ye()}),L.continue=M,L.continuePrimaryKey=I,L.advance=V,ye(),fe},y(L)},g)})},count({query:f,trans:p}){const{index:m,range:v}=f;return new Promise((b,y)=>{const g=p.objectStore(c),x=m.isPrimaryKey?g:g.index(m.name),w=r(v),C=w?x.count(w):x.count();C.onsuccess=_r(R=>b(R.target.result)),C.onerror=Os(y)})}}}(l)),s={};return a.forEach(l=>s[l.name]=l),{stack:"dbcore",transaction:t.transaction.bind(t),table(l){if(!s[l])throw new Error(`Table '${l}' not found`);return s[l]},MIN_KEY:-1/0,MAX_KEY:mg(e),schema:i}}function YC({_novip:t},e){const n=e.db,r=function(i,o,{IDBKeyRange:a,indexedDB:s},l){return{dbcore:function(c,f){return f.reduce((p,{create:m})=>({...p,...m(p)}),c)}(nJ(o,a,l),i.dbcore)}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(i=>{const o=i.name;t.core.schema.tables.some(a=>a.name===o)&&(i.core=t.core.table(o),t[o]instanceof t.Table&&(t[o].core=i.core))})}function bx({_novip:t},e,n,r){n.forEach(i=>{const o=r[i];e.forEach(a=>{const s=U3(a,i);(!s||"value"in s&&s.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?El(a,i,{get(){return this.table(i)},set(l){w9(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new t.Table(i,o))})})}function ZC({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function rJ(t,e){return t._cfg.version-e._cfg.version}function iJ(t,e,n,r){const i=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,i);o.create(n),o._completion.catch(r);const a=o._reject.bind(o),s=pn.transless||pn;Nu(()=>{pn.trans=o,pn.transless=s,e===0?(li(i).forEach(l=>{IS(n,l,i[l].primKey,i[l].indexes)}),YC(t,n),Yt.follow(()=>t.on.populate.fire(o)).catch(a)):function({_novip:l},u,c,f){const p=[],m=l._versions;let v=l._dbSchema=QC(l,l.idbdb,f),b=!1;const y=m.filter(x=>x._cfg.version>=u);function g(){return p.length?Yt.resolve(p.shift()(c.idbtrans)).then(g):Yt.resolve()}return y.forEach(x=>{p.push(()=>{const w=v,C=x._cfg.dbschema;e2(l,w,f),e2(l,C,f),v=l._dbSchema=C;const R=X9(w,C);R.add.forEach(P=>{IS(f,P[0],P[1].primKey,P[1].indexes)}),R.change.forEach(P=>{if(P.recreate)throw new bn.Upgrade("Not yet support for changing primary key");{const D=f.objectStore(P.name);P.add.forEach(L=>JC(D,L)),P.change.forEach(L=>{D.deleteIndex(L.name),JC(D,L)}),P.del.forEach(L=>D.deleteIndex(L))}});const E=x._cfg.contentUpgrade;if(E&&x._cfg.version>u){YC(l,f),c._memoizedTables={},b=!0;let P=C9(C);R.del.forEach(I=>{P[I]=w[I]}),ZC(l,[l.Transaction.prototype]),bx(l,[l.Transaction.prototype],li(P),P),c.schema=P;const D=z3(E);let L;D&&Uh();const M=Yt.follow(()=>{if(L=E(c),L&&D){var I=Il.bind(null,null);L.then(I,I)}});return L&&typeof L.then=="function"?Yt.resolve(L):M.then(()=>L)}}),p.push(w=>{(!b||!KZ)&&function(C,R){[].slice.call(R.db.objectStoreNames).forEach(E=>C[E]==null&&R.db.deleteObjectStore(E))}(x._cfg.dbschema,w),ZC(l,[l.Transaction.prototype]),bx(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),g().then(()=>{var x,w;w=f,li(x=v).forEach(C=>{w.db.objectStoreNames.contains(C)||IS(w,C,x[C].primKey,x[C].indexes)})})}(t,e,o,n).catch(a)})}function X9(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const i=t[r],o=e[r];if(i){const a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!ub)a.recreate=!0,n.change.push(a);else{const s=i.idxByName,l=o.idxByName;let u;for(u in s)l[u]||a.del.push(u);for(u in l){const c=s[u],f=l[u];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,o])}return n}function IS(t,e,n,r){const i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>JC(i,o)),i}function JC(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function QC(t,e,n){const r={};return px(e.objectStoreNames,0).forEach(i=>{const o=n.objectStore(i);let a=o.keyPath;const s=XC($9(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),l=[];for(let c=0;c<o.indexNames.length;++c){const f=o.index(o.indexNames[c]);a=f.keyPath;var u=XC(f.name,a,!!f.unique,!!f.multiEntry,!1,a&&typeof a!="string",!1);l.push(u)}r[i]=K9(i,s,l)}),r}function e2({_novip:t},e,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],a=n.objectStore(o);t._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){const l=a.indexNames[s],u=a.index(l).keyPath,c=typeof u=="string"?u:"["+px(u).join("+")+"]";if(e[o]){const f=e[o].idxByName[c];f&&(f.name=l,delete e[o].idxByName[c],e[o].idxByName[l]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&br.WorkerGlobalScope&&br instanceof br.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class oJ{_parseStoresSpec(e,n){li(e).forEach(r=>{if(e[r]!==null){var i=e[r].split(",").map((a,s)=>{const l=(a=a.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return XC(l,u||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),ao(u),s===0)}),o=i.shift();if(o.multi)throw new bn.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new bn.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new bn.Schema("Index must have a name and cannot be an empty string")}),n[r]=K9(r,o,i)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?Mo(this._cfg.storesSource,e):e;const r=n._versions,i={};let o={};return r.forEach(a=>{Mo(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,ZC(n,[n._allTables,n,n.Transaction.prototype]),bx(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],li(o),o),n._storeNames=li(o),this}upgrade(e){return this._cfg.contentUpgrade=V3(this._cfg.contentUpgrade||cr,e),this}}function $3(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Jc(cb,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function K3(t){return t&&typeof t.databases=="function"}function t2(t){return Nu(function(){return pn.letThrough=!0,t()})}function aJ(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function sJ(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?pi(e.dbOpenError):t);Ks&&(e.openCanceller._stackHolder=Sf()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new bn.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,a=null,s=!1;const l=()=>new Yt((u,c)=>{if(i(),!n)throw new bn.MissingAPI;const f=t.name,p=e.autoSchema?n.open(f):n.open(f,Math.round(10*t.verno));if(!p)throw new bn.MissingAPI;p.onerror=Os(c),p.onblocked=_r(t._fireOnBlocked),p.onupgradeneeded=_r(m=>{if(a=p.transaction,e.autoSchema&&!t._options.allowEmptyDB){p.onerror=hg,a.abort(),p.result.close();const b=n.deleteDatabase(f);b.onsuccess=b.onerror=_r(()=>{c(new bn.NoSuchDatabase(`Database ${f} doesnt exist`))})}else{a.onerror=Os(c);var v=m.oldVersion>Math.pow(2,62)?0:m.oldVersion;s=v<1,t._novip.idbdb=p.result,iJ(t,v/10,a,c)}},c),p.onsuccess=_r(()=>{a=null;const m=t._novip.idbdb=p.result,v=px(m.objectStoreNames);if(v.length>0)try{const y=m.transaction((b=v).length===1?b[0]:b,"readonly");e.autoSchema?function({_novip:g},x,w){g.verno=x.version/10;const C=g._dbSchema=QC(0,x,w);g._storeNames=px(x.objectStoreNames,0),bx(g,[g._allTables],li(C),C)}(t,m,y):(e2(t,t._dbSchema,y),function(g,x){const w=X9(QC(0,g.idbdb,x),g._dbSchema);return!(w.add.length||w.change.some(C=>C.add.length||C.change.length))}(t,y)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),YC(t,y)}catch{}var b;bm.push(t),m.onversionchange=_r(y=>{e.vcFired=!0,t.on("versionchange").fire(y)}),m.onclose=_r(y=>{t.on("close").fire(y)}),s&&function({indexedDB:y,IDBKeyRange:g},x){!K3(y)&&x!==cb&&$3(y,g).put({name:x}).catch(cr)}(t._deps,f),u()},c)}).catch(u=>u&&u.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):Yt.reject(u));return Yt.race([r,(typeof navigator>"u"?Yt.resolve():aJ()).then(l)]).then(()=>(i(),e.onReadyBeingFired=[],Yt.resolve(t2(()=>t.on.ready.fire(t.vip))).then(function u(){if(e.onReadyBeingFired.length>0){let c=e.onReadyBeingFired.reduce(V3,cr);return e.onReadyBeingFired=[],Yt.resolve(t2(()=>c(t.vip))).then(u)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(u=>{e.dbOpenError=u;try{a&&a.abort()}catch{}return r===e.openCanceller&&t._close(),pi(u)}).finally(()=>{e.openComplete=!0,o()})}function n2(t){var e=o=>t.next(o),n=i(e),r=i(o=>t.throw(o));function i(o){return a=>{var s=o(a),l=s.value;return s.done?l:l&&typeof l.then=="function"?l.then(n,r):ao(l)?Promise.all(l).then(n,r):n(l)}}return i(e)()}function lJ(t,e,n){var r=arguments.length;if(r<2)throw new bn.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[t,M9(i),n]}function q9(t,e,n,r,i){return Yt.resolve().then(()=>{const o=pn.transless||pn,a=t._createTransaction(e,n,t._dbSchema,r),s={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(f){return f.name===H3.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>q9(t,e,n,null,i))):pi(f)}const l=z3(i);let u;l&&Uh();const c=Yt.follow(()=>{if(u=i.call(a,a),u)if(l){var f=Il.bind(null,null);u.then(f,f)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=n2(u))},s);return(u&&typeof u.then=="function"?Yt.resolve(u).then(f=>a.active?f:pi(new bn.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(f=>(r&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),pi(f)))})}function Xy(t,e,n){const r=ao(t)?t.slice():[t];for(let i=0;i<n;++i)r.push(e);return r}const uJ={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,i={},o=[];function a(c,f,p){const m=Sm(c),v=i[m]=i[m]||[],b=c==null?0:typeof c=="string"?1:c.length,y=f>0,g={...p,isVirtual:y,keyTail:f,keyLength:b,extractKey:qC(c),unique:!y&&p.unique};return v.push(g),g.isPrimaryKey||o.push(g),b>1&&a(b===2?c[0]:c.slice(0,b-1),f+1,p),v.sort((x,w)=>x.keyTail-w.keyTail),g}const s=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(const c of r.indexes)a(c.keyPath,0,c);function l(c){const f=c.query.index;return f.isVirtual?{...c,query:{index:f,range:(p=c.query.range,m=f.keyTail,{type:p.type===1?2:p.type,lower:Xy(p.lower,p.lowerOpen?t.MAX_KEY:t.MIN_KEY,m),lowerOpen:!0,upper:Xy(p.upper,p.upperOpen?t.MIN_KEY:t.MAX_KEY,m),upperOpen:!0})}}:c;var p,m}return{...n,schema:{...r,primaryKey:s,indexes:o,getIndexByKeyPath:function(c){const f=i[Sm(c)];return f&&f[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:f,isVirtual:p,keyLength:m}=c.query.index;return p?n.openCursor(l(c)).then(v=>v&&function(b){return Object.create(b,{continue:{value:function(g){g!=null?b.continue(Xy(g,c.reverse?t.MAX_KEY:t.MIN_KEY,f)):c.unique?b.continue(b.key.slice(0,m).concat(c.reverse?t.MIN_KEY:t.MAX_KEY,f)):b.continue()}},continuePrimaryKey:{value(g,x){b.continuePrimaryKey(Xy(g,t.MAX_KEY,f),x)}},primaryKey:{get:()=>b.primaryKey},key:{get(){const g=b.key;return m===1?g[0]:g.slice(0,m)}},value:{get:()=>b.value}})}(v)):n.openCursor(c)}}}}}};function X3(t,e,n,r){return n=n||{},r=r||"",li(t).forEach(i=>{if(pa(e,i)){var o=t[i],a=e[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){const s=LC(o);s!==LC(a)?n[r+i]=e[i]:s==="Object"?X3(o,a,n,r+i+"."):o!==a&&(n[r+i]=e[i])}else o!==a&&(n[r+i]=e[i])}else n[r+i]=void 0}),li(e).forEach(i=>{pa(t,i)||(n[r+i]=e[i])}),n}const cJ={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(o){const a=pn.trans,{deleting:s,creating:l,updating:u}=a.table(e).hook;switch(o.type){case"add":if(l.fire===cr)break;return a._promise("readwrite",()=>c(o),!0);case"put":if(l.fire===cr&&u.fire===cr)break;return a._promise("readwrite",()=>c(o),!0);case"delete":if(s.fire===cr)break;return a._promise("readwrite",()=>c(o),!0);case"deleteRange":if(s.fire===cr)break;return a._promise("readwrite",()=>function(p){return f(p.trans,p.range,1e4)}(o),!0)}return n.mutate(o);function c(p){const m=pn.trans,v=p.keys||function(b,y){return y.type==="delete"?y.keys:y.keys||y.values.map(b.extractKey)}(r,p);if(!v)throw new Error("Keys missing");return(p=p.type==="add"||p.type==="put"?{...p,keys:v}:{...p}).type!=="delete"&&(p.values=[...p.values]),p.keys&&(p.keys=[...p.keys]),function(b,y,g){return y.type==="add"?Promise.resolve([]):b.getMany({trans:y.trans,keys:g,cache:"immutable"})}(n,p,v).then(b=>{const y=v.map((g,x)=>{const w=b[x],C={onerror:null,onsuccess:null};if(p.type==="delete")s.fire.call(C,g,w,m);else if(p.type==="add"||w===void 0){const R=l.fire.call(C,g,p.values[x],m);g==null&&R!=null&&(g=R,p.keys[x]=g,r.outbound||ys(p.values[x],r.keyPath,g))}else{const R=X3(w,p.values[x]),E=u.fire.call(C,R,g,w,m);if(E){const P=p.values[x];Object.keys(E).forEach(D=>{pa(P,D)?P[D]=E[D]:ys(P,D,E[D])})}}return C});return n.mutate(p).then(({failures:g,results:x,numFailures:w,lastResult:C})=>{for(let R=0;R<v.length;++R){const E=x?x[R]:v[R],P=y[R];E==null?P.onerror&&P.onerror(g[R]):P.onsuccess&&P.onsuccess(p.type==="put"&&b[R]?p.values[R]:E)}return{failures:g,results:x,numFailures:w,lastResult:C}}).catch(g=>(y.forEach(x=>x.onerror&&x.onerror(g)),Promise.reject(g)))})}function f(p,m,v){return n.query({trans:p,values:!1,query:{index:r,range:m},limit:v}).then(({result:b})=>c({type:"delete",keys:b,trans:p}).then(y=>y.numFailures>0?Promise.reject(y.failures[0]):b.length<v?{failures:[],numFailures:0,lastResult:void 0}:f(p,{...m,lower:b[b.length-1],lowerOpen:!0},v)))}}}}})};function Y9(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let i=0,o=0;i<e.keys.length&&o<t.length;++i)_o(e.keys[i],t[o])===0&&(r.push(n?av(e.values[i]):e.values[i]),++o);return r.length===t.length?r:null}catch{return null}}const fJ={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=Y9(r.keys,r.trans._cache,r.cache==="clone");return i?Yt.resolve(i):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?av(o):o},o))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function q3(t){return!("from"in t)}const hl=function(t,e){if(!this){const n=new hl;return t&&"d"in t&&Mo(n,t),n}Mo(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function gg(t,e,n){const r=_o(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(q3(t))return Mo(t,{from:e,to:n,d:1});const i=t.l,o=t.r;if(_o(n,t.from)<0)return i?gg(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},m4(t);if(_o(e,t.to)>0)return o?gg(o,e,n):t.r={from:e,to:n,d:1,l:null,r:null},m4(t);_o(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),_o(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;i&&!t.l&&wx(t,i),o&&a&&wx(t,o)}function wx(t,e){q3(e)||function n(r,{from:i,to:o,l:a,r:s}){gg(r,i,o),a&&n(r,a),s&&n(r,s)}(t,e)}function dJ(t,e){const n=r2(e);let r=n.next();if(r.done)return!1;let i=r.value;const o=r2(t);let a=o.next(i.from),s=a.value;for(;!r.done&&!a.done;){if(_o(s.from,i.to)<=0&&_o(s.to,i.from)>=0)return!0;_o(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function r2(t){let e=q3(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&_o(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||_o(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function m4(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const o=i==="r"?"l":"r",a={...t},s=t[i];t.from=s.from,t.to=s.to,t[i]=s[i],a[i]=s[o],t[o]=a,a.d=g4(a)}t.d=g4(t)}function g4({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Ch(hl.prototype,{add(t){return wx(this,t),this},addKey(t){return gg(this,t,t),this},addKeys(t){return t.forEach(e=>gg(this,e,e)),this},[NC](){return r2(this)}});const hJ={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new hl(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const i=t.table(r),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:l}=a,u={...i,mutate:p=>{const m=p.trans,v=m.mutatedParts||(m.mutatedParts={}),b=E=>{const P=`idb://${e}/${r}/${E}`;return v[P]||(v[P]=new hl)},y=b(""),g=b(":dels"),{type:x}=p;let[w,C]=p.type==="deleteRange"?[p.range]:p.type==="delete"?[p.keys]:p.values.length<50?[[],p.values]:[];const R=p.trans._cache;return i.mutate(p).then(E=>{if(ao(w)){x!=="delete"&&(w=E.results),y.addKeys(w);const P=Y9(w,R);P||x==="add"||g.addKeys(w),(P||C)&&function(D,L,M,I){function V(Z){const j=D(Z.name||"");function fe(ve){return ve!=null?Z.extractKey(ve):null}const ye=ve=>Z.multiEntry&&ao(ve)?ve.forEach(X=>j.addKey(X)):j.addKey(ve);(M||I).forEach((ve,X)=>{const ne=M&&fe(M[X]),F=I&&fe(I[X]);_o(ne,F)!==0&&(ne!=null&&ye(ne),F!=null&&ye(F))})}L.indexes.forEach(V)}(b,o,P,C)}else if(w){const P={from:w.lower,to:w.upper};g.add(P),y.add(P)}else y.add(n),g.add(n),o.indexes.forEach(P=>b(P.name).add(n));return E})}},c=({query:{index:p,range:m}})=>{var v,b;return[p,new hl((v=m.lower)!==null&&v!==void 0?v:t.MIN_KEY,(b=m.upper)!==null&&b!==void 0?b:t.MAX_KEY)]},f={get:p=>[a,new hl(p.key)],getMany:p=>[a,new hl().addKeys(p.keys)],count:c,query:c,openCursor:c};return li(f).forEach(p=>{u[p]=function(m){const{subscr:v}=pn;if(v){const b=C=>{const R=`idb://${e}/${r}/${C}`;return v[R]||(v[R]=new hl)},y=b(""),g=b(":dels"),[x,w]=f[p](m);if(b(x.name||"").add(w),!x.isPrimaryKey){if(p!=="count"){const C=p==="query"&&l&&m.values&&i.query({...m,values:!1});return i[p].apply(this,arguments).then(R=>{if(p==="query"){if(l&&m.values)return C.then(({result:P})=>(y.addKeys(P),R));const E=m.values?R.result.map(s):R.result;m.values?y.addKeys(E):g.addKeys(E)}else if(p==="openCursor"){const E=R,P=m.values;return E&&Object.create(E,{key:{get:()=>(g.addKey(E.primaryKey),E.key)},primaryKey:{get(){const D=E.primaryKey;return g.addKey(D),D}},value:{get:()=>(P&&y.addKey(E.primaryKey),E.value)}})}return R})}g.add(n)}}return i[p].apply(this,arguments)}}),u}}}};class Jc{constructor(e,n){this._middlewares={},this.verno=0;const r=Jc.dependencies;this._options=n={addons:Jc.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:cr,dbReadyPromise:null,cancelOpen:cr,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new Yt(s=>{o.dbReadyResolve=s}),o.openCanceller=new Yt((s,l)=>{o.cancelOpen=l}),this._state=o,this.name=e,this.on=wm(this,"populate","blocked","versionchange","close",{ready:[V3,cr]}),this.on.ready.subscribe=S9(this.on.ready.subscribe,s=>(l,u)=>{Jc.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||Yt.resolve().then(l),u&&s(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),u&&s(l);else{s(l);const f=this;u||s(function p(){f.on.ready.unsubscribe(l),f.on.ready.unsubscribe(p)})}})}),this.Collection=(a=this,Ap(YZ.prototype,function(s,l){this.db=a;let u=j9,c=null;if(l)try{u=l()}catch(v){c=v}const f=s._ctx,p=f.table,m=p.hook.reading.fire;this._ctx={table:p,index:f.index,isPrimKey:!f.index||p.schema.primKey.keyPath&&f.index===p.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:f.or,valueMapper:m!==fg?m:null}})),this.Table=function(s){return Ap(qZ.prototype,function(l,u,c){this.db=s,this._tx=c,this.name=l,this.schema=u,this.hook=s._allTables[l]?s._allTables[l].hook:wm(null,{creating:[FZ,cr],reading:[NZ,fg],updating:[zZ,cr],deleting:[UZ,cr]})})}(this),this.Transaction=function(s){return Ap(eJ.prototype,function(l,u,c,f,p){this.db=s,this.mode=l,this.storeNames=u,this.schema=c,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=wm(this,"complete","error","abort"),this.parent=p||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Yt((m,v)=>{this._resolve=m,this._reject=v}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},m=>{var v=this.active;return this.active=!1,this.on.error.fire(m),this.parent?this.parent._reject(m):v&&this.idbtrans&&this.idbtrans.abort(),pi(m)})})}(this),this.Version=function(s){return Ap(oJ.prototype,function(l){this.db=s,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(s){return Ap(W9.prototype,function(l,u,c){this.db=s,this._ctx={table:l,index:u===":id"?null:u,or:c};const f=s._deps.indexedDB;if(!f)throw new bn.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(p,m)=>f.cmp(m,p),this._max=(p,m)=>f.cmp(p,m)>0?p:m,this._min=(p,m)=>f.cmp(p,m)<0?p:m,this._IDBKeyRange=s._deps.IDBKeyRange})}(this),this.on("versionchange",s=>{s.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",s=>{!s.newVersion||s.newVersion<s.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${s.oldVersion/10}`)}),this._maxKey=mg(n.IDBKeyRange),this._createTransaction=(s,l,u,c)=>new this.Transaction(s,l,u,this._options.chromeTransactionDurability,c),this._fireOnBlocked=s=>{this.on("blocked").fire(s),bm.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(s))},this.use(uJ),this.use(cJ),this.use(hJ),this.use(fJ),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(s=>s(this))}version(e){if(isNaN(e)||e<.1)throw new bn.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new bn.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(i=>i._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(rJ),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||pn.letThrough||this._vip)?e():new Yt((n,r)=>{if(this._state.openComplete)return r(new bn.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new bn.DatabaseClosed);this.open().catch(cr)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:i}){i&&this.unuse({stack:e,name:i});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:n,level:r??10,name:i}),o.sort((a,s)=>a.level-s.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return sJ(this)}_close(){const e=this._state,n=bm.indexOf(this);if(n>=0&&bm.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new Yt(r=>{e.dbReadyResolve=r}),e.openCanceller=new Yt((r,i)=>{e.cancelOpen=i})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new bn.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new Yt((r,i)=>{const o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=_r(()=>{(function({indexedDB:s,IDBKeyRange:l},u){!K3(s)&&u!==cb&&$3(s,l).delete(u).catch(cr)})(this._deps,this.name),r()}),a.onerror=Os(i),a.onblocked=this._fireOnBlocked};if(e)throw new bn.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return li(this._allTables).map(e=>this._allTables[e])}transaction(){const e=lJ.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let i=pn.trans;i&&i.db===this&&e.indexOf("!")===-1||(i=null);const o=e.indexOf("?")!==-1;let a,s;e=e.replace("!","").replace("?","");try{if(s=n.map(u=>{var c=u instanceof this.Table?u.name:u;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e===MS)a=MS;else{if(e!="rw"&&e!=TS)throw new bn.InvalidArgument("Invalid transaction mode: "+e);a=TS}if(i){if(i.mode===MS&&a===TS){if(!o)throw new bn.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1){if(!o)throw new bn.SubTransaction("Table "+u+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(c,f)=>{f(u)}):pi(u)}const l=q9.bind(null,this,a,s,i,r);return i?i._promise(a,l,"lock"):pn.trans?zh(pn.transless,()=>this._whenReady(l)):this._whenReady(l)}table(e){if(!pa(this._allTables,e))throw new bn.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const pJ=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class mJ{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[pJ](){return this}}function Z9(t,e){return li(e).forEach(n=>{wx(t[n]||(t[n]=new hl),e[n])}),t}function J9(t){let e,n=!1;const r=new mJ(i=>{const o=z3(t);let a=!1,s={},l={};const u={get closed(){return a},unsubscribe:()=>{a=!0,Uu.storagemutated.unsubscribe(m)}};i.start&&i.start(u);let c=!1,f=!1;function p(){return li(l).some(b=>s[b]&&dJ(s[b],l[b]))}const m=b=>{Z9(s,b),p()&&v()},v=()=>{if(c||a)return;s={};const b={},y=function(g){o&&Uh();const x=()=>Nu(t,{subscr:g,trans:null}),w=pn.trans?zh(pn.transless,x):x();return o&&w.then(Il,Il),w}(b);f||(Uu(pg,m),f=!0),c=!0,Promise.resolve(y).then(g=>{n=!0,e=g,c=!1,a||(p()?v():(s={},l=b,i.next&&i.next(g)))},g=>{c=!1,n=!1,i.error&&i.error(g),u.unsubscribe()})};return v(),u});return r.hasValue=()=>n,r.getValue=()=>e,r}let i2;try{i2={indexedDB:br.indexedDB||br.mozIndexedDB||br.webkitIndexedDB||br.msIndexedDB,IDBKeyRange:br.IDBKeyRange||br.webkitIDBKeyRange}}catch{i2={indexedDB:null,IDBKeyRange:null}}const sc=Jc;function w1(t){let e=bl;try{bl=!0,Uu.storagemutated.fire(t)}finally{bl=e}}Ch(sc,{...m1,delete:t=>new sc(t,{addons:[]}).delete(),exists:t=>new sc(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return K3(e)?Promise.resolve(e.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==cb)):$3(e,n).toCollection().primaryKeys()}(sc.dependencies).then(t)}catch{return pi(new bn.MissingAPI)}},defineClass:()=>function(t){Mo(this,t)},ignoreTransaction:t=>pn.trans?zh(pn.transless,t):t(),vip:t2,async:function(t){return function(){try{var e=n2(t.apply(this,arguments));return e&&typeof e.then=="function"?e:Yt.resolve(e)}catch(n){return pi(n)}}},spawn:function(t,e,n){try{var r=n2(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:Yt.resolve(r)}catch(i){return pi(i)}},currentTransaction:{get:()=>pn.trans||null},waitFor:function(t,e){const n=Yt.resolve(typeof t=="function"?sc.ignoreTransaction(t):t).timeout(e||6e4);return pn.trans?pn.trans.waitFor(n):n},Promise:Yt,debug:{get:()=>Ks,set:t=>{P9(t,t==="dexie"?()=>!0:V9)}},derive:ch,extend:Mo,props:Ch,override:S9,Events:wm,on:Uu,liveQuery:J9,extendObservabilitySet:Z9,getByKeyPath:Cl,setByKeyPath:ys,delByKeyPath:function(t,e){typeof e=="string"?ys(t,e,void 0):"length"in e&&[].map.call(e,function(n){ys(t,n,void 0)})},shallowClone:C9,deepClone:av,getObjectDiff:X3,cmp:_o,asap:_9,minKey:KC,addons:[],connections:bm,errnames:H3,dependencies:i2,semVer:u4,version:u4.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),sc.maxKey=mg(sc.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Uu(pg,t=>{if(!bl){let e;ub?(e=document.createEvent("CustomEvent"),e.initCustomEvent(fu,!0,!0,t)):e=new CustomEvent(fu,{detail:t}),bl=!0,dispatchEvent(e),bl=!1}}),addEventListener(fu,({detail:t})=>{bl||w1(t)}));let bl=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(fu);typeof t.unref=="function"&&t.unref(),Uu(pg,e=>{bl||t.postMessage(e)}),t.onmessage=e=>{e.data&&w1(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Uu(pg,e=>{try{bl||(typeof localStorage<"u"&&localStorage.setItem(fu,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:fu,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===fu){const n=JSON.parse(e.newValue);n&&w1(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===fu&&w1(e.changedParts)})}Yt.rejectionMapper=function(t,e){if(!t||t instanceof fh||t instanceof TypeError||t instanceof SyntaxError||!t.name||!o4[t.name])return t;var n=new o4[t.name](e||t.message,t);return"stack"in t&&El(n,"stack",{get:function(){return this.inner.stack}}),n},P9(Ks,V9);function gJ(t,e,n){var r,i;typeof t=="function"?(r=e||[],i=n):(r=[],i=e);var o=fn.useRef({hasResult:!1,result:i,error:null}),a=fn.useReducer(function(u){return u+1},0);a[0];var s=a[1],l=fn.useMemo(function(){var u=typeof t=="function"?t():t;if(!u||typeof u.subscribe!="function")throw t===u?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window<"u"&&(typeof u.hasValue!="function"||u.hasValue()))if(typeof u.getValue=="function")o.current.result=u.getValue(),o.current.hasResult=!0;else{var c=u.subscribe(function(f){o.current.result=f,o.current.hasResult=!0});typeof c=="function"?c():c.unsubscribe()}return u},r);if(fn.useDebugValue(o.current.result),fn.useEffect(function(){var u=l.subscribe(function(c){var f=o.current;(f.error!==null||f.result!==c)&&(f.error=null,f.result=c,f.hasResult=!0,s())},function(c){var f=o.current;f.error!==c&&(f.error=c,s())});return typeof u=="function"?u:u.unsubscribe.bind(u)},r),o.current.error)throw o.current.error;return o.current.result}function Y3(t,e,n){return gJ(function(){return J9(t)},e||[],n)}class vJ extends Jc{constructor(){super("tellus-voxel-test-database");uy(this,"voxels");uy(this,"unitCells");this.version(1).stores({voxels:"id, namem, type",unitCells:"id, is_primary, voxel_id"})}}const ni=new vJ,yJ="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Q9=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=yJ[n[t]&63];return e};function o2(){return o2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o2.apply(this,arguments)}var eF=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",o2({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"}))}));eF.displayName="WindowMaximizeIcon";function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a2.apply(this,arguments)}var tF=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",a2({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"}))}));tF.displayName="WindowMinimizeIcon";function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sx.apply(this,arguments)}function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function s2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xJ(t){if(Array.isArray(t))return s2(t)}function bJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nF(t,e){if(t){if(typeof t=="string")return s2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s2(t,e)}}function wJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SJ(t){return xJ(t)||bJ(t)||nF(t)||wJ()}function _J(t,e){if(vg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EJ(t){var e=_J(t,"string");return vg(e)==="symbol"?e:String(e)}function rF(t,e,n){return e=EJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){if(Array.isArray(t))return t}function MJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function TJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rl(t,e){return CJ(t)||MJ(t,e)||nF(t,e)||TJ()}function v4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(n),!0).forEach(function(r){rF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var RJ={closeButtonIcon:"p-dialog-header-close-icon",closeButton:"p-dialog-header-icon p-dialog-header-close p-link",maximizableIcon:"p-dialog-header-maximize-icon",maximizableButton:"p-dialog-header-icon p-dialog-header-maximize p-link",header:function(e){var n=e.props;return Ct("p-dialog-header",n.headerClassName)},headerTitle:"p-dialog-title",headerIcons:"p-dialog-header-icons",content:function(e){var n=e.props;return Ct("p-dialog-content",n.contentClassName)},footer:function(e){var n=e.props;return Ct("p-dialog-footer",n.footerClassName)},mask:function(e){var n=e.props,r=e.maskVisibleState,i=["center","left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"],o=i.find(function(a){return a===n.position||a.replace("-","")===n.position});return Ct("p-dialog-mask",o?"p-dialog-".concat(o):"",{"p-component-overlay p-component-overlay-enter":n.modal,"p-dialog-visible":r,"p-dialog-draggable":n.draggable,"p-dialog-resizable":n.resizable},n.maskClassName)},root:function(e){var n=e.props,r=e.maximized,i=e.context;return Ct("p-dialog p-component",n.className,{"p-dialog-rtl":n.rtl,"p-dialog-maximized":r,"p-dialog-default":!r,"p-input-filled":i&&i.inputStyle==="filled"||En.inputStyle==="filled","p-ripple-disabled":i&&i.ripple===!1||En.ripple===!1})},transition:"p-dialog"},AJ=`
@layer primereact {
    .p-dialog-mask {
        background-color: transparent;
        transition-property: background-color;
    }
    
    .p-dialog-visible {
        display: flex;
    }
    
    .p-dialog-mask.p-component-overlay {
        pointer-events: auto;
    }
    
    .p-dialog {
        display: flex;
        flex-direction: column;
        pointer-events: auto;
        max-height: 90%;
        transform: scale(1);
        position: relative;
    }
    
    .p-dialog-content {
        overflow-y: auto;
        flex-grow: 1;
    }
    
    .p-dialog-header {
        display: flex;
        align-items: center;
        flex-shrink: 0;
    }
    
    .p-dialog-footer {
        flex-shrink: 0;
    }
    
    .p-dialog .p-dialog-header-icons {
        display: flex;
        align-items: center;
        align-self: flex-start;
        flex-shrink: 0;
    }
    
    .p-dialog .p-dialog-header-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }
    
    .p-dialog .p-dialog-title {
        flex-grow: 1;
    }
    
    /* Fluid */
    .p-fluid .p-dialog-footer .p-button {
        width: auto;
    }
    
    /* Animation */
    /* Center */
    .p-dialog-enter {
        opacity: 0;
        transform: scale(0.7);
    }
    
    .p-dialog-enter-active {
        opacity: 1;
        transform: scale(1);
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }
    
    .p-dialog-enter-done {
        transform: none;
    }
    
    .p-dialog-exit-active {
        opacity: 0;
        transform: scale(0.7);
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* Top, Bottom, Left, Right, Top* and Bottom* */
    .p-dialog-top .p-dialog,
    .p-dialog-bottom .p-dialog,
    .p-dialog-left .p-dialog,
    .p-dialog-right .p-dialog,
    .p-dialog-top-left .p-dialog,
    .p-dialog-top-right .p-dialog,
    .p-dialog-bottom-left .p-dialog,
    .p-dialog-bottom-right .p-dialog {
        margin: 0.75em;
    }
    
    .p-dialog-top .p-dialog-enter,
    .p-dialog-top .p-dialog-exit-active {
        transform: translate3d(0px, -100%, 0px);
    }
    
    .p-dialog-bottom .p-dialog-enter,
    .p-dialog-bottom .p-dialog-exit-active {
        transform: translate3d(0px, 100%, 0px);
    }
    
    .p-dialog-left .p-dialog-enter,
    .p-dialog-left .p-dialog-exit-active,
    .p-dialog-top-left .p-dialog-enter,
    .p-dialog-top-left .p-dialog-exit-active,
    .p-dialog-bottom-left .p-dialog-enter,
    .p-dialog-bottom-left .p-dialog-exit-active {
        transform: translate3d(-100%, 0px, 0px);
    }
    
    .p-dialog-right .p-dialog-enter,
    .p-dialog-right .p-dialog-exit-active,
    .p-dialog-top-right .p-dialog-enter,
    .p-dialog-top-right .p-dialog-exit-active,
    .p-dialog-bottom-right .p-dialog-enter,
    .p-dialog-bottom-right .p-dialog-exit-active {
        transform: translate3d(100%, 0px, 0px);
    }
    
    .p-dialog-top .p-dialog-enter-active,
    .p-dialog-bottom .p-dialog-enter-active,
    .p-dialog-left .p-dialog-enter-active,
    .p-dialog-top-left .p-dialog-enter-active,
    .p-dialog-bottom-left .p-dialog-enter-active,
    .p-dialog-right .p-dialog-enter-active,
    .p-dialog-top-right .p-dialog-enter-active,
    .p-dialog-bottom-right .p-dialog-enter-active {
        transform: translate3d(0px, 0px, 0px);
        transition: all 0.3s ease-out;
    }
    
    .p-dialog-top .p-dialog-exit-active,
    .p-dialog-bottom .p-dialog-exit-active,
    .p-dialog-left .p-dialog-exit-active,
    .p-dialog-top-left .p-dialog-exit-active,
    .p-dialog-bottom-left .p-dialog-exit-active,
    .p-dialog-right .p-dialog-exit-active,
    .p-dialog-top-right .p-dialog-exit-active,
    .p-dialog-bottom-right .p-dialog-exit-active {
        transition: all 0.3s ease-out;
    }
    
    /* Maximize */
    .p-dialog-maximized {
        transition: none;
        transform: none;
        margin: 0;
        width: 100vw !important;
        height: 100vh !important;
        max-height: 100%;
        top: 0px !important;
        left: 0px !important;
    }
    
    .p-dialog-maximized .p-dialog-content {
        flex-grow: 1;
    }
    
    .p-confirm-dialog .p-dialog-content {
        display: flex;
        align-items: center;
    }
    
    /* Resizable */
    .p-dialog .p-resizable-handle {
        position: absolute;
        font-size: 0.1px;
        display: block;
        cursor: se-resize;
        width: 12px;
        height: 12px;
        right: 1px;
        bottom: 1px;
    }
    
    .p-dialog-draggable .p-dialog-header {
        cursor: move;
    }        
}
`,IJ={mask:function(e){var n=e.props;return PJ({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:n.position==="left"||n.position==="top-left"||n.position==="bottom-left"?"flex-start":n.position==="right"||n.position==="top-right"||n.position==="bottom-right"?"flex-end":"center",alignItems:n.position==="top"||n.position==="top-left"||n.position==="top-right"?"flex-start":n.position==="bottom"||n.position==="bottom-left"||n.position==="bottom-right"?"flex-end":"center",pointerEvents:!n.modal&&"none"},n.maskStyle)}},qy=Sn.extend({defaultProps:{__TYPE:"Dialog",__parentMetadata:null,appendTo:null,ariaCloseIconLabel:null,baseZIndex:0,blockScroll:!1,breakpoints:null,className:null,closable:!0,closeIcon:null,closeOnEscape:!0,contentClassName:null,contentStyle:null,dismissableMask:!1,draggable:!0,focusOnShow:!0,footer:null,footerClassName:null,header:null,headerClassName:null,headerStyle:null,icons:null,id:null,keepInViewport:!0,maskClassName:null,maskStyle:null,maximizable:!1,maximizeIcon:null,maximized:!1,minX:0,minY:0,minimizeIcon:null,modal:!0,onClick:null,onDrag:null,onDragEnd:null,onDragStart:null,onHide:null,onMaskClick:null,onMaximize:null,onResize:null,onResizeEnd:null,onResizeStart:null,onShow:null,position:"center",resizable:!0,rtl:!1,showHeader:!0,style:null,transitionOptions:null,visible:!1,children:void 0},css:{classes:RJ,styles:AJ,inlineStyles:IJ}});function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){rF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Z3=S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=qy.getProps(t,r),o=i.id?i.id:Jg(),a=S.useState(o),s=rl(a,2),l=s[0];s[1];var u=S.useState(!1),c=rl(u,2),f=c[0],p=c[1],m=S.useState(!1),v=rl(m,2),b=v[0],y=v[1],g=S.useState(i.maximized),x=rl(g,2),w=x[0],C=x[1],R=S.useRef(null),E=S.useRef(null),P=S.useRef(null),D=S.useRef(null),L=S.useRef(null),M=S.useRef(null),I=S.useRef(null),V=S.useRef(!1),Z=S.useRef(!1),j=S.useRef(null),fe=S.useRef(null),ye=S.useRef(null),ve=S.useRef(o),X=S.useRef(null),ne=i.onMaximize?i.maximized:w,F=b&&(i.blockScroll||i.maximizable&&ne),ce=kj("dialog",b),se=qy.setMetaData(OS(OS({props:i},i.__parentMetadata),{},{state:{id:l,maximized:ne,containerVisible:f}})),K=se.ptm,ge=se.cx,ze=se.sx,Be=se.isUnstyled;Xo(qy.css.styles,Be,{name:"dialog"}),zj({callback:function(A){i.closable&&i.closeOnEscape&&qe(A)},when:b&&ce,priority:[Uj.DIALOG,ce]});var st=Vo({type:"keydown",listener:function(A){return tt(A)}}),it=rl(st,2),gt=it[0],yt=it[1],je=Vo({type:"mousemove",target:function(){return window.document},listener:function(A){return He(A)}}),Y=rl(je,2),Fe=Y[0],Me=Y[1],et=Vo({type:"mouseup",target:function(){return window.document},listener:function(A){return ct(A)}}),Ve=rl(et,2),lt=Ve[0],J=Ve[1],Q=Vo({type:"mousemove",target:function(){return window.document},listener:function(A){return De(A)}}),xe=rl(Q,2),B=xe[0],O=xe[1],ee=Vo({type:"mouseup",target:function(){return window.document},listener:function(A){return Le(A)}}),he=rl(ee,2),le=he[0],Ee=he[1],qe=function(A){i.onHide(),A.preventDefault()},Ke=function(){var A=document.activeElement,z=A&&R.current&&R.current.contains(A);!z&&i.closable&&i.showHeader&&I.current&&I.current.focus()},be=function(A){P.current=A.target,i.onPointerDown&&i.onPointerDown(A)},Ye=function(A){i.dismissableMask&&i.modal&&E.current===A.target&&!P.current&&qe(A),i.onMaskClick&&i.onMaskClick(A),P.current=null},at=function(A){i.onMaximize?i.onMaximize({originalEvent:A,maximized:!ne}):C(function(z){return!z}),A.preventDefault()},tt=function(A){var z=A.currentTarget;if(!(!z||!z.primeDialogParams)){var q=z.primeDialogParams,re=q.length,oe=q[re-1]?q[re-1].id:void 0;if(oe===l){var Ie=document.getElementById(oe);if(A.key==="Tab"){A.preventDefault();var we=ke.getFocusableElements(Ie);if(we&&we.length>0)if(!document.activeElement)we[0].focus();else{var pe=we.indexOf(document.activeElement);A.shiftKey?pe===-1||pe===0?we[we.length-1].focus():we[pe-1].focus():pe===-1||pe===we.length-1?we[0].focus():we[pe+1].focus()}}}}},ft=function(A){ke.hasClass(A.target,"p-dialog-header-icon")||ke.hasClass(A.target.parentElement,"p-dialog-header-icon")||i.draggable&&(V.current=!0,j.current=A.pageX,fe.current=A.pageY,R.current.style.margin="0",ke.addClass(document.body,"p-unselectable-text"),i.onDragStart&&i.onDragStart(A))},De=function(A){if(V.current){var z=ke.getOuterWidth(R.current),q=ke.getOuterHeight(R.current),re=A.pageX-j.current,oe=A.pageY-fe.current,Ie=R.current.getBoundingClientRect(),we=Ie.left+re,pe=Ie.top+oe,G=ke.getViewport(),Re=getComputedStyle(R.current),Ae=parseFloat(Re.marginLeft),We=parseFloat(Re.marginTop);R.current.style.position="fixed",i.keepInViewport?(we>=i.minX&&we+z<G.width&&(j.current=A.pageX,R.current.style.left=we-Ae+"px"),pe>=i.minY&&pe+q<G.height&&(fe.current=A.pageY,R.current.style.top=pe-We+"px")):(j.current=A.pageX,R.current.style.left=we-Ae+"px",fe.current=A.pageY,R.current.style.top=pe-We+"px"),i.onDrag&&i.onDrag(A)}},Le=function(A){V.current&&(V.current=!1,ke.removeClass(document.body,"p-unselectable-text"),i.onDragEnd&&i.onDragEnd(A))},H=function(A){i.resizable&&(Z.current=!0,j.current=A.pageX,fe.current=A.pageY,ke.addClass(document.body,"p-unselectable-text"),i.onResizeStart&&i.onResizeStart(A))},me=function(A,z,q){!q&&(q=ke.getViewport());var re=parseInt(A);return/^(\d+|(\.\d+))(\.\d+)?%$/.test(A)?re*(q[z]/100):re},He=function(A){if(Z.current){var z=A.pageX-j.current,q=A.pageY-fe.current,re=ke.getOuterWidth(R.current),oe=ke.getOuterHeight(R.current),Ie=R.current.getBoundingClientRect(),we=ke.getViewport(),pe=!parseInt(R.current.style.top)||!parseInt(R.current.style.left),G=me(R.current.style.minWidth,"width",we),Re=me(R.current.style.minHeight,"height",we),Ae=re+z,We=oe+q;pe&&(Ae+=z,We+=q),(!G||Ae>G)&&Ie.left+Ae<we.width&&(R.current.style.width=Ae+"px"),(!Re||We>Re)&&Ie.top+We<we.height&&(R.current.style.height=We+"px"),j.current=A.pageX,fe.current=A.pageY,i.onResize&&i.onResize(A)}},ct=function(A){Z.current&&(Z.current=!1,ke.removeClass(document.body,"p-unselectable-text"),i.onResizeEnd&&i.onResizeEnd(A))},nt=function(){R.current.style.position="",R.current.style.left="",R.current.style.top="",R.current.style.margin=""},Pe=function(){R.current.setAttribute(ve.current,"")},dt=function(){i.onShow&&i.onShow(),i.focusOnShow&&Ke(),ae()},te=function(){i.modal&&ke.addClass(E.current,"p-component-overlay-leave")},ue=function(){V.current=!1,Fi.clear(E.current),p(!1),Ne(),ke.focus(X.current),X.current=null},ae=function(){bt()},Ne=function(){xt()},rt=function(){var A=document.primeDialogParams&&document.primeDialogParams.some(function(z){return z.hasBlockScroll});A?ke.blockBodyScroll():ke.unblockBodyScroll()},wt=function(A){if(A&&b){var z={id:l,hasBlockScroll:F};document.primeDialogParams||(document.primeDialogParams=[]);var q=document.primeDialogParams.findIndex(function(re){return re.id===l});q===-1?document.primeDialogParams=[].concat(SJ(document.primeDialogParams),[z]):document.primeDialogParams=document.primeDialogParams.toSpliced(q,1,z)}else document.primeDialogParams=document.primeDialogParams&&document.primeDialogParams.filter(function(re){return re.id!==l});rt()},bt=function(){i.draggable&&(B(),le()),i.resizable&&(Fe(),lt()),gt()},xt=function(){O(),Ee(),Me(),J(),yt()},Et=function(){ye.current=ke.createInlineStyle(r&&r.nonce||En.nonce,r&&r.styleContainer);var A="";for(var z in i.breakpoints)A+=`
                @media screen and (max-width: `.concat(z,`) {
                     [data-pc-name="dialog"][`).concat(ve.current,`] {
                        width: `).concat(i.breakpoints[z],` !important;
                    }
                }
            `);ye.current.innerHTML=A},Ut=function(){ye.current=ke.removeInlineStyle(ye.current)};xa(function(){wt(!0),i.visible&&p(!0)}),S.useEffect(function(){return i.breakpoints&&Et(),function(){Ut()}},[i.breakpoints]),Wn(function(){i.visible&&!f&&p(!0),i.visible!==b&&f&&y(i.visible),i.visible&&(X.current=document.activeElement)},[i.visible,f]),Wn(function(){f&&(Fi.set("modal",E.current,r&&r.autoZIndex||En.autoZIndex,i.baseZIndex||r&&r.zIndex.modal||En.zIndex.modal),y(!0))},[f]),Wn(function(){wt(!0)},[F,b]),Ro(function(){Ne(),wt(!1),ke.removeInlineStyle(ye.current),Fi.clear(E.current)}),S.useImperativeHandle(e,function(){return{props:i,resetPosition:nt,getElement:function(){return R.current},getMask:function(){return E.current},getContent:function(){return D.current},getHeader:function(){return L.current},getFooter:function(){return M.current},getCloseButton:function(){return I.current}}});var mn=function(){if(i.closable){var A=i.ariaCloseIconLabel||eo("close"),z=n({className:ge("closeButtonIcon"),"aria-hidden":!0},K("closeButtonIcon")),q=i.closeIcon||S.createElement(iv,z),re=Hn.getJSXIcon(q,OS({},z),{props:i}),oe=n({ref:I,type:"button",className:ge("closeButton"),"aria-label":A,onClick:qe},K("closeButton"));return S.createElement("button",oe,re,S.createElement(ai,null))}return null},Xt=function(){var A,z=n({className:ge("maximizableIcon")},K("maximizableIcon"));ne?A=i.minimizeIcon||S.createElement(tF,z):A=i.maximizeIcon||S.createElement(eF,z);var q=Hn.getJSXIcon(A,z,{props:i});if(i.maximizable){var re=n({type:"button",className:ge("maximizableButton"),onClick:at},K("maximizableButton"));return S.createElement("button",re,q,S.createElement(ai,null))}return null},rn=function(){if(i.showHeader){var A=mn(),z=Xt(),q=_e.getJSXElement(i.icons,i),re=_e.getJSXElement(i.header,i),oe=l+"_header",Ie=n({ref:L,style:i.headerStyle,className:ge("header"),onMouseDown:ft},K("header")),we=n({id:oe,className:ge("headerTitle")},K("headerTitle")),pe=n({className:ge("headerIcons")},K("headerIcons"));return S.createElement("div",Ie,S.createElement("div",we,re),S.createElement("div",pe,q,z,A))}return null},hn=function(){var A=l+"_content",z=n({id:A,ref:D,style:i.contentStyle,className:ge("content")},K("content"));return S.createElement("div",z,i.children)},Ht=function(){var A=_e.getJSXElement(i.footer,i),z=n({ref:M,className:ge("footer")},K("footer"));return A&&S.createElement("div",z,A)},ln=function(){return i.resizable?S.createElement("span",{className:"p-resizable-handle",style:{zIndex:90},onMouseDown:H}):null},_t=function(A){var z,q=A.maskProps,re=A.rootProps,oe=A.transitionProps,Ie={header:i.header,content:i.message,message:i==null||(z=i.children)===null||z===void 0||(z=z[1])===null||z===void 0||(z=z.props)===null||z===void 0?void 0:z.children},we={headerRef:L,contentRef:D,footerRef:M,closeRef:I,hide:qe,message:Ie};return S.createElement("div",q,S.createElement(ku,Sx({nodeRef:R},oe),S.createElement("div",re,_e.getJSXElement(t.content,we))))},N=function(A){var z=A.maskProps,q=A.rootProps,re=A.transitionProps,oe=rn(),Ie=hn(),we=Ht(),pe=ln();return S.createElement("div",z,S.createElement(ku,Sx({nodeRef:R},re),S.createElement("div",q,oe,Ie,we,pe)))},W=function(){var A=l+"_header",z=l+"_content",q={enter:i.position==="center"?150:300,exit:i.position==="center"?150:300},re=n({ref:E,style:ze("mask"),className:ge("mask"),onPointerUp:Ye},K("mask")),oe=n({ref:R,id:l,className:ge("root",{props:i,maximized:ne,context:r}),style:i.style,onClick:i.onClick,role:"dialog","aria-labelledby":A,"aria-describedby":z,"aria-modal":i.modal,onPointerDown:be},qy.getOtherProps(i),K("root")),Ie=n({classNames:ge("transition"),timeout:q,in:b,options:i.transitionOptions,unmountOnExit:!0,onEnter:Pe,onEntered:dt,onExiting:te,onExited:ue},K("transition"));if(t!=null&&t.content){var we=_t({maskProps:re,rootProps:oe,transitionProps:Ie});return S.createElement(Lu,{element:we,appendTo:i.appendTo,visible:!0})}else{var pe=N({maskProps:re,rootProps:oe,transitionProps:Ie});return S.createElement(Lu,{element:pe,appendTo:i.appendTo,visible:!0})}};return f&&W()});Z3.displayName="Dialog";function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l2.apply(this,arguments)}function OJ(t){if(Array.isArray(t))return t}function DJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function x4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kJ(t,e){if(t){if(typeof t=="string")return x4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x4(t,e)}}function LJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b4(t,e){return OJ(t)||DJ(t,e)||kJ(t,e)||LJ()}function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function NJ(t,e){if(yg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FJ(t){var e=NJ(t,"string");return yg(e)==="symbol"?e:String(e)}function UJ(t,e,n){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zJ={root:"p-confirm-dialog",message:"p-confirm-dialog-message",icon:"p-confirm-dialog-icon",acceptButton:"p-confirm-dialog-accept",rejectButton:function(e){var n=e.getPropValue;return Ct("p-confirm-dialog-reject",{"p-button-text":!n("rejectClassName")})}},Yy=Sn.extend({defaultProps:{__TYPE:"ConfirmDialog",accept:null,acceptClassName:null,acceptIcon:null,acceptLabel:null,appendTo:null,breakpoints:null,children:void 0,className:null,defaultFocus:"accept",footer:null,icon:null,message:null,onHide:null,reject:null,rejectClassName:null,rejectIcon:null,rejectLabel:null,tagKey:void 0,visible:void 0},css:{classes:zJ}});function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){UJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var iF=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=Yy.getProps(t,r),o=S.useState(i.visible),a=b4(o,2),s=a[0],l=a[1],u=S.useState(!1),c=b4(u,2),f=c[0],p=c[1],m=S.useRef(null),v=S.useRef(!1),b=S.useRef(null),y=function(){var ne=i.group;return m.current&&(ne=m.current.group),Object.assign({},i,m.current,{group:ne})},g=function(ne){return y()[ne]},x=function(ne){for(var F=arguments.length,ce=new Array(F>1?F-1:0),se=1;se<F;se++)ce[se-1]=arguments[se];return _e.getPropValue(g(ne),ce)},w=g("acceptLabel")||eo("accept"),C=g("rejectLabel")||eo("reject"),R={props:i,state:{visible:s}},E=Yy.setMetaData(R),P=E.ptm,D=E.cx,L=E.isUnstyled;Xo(Yy.css.styles,L,{name:"confirmdialog"});var M=function(){v.current||(v.current=!0,x("accept"),Z("accept"))},I=function(){v.current||(v.current=!0,x("reject"),Z("reject"))},V=function(){var ne=y();ne.group===i.group&&(l(!0),v.current=!1,b.current=document.activeElement)},Z=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cancel";l(!1),x("onHide",{result:ne}),ke.focus(b.current),b.current=null},j=function(ne){if(ne.tagKey===i.tagKey){var F=s!==ne.visible,ce=g("target")!==ne.target;ce&&!i.target?(Z(),m.current=ne,p(!0)):F&&(m.current=ne,ne.visible?V():Z())}};S.useEffect(function(){i.visible?V():Z()},[i.visible]),S.useEffect(function(){return!i.target&&!i.message&&Ha.on("confirm-dialog",j),function(){Ha.off("confirm-dialog",j)}},[i.target]),Wn(function(){f&&V()},[f]),Ro(function(){Ha.off("confirm-dialog",j)}),S.useImperativeHandle(e,function(){return{props:i,confirm:j}});var fe=function(){var ne=g("defaultFocus"),F=Ct("p-confirm-dialog-accept",g("acceptClassName")),ce=Ct("p-confirm-dialog-reject",{"p-button-text":!g("rejectClassName")},g("rejectClassName")),se={label:C,autoFocus:ne==="reject",icon:g("rejectIcon"),className:Ct(g("rejectClassName"),D("rejectButton",{getPropValue:g})),onClick:I,pt:P("rejectButton"),unstyled:i.unstyled,__parentMetadata:{parent:R}},K=n({label:w,autoFocus:ne===void 0||ne==="accept",icon:g("acceptIcon"),className:Ct(g("acceptClassName"),D("acceptButton")),onClick:M,pt:P("acceptButton"),unstyled:i.unstyled,__parentMetadata:{parent:R}},P("acceptButton")),ge=S.createElement(S.Fragment,null,S.createElement(hs,se),S.createElement(hs,K));if(g("footer")){var ze={accept:M,reject:I,acceptClassName:F,rejectClassName:ce,acceptLabel:w,rejectLabel:C,element:ge,props:y()};return _e.getJSXElement(g("footer"),ze)}return ge},ye=function(){var ne=y(),F=_e.getJSXElement(g("message"),ne),ce=n({className:D("icon")},P("icon")),se=Hn.getJSXIcon(g("icon"),BJ({},ce),{props:ne}),K=fe(),ge=n({className:D("message")},P("message")),ze=n({visible:s,className:Ct(g("className"),D("root")),footer:K,onHide:Z,breakpoints:g("breakpoints"),pt:ne.pt,unstyled:i.unstyled,appendTo:g("appendTo"),__parentMetadata:{parent:R}},Yy.getOtherProps(ne));return S.createElement(Z3,l2({},ze,{content:t==null?void 0:t.content}),se,S.createElement("span",ge,F))},ve=ye();return S.createElement(Lu,{element:ve,appendTo:g("appendTo")})}));iF.displayName="ConfirmDialog";const HJ=({isOpen:t,title:e,description:n,onClose:r,onConfirm:i})=>pt.jsx(iF,{visible:t,onHide:r,message:n,header:e,icon:"pi pi-exclamation-triangle",accept:i,reject:r}),VJ=()=>{const[t,e]=S.useState(),n=S.useCallback((a,s)=>new Promise(l=>{e({id:Q9(),title:a,description:s,isOpen:!0,resolve:l})}),[]),r=S.useCallback(()=>{t&&t.resolve({type:"cancel"}),e(a=>a&&{...a,isOpen:!1})},[t]),i=S.useCallback(()=>{t&&t.resolve({type:"result",value:"confirm"}),e(a=>a&&{...a,isOpen:!1})},[t]),o=S.useMemo(()=>t?pt.jsx(HJ,{isOpen:t.isOpen,title:t.title,description:t.description,onConfirm:i,onClose:r},t.id):null,[r,i,t]);return{openDialog:n,dialogView:o}};var uv=t=>t.type==="checkbox",Yd=t=>t instanceof Date,wo=t=>t==null;const oF=t=>typeof t=="object";var ui=t=>!wo(t)&&!Array.isArray(t)&&oF(t)&&!Yd(t),aF=t=>ui(t)&&t.target?uv(t.target)?t.target.checked:t.target.value:t,jJ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,sF=(t,e)=>t.has(jJ(e)),GJ=t=>{const e=t.constructor&&t.constructor.prototype;return ui(e)&&e.hasOwnProperty("isPrototypeOf")},J3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bo(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(J3&&(t instanceof Blob||t instanceof FileList))&&(n||ui(t)))if(e=n?[]:{},!n&&!GJ(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Bo(t[r]));else return t;return e}var cv=t=>Array.isArray(t)?t.filter(Boolean):[],Vr=t=>t===void 0,jt=(t,e,n)=>{if(!e||!ui(t))return n;const r=cv(e.split(/[,[\].]+?/)).reduce((i,o)=>wo(i)?i:i[o],t);return Vr(r)||r===t?Vr(t[e])?n:t[e]:r},cs=t=>typeof t=="boolean";const _x={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},il={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},WJ=fn.createContext(null),Q3=()=>fn.useContext(WJ);var lF=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const a=o;return e._proxyFormState[a]!==ds.all&&(e._proxyFormState[a]=!r||ds.all),n&&(n[a]=!0),t[a]}});return i},Da=t=>ui(t)&&!Object.keys(t).length,uF=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return Da(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(a=>e[a]===(!r||ds.all))},S1=t=>Array.isArray(t)?t:[t],cF=(t,e,n)=>!t||!e||t===e||S1(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function eT(t){const e=fn.useRef(t);e.current=t,fn.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function $J(t){const e=Q3(),{control:n=e.control,disabled:r,name:i,exact:o}=t||{},[a,s]=fn.useState(n._formState),l=fn.useRef(!0),u=fn.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=fn.useRef(i);return c.current=i,eT({disabled:r,next:f=>l.current&&cF(c.current,f.name,o)&&uF(f,u.current,n._updateFormState)&&s({...n._formState,...f}),subject:n._subjects.state}),fn.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),lF(a,n,u.current,!1)}var Fs=t=>typeof t=="string",fF=(t,e,n,r,i)=>Fs(t)?(r&&e.watch.add(t),jt(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),jt(n,o))):(r&&(e.watchAll=!0),n);function KJ(t){const e=Q3(),{control:n=e.control,name:r,defaultValue:i,disabled:o,exact:a}=t||{},s=fn.useRef(r);s.current=r,eT({disabled:o,subject:n._subjects.values,next:c=>{cF(s.current,c.name,a)&&u(Bo(fF(s.current,n._names,c.values||n._formValues,!1,i)))}});const[l,u]=fn.useState(n._getWatch(r,i));return fn.useEffect(()=>n._removeUnmounted()),l}var tT=t=>/^\w*$/.test(t),dF=t=>cv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ur=(t,e,n)=>{let r=-1;const i=tT(e)?[e]:dF(e),o=i.length,a=o-1;for(;++r<o;){const s=i[r];let l=n;if(r!==a){const u=t[s];l=ui(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[s]=l,t=t[s]}return t};function XJ(t){const e=Q3(),{name:n,disabled:r,control:i=e.control,shouldUnregister:o}=t,a=sF(i._names.array,n),s=KJ({control:i,name:n,defaultValue:jt(i._formValues,n,jt(i._defaultValues,n,t.defaultValue)),exact:!0}),l=$J({control:i,name:n}),u=fn.useRef(i.register(n,{...t.rules,value:s,...cs(t.disabled)?{disabled:t.disabled}:{}}));return fn.useEffect(()=>{const c=i._options.shouldUnregister||o,f=(p,m)=>{const v=jt(i._fields,p);v&&(v._f.mount=m)};if(f(n,!0),c){const p=Bo(jt(i._options.defaultValues,n));ur(i._defaultValues,n,p),Vr(jt(i._formValues,n))&&ur(i._formValues,n,p)}return()=>{(a?c&&!i._state.action:c)?i.unregister(n):f(n,!1)}},[n,i,a,o]),fn.useEffect(()=>{jt(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:jt(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:s,...cs(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:fn.useCallback(c=>u.current.onChange({target:{value:aF(c),name:n},type:_x.CHANGE}),[n]),onBlur:fn.useCallback(()=>u.current.onBlur({target:{value:jt(i._formValues,n),name:n},type:_x.BLUR}),[n,i]),ref:c=>{const f=jt(i._fields,n);f&&c&&(f._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:p=>c.setCustomValidity(p),reportValidity:()=>c.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!jt(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!jt(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!jt(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!jt(l.validatingFields,n)},error:{enumerable:!0,get:()=>jt(l.errors,n)}})}}const qJ=t=>t.render(XJ(t));var YJ=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},S4=t=>({isOnSubmit:!t||t===ds.onSubmit,isOnBlur:t===ds.onBlur,isOnChange:t===ds.onChange,isOnAll:t===ds.all,isOnTouch:t===ds.onTouched}),_4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const _m=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=jt(t,i);if(o){const{_f:a,...s}=o;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)break;if(a.ref&&e(a.ref,a.name)&&!r)break;_m(s,e)}else ui(s)&&_m(s,e)}}};var ZJ=(t,e,n)=>{const r=cv(jt(t,n));return ur(r,"root",e[n]),ur(t,n,r),t},nT=t=>t.type==="file",vu=t=>typeof t=="function",Ex=t=>{if(!J3)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_1=t=>Fs(t),rT=t=>t.type==="radio",Cx=t=>t instanceof RegExp;const E4={value:!1,isValid:!1},C4={value:!0,isValid:!0};var hF=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Vr(t[0].attributes.value)?Vr(t[0].value)||t[0].value===""?C4:{value:t[0].value,isValid:!0}:C4:E4}return E4};const M4={isValid:!1,value:null};var pF=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,M4):M4;function T4(t,e,n="validate"){if(_1(t)||Array.isArray(t)&&t.every(_1)||cs(t)&&!t)return{type:n,message:_1(t)?t:"",ref:e}}var ed=t=>ui(t)&&!Cx(t)?t:{value:t,message:""},P4=async(t,e,n,r,i)=>{const{ref:o,refs:a,required:s,maxLength:l,minLength:u,min:c,max:f,pattern:p,validate:m,name:v,valueAsNumber:b,mount:y,disabled:g}=t._f,x=jt(e,v);if(!y||g)return{};const w=a?a[0]:o,C=V=>{r&&w.reportValidity&&(w.setCustomValidity(cs(V)?"":V||""),w.reportValidity())},R={},E=rT(o),P=uv(o),D=E||P,L=(b||nT(o))&&Vr(o.value)&&Vr(x)||Ex(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,M=YJ.bind(null,v,n,R),I=(V,Z,j,fe=il.maxLength,ye=il.minLength)=>{const ve=V?Z:j;R[v]={type:V?fe:ye,message:ve,ref:o,...M(V?fe:ye,ve)}};if(i?!Array.isArray(x)||!x.length:s&&(!D&&(L||wo(x))||cs(x)&&!x||P&&!hF(a).isValid||E&&!pF(a).isValid)){const{value:V,message:Z}=_1(s)?{value:!!s,message:s}:ed(s);if(V&&(R[v]={type:il.required,message:Z,ref:w,...M(il.required,Z)},!n))return C(Z),R}if(!L&&(!wo(c)||!wo(f))){let V,Z;const j=ed(f),fe=ed(c);if(!wo(x)&&!isNaN(x)){const ye=o.valueAsNumber||x&&+x;wo(j.value)||(V=ye>j.value),wo(fe.value)||(Z=ye<fe.value)}else{const ye=o.valueAsDate||new Date(x),ve=F=>new Date(new Date().toDateString()+" "+F),X=o.type=="time",ne=o.type=="week";Fs(j.value)&&x&&(V=X?ve(x)>ve(j.value):ne?x>j.value:ye>new Date(j.value)),Fs(fe.value)&&x&&(Z=X?ve(x)<ve(fe.value):ne?x<fe.value:ye<new Date(fe.value))}if((V||Z)&&(I(!!V,j.message,fe.message,il.max,il.min),!n))return C(R[v].message),R}if((l||u)&&!L&&(Fs(x)||i&&Array.isArray(x))){const V=ed(l),Z=ed(u),j=!wo(V.value)&&x.length>+V.value,fe=!wo(Z.value)&&x.length<+Z.value;if((j||fe)&&(I(j,V.message,Z.message),!n))return C(R[v].message),R}if(p&&!L&&Fs(x)){const{value:V,message:Z}=ed(p);if(Cx(V)&&!x.match(V)&&(R[v]={type:il.pattern,message:Z,ref:o,...M(il.pattern,Z)},!n))return C(Z),R}if(m){if(vu(m)){const V=await m(x,e),Z=T4(V,w);if(Z&&(R[v]={...Z,...M(il.validate,Z.message)},!n))return C(Z.message),R}else if(ui(m)){let V={};for(const Z in m){if(!Da(V)&&!n)break;const j=T4(await m[Z](x,e),w,Z);j&&(V={...j,...M(Z,j.message)},C(j.message),n&&(R[v]=V))}if(!Da(V)&&(R[v]={ref:w,...V},!n))return R}}return C(!0),R};function JJ(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Vr(t)?r++:t[e[r++]];return t}function QJ(t){for(const e in t)if(t.hasOwnProperty(e)&&!Vr(t[e]))return!1;return!0}function _i(t,e){const n=Array.isArray(e)?e:tT(e)?[e]:dF(e),r=n.length===1?t:JJ(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(ui(r)&&Da(r)||Array.isArray(r)&&QJ(r))&&_i(t,n.slice(0,-1)),t}var DS=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},Mx=t=>wo(t)||!oF(t);function Bc(t,e){if(Mx(t)||Mx(e))return t===e;if(Yd(t)&&Yd(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Yd(o)&&Yd(a)||ui(o)&&ui(a)||Array.isArray(o)&&Array.isArray(a)?!Bc(o,a):o!==a)return!1}}return!0}var mF=t=>t.type==="select-multiple",eQ=t=>rT(t)||uv(t),kS=t=>Ex(t)&&t.isConnected,tQ=t=>ui(t)&&Object.values(t).some(e=>e),gF=t=>{for(const e in t)if(vu(t[e]))return!0;return!1};function Tx(t,e={}){const n=Array.isArray(t);if(ui(t)||n)for(const r in t)Array.isArray(t[r])||ui(t[r])&&!gF(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Tx(t[r],e[r])):wo(t[r])||(e[r]=!0);return e}function vF(t,e,n){const r=Array.isArray(t);if(ui(t)||r)for(const i in t)Array.isArray(t[i])||ui(t[i])&&!gF(t[i])?Vr(e)||Mx(n[i])?n[i]=Array.isArray(t[i])?Tx(t[i],[]):{...Tx(t[i])}:vF(t[i],wo(e)?{}:e[i],n[i]):n[i]=!Bc(t[i],e[i]);return n}var Zy=(t,e)=>vF(t,e,Tx(e)),yF=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Vr(t)?t:e?t===""?NaN:t&&+t:n&&Fs(t)?new Date(t):r?r(t):t;function LS(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return nT(e)?e.files:rT(e)?pF(t.refs).value:mF(e)?[...e.selectedOptions].map(({value:n})=>n):uv(e)?hF(t.refs).value:yF(Vr(e.value)?t.ref.value:e.value,t)}var nQ=(t,e,n,r)=>{const i={};for(const o of t){const a=jt(e,o);a&&ur(i,o,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ip=t=>Vr(t)?t:Cx(t)?t.source:ui(t)?Cx(t.value)?t.value.source:t.value:t,rQ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function R4(t,e,n){const r=jt(t,n);if(r||tT(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),a=jt(e,o),s=jt(t,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};i.pop()}return{name:n}}var iQ=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,oQ=(t,e)=>!cv(jt(t,e)).length&&_i(t,e);const aQ={mode:ds.onSubmit,reValidateMode:ds.onChange,shouldFocusError:!0};function sQ(t={}){let e={...aQ,...t},n={submitCount:0,isDirty:!1,isLoading:vu(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=ui(e.defaultValues)||ui(e.values)?Bo(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Bo(i),a={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:DS(),array:DS(),state:DS()},p=S4(e.mode),m=S4(e.reValidateMode),v=e.criteriaMode===ds.all,b=J=>Q=>{clearTimeout(u),u=setTimeout(J,Q)},y=async J=>{if(c.isValid||J){const Q=e.resolver?Da((await D()).errors):await M(r,!0);Q!==n.isValid&&f.state.next({isValid:Q})}},g=(J,Q)=>{(c.isValidating||c.validatingFields)&&(Q.forEach(xe=>{ur(n.validatingFields,xe,J)}),n.isValidating=tQ(n.validatingFields),f.state.next({validatingFields:n.validatingFields,isValidating:n.isValidating}))},x=(J,Q=[],xe,B,O=!0,ee=!0)=>{if(B&&xe){if(a.action=!0,ee&&Array.isArray(jt(r,J))){const he=xe(jt(r,J),B.argA,B.argB);O&&ur(r,J,he)}if(ee&&Array.isArray(jt(n.errors,J))){const he=xe(jt(n.errors,J),B.argA,B.argB);O&&ur(n.errors,J,he),oQ(n.errors,J)}if(c.touchedFields&&ee&&Array.isArray(jt(n.touchedFields,J))){const he=xe(jt(n.touchedFields,J),B.argA,B.argB);O&&ur(n.touchedFields,J,he)}c.dirtyFields&&(n.dirtyFields=Zy(i,o)),f.state.next({name:J,isDirty:V(J,Q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ur(o,J,Q)},w=(J,Q)=>{ur(n.errors,J,Q),f.state.next({errors:n.errors})},C=J=>{n.errors=J,f.state.next({errors:n.errors,isValid:!1})},R=(J,Q,xe,B)=>{const O=jt(r,J);if(O){const ee=jt(o,J,Vr(xe)?jt(i,J):xe);Vr(ee)||B&&B.defaultChecked||Q?ur(o,J,Q?ee:LS(O._f)):fe(J,ee),a.mount&&y()}},E=(J,Q,xe,B,O)=>{let ee=!1,he=!1;const le={name:J},Ee=!!(jt(r,J)&&jt(r,J)._f.disabled);if(!xe||B){c.isDirty&&(he=n.isDirty,n.isDirty=le.isDirty=V(),ee=he!==le.isDirty);const qe=Ee||Bc(jt(i,J),Q);he=!!(!Ee&&jt(n.dirtyFields,J)),qe||Ee?_i(n.dirtyFields,J):ur(n.dirtyFields,J,!0),le.dirtyFields=n.dirtyFields,ee=ee||c.dirtyFields&&he!==!qe}if(xe){const qe=jt(n.touchedFields,J);qe||(ur(n.touchedFields,J,xe),le.touchedFields=n.touchedFields,ee=ee||c.touchedFields&&qe!==xe)}return ee&&O&&f.state.next(le),ee?le:{}},P=(J,Q,xe,B)=>{const O=jt(n.errors,J),ee=c.isValid&&cs(Q)&&n.isValid!==Q;if(t.delayError&&xe?(l=b(()=>w(J,xe)),l(t.delayError)):(clearTimeout(u),l=null,xe?ur(n.errors,J,xe):_i(n.errors,J)),(xe?!Bc(O,xe):O)||!Da(B)||ee){const he={...B,...ee&&cs(Q)?{isValid:Q}:{},errors:n.errors,name:J};n={...n,...he},f.state.next(he)}g(!1,Object.keys(n.validatingFields).filter(he=>he===J))},D=async J=>e.resolver(o,e.context,nQ(J||s.mount,r,e.criteriaMode,e.shouldUseNativeValidation)),L=async J=>{const{errors:Q}=await D(J);if(J)for(const xe of J){const B=jt(Q,xe);B?ur(n.errors,xe,B):_i(n.errors,xe)}else n.errors=Q;return Q},M=async(J,Q,xe={valid:!0})=>{for(const B in J){const O=J[B];if(O){const{_f:ee,...he}=O;if(ee){const le=s.array.has(ee.name),Ee=await P4(O,o,v,e.shouldUseNativeValidation&&!Q,le);if(Ee[ee.name]&&(xe.valid=!1,Q))break;!Q&&(jt(Ee,ee.name)?le?ZJ(n.errors,Ee,ee.name):ur(n.errors,ee.name,Ee[ee.name]):_i(n.errors,ee.name))}he&&await M(he,Q,xe)}}return xe.valid},I=()=>{for(const J of s.unMount){const Q=jt(r,J);Q&&(Q._f.refs?Q._f.refs.every(xe=>!kS(xe)):!kS(Q._f.ref))&&Be(J)}s.unMount=new Set},V=(J,Q)=>(J&&Q&&ur(o,J,Q),!Bc(ce(),i)),Z=(J,Q,xe)=>fF(J,s,{...a.mount?o:Vr(Q)?i:Fs(J)?{[J]:Q}:Q},xe,Q),j=J=>cv(jt(a.mount?o:i,J,t.shouldUnregister?jt(i,J,[]):[])),fe=(J,Q,xe={})=>{const B=jt(r,J);let O=Q;if(B){const ee=B._f;ee&&(!ee.disabled&&ur(o,J,yF(Q,ee)),O=Ex(ee.ref)&&wo(Q)?"":Q,mF(ee.ref)?[...ee.ref.options].forEach(he=>he.selected=O.includes(he.value)):ee.refs?uv(ee.ref)?ee.refs.length>1?ee.refs.forEach(he=>(!he.defaultChecked||!he.disabled)&&(he.checked=Array.isArray(O)?!!O.find(le=>le===he.value):O===he.value)):ee.refs[0]&&(ee.refs[0].checked=!!O):ee.refs.forEach(he=>he.checked=he.value===O):nT(ee.ref)?ee.ref.value="":(ee.ref.value=O,ee.ref.type||f.values.next({name:J,values:{...o}})))}(xe.shouldDirty||xe.shouldTouch)&&E(J,O,xe.shouldTouch,xe.shouldDirty,!0),xe.shouldValidate&&F(J)},ye=(J,Q,xe)=>{for(const B in Q){const O=Q[B],ee=`${J}.${B}`,he=jt(r,ee);(s.array.has(J)||!Mx(O)||he&&!he._f)&&!Yd(O)?ye(ee,O,xe):fe(ee,O,xe)}},ve=(J,Q,xe={})=>{const B=jt(r,J),O=s.array.has(J),ee=Bo(Q);ur(o,J,ee),O?(f.array.next({name:J,values:{...o}}),(c.isDirty||c.dirtyFields)&&xe.shouldDirty&&f.state.next({name:J,dirtyFields:Zy(i,o),isDirty:V(J,ee)})):B&&!B._f&&!wo(ee)?ye(J,ee,xe):fe(J,ee,xe),_4(J,s)&&f.state.next({...n}),f.values.next({name:a.mount?J:void 0,values:{...o}})},X=async J=>{const Q=J.target;let xe=Q.name,B=!0;const O=jt(r,xe),ee=()=>Q.type?LS(O._f):aF(J),he=le=>{B=Number.isNaN(le)||le===jt(o,xe,le)};if(O){let le,Ee;const qe=ee(),Ke=J.type===_x.BLUR||J.type===_x.FOCUS_OUT,be=!rQ(O._f)&&!e.resolver&&!jt(n.errors,xe)&&!O._f.deps||iQ(Ke,jt(n.touchedFields,xe),n.isSubmitted,m,p),Ye=_4(xe,s,Ke);ur(o,xe,qe),Ke?(O._f.onBlur&&O._f.onBlur(J),l&&l(0)):O._f.onChange&&O._f.onChange(J);const at=E(xe,qe,Ke,!1),tt=!Da(at)||Ye;if(!Ke&&f.values.next({name:xe,type:J.type,values:{...o}}),be)return c.isValid&&y(),tt&&f.state.next({name:xe,...Ye?{}:at});if(!Ke&&Ye&&f.state.next({...n}),g(!0,[xe]),e.resolver){const{errors:ft}=await D([xe]);if(he(qe),B){const De=R4(n.errors,r,xe),Le=R4(ft,r,De.name||xe);le=Le.error,xe=Le.name,Ee=Da(ft)}}else le=(await P4(O,o,v,e.shouldUseNativeValidation))[xe],he(qe),B&&(le?Ee=!1:c.isValid&&(Ee=await M(r,!0)));B&&(O._f.deps&&F(O._f.deps),P(xe,Ee,le,at))}},ne=(J,Q)=>{if(jt(n.errors,Q)&&J.focus)return J.focus(),1},F=async(J,Q={})=>{let xe,B;const O=S1(J);if(g(!0,O),e.resolver){const ee=await L(Vr(J)?J:O);xe=Da(ee),B=J?!O.some(he=>jt(ee,he)):xe}else J?(B=(await Promise.all(O.map(async ee=>{const he=jt(r,ee);return await M(he&&he._f?{[ee]:he}:he)}))).every(Boolean),!(!B&&!n.isValid)&&y()):B=xe=await M(r);return f.state.next({...!Fs(J)||c.isValid&&xe!==n.isValid?{}:{name:J},...e.resolver||!J?{isValid:xe}:{},errors:n.errors,isValidating:!1}),Q.shouldFocus&&!B&&_m(r,ne,J?O:s.mount),B},ce=J=>{const Q={...i,...a.mount?o:{}};return Vr(J)?Q:Fs(J)?jt(Q,J):J.map(xe=>jt(Q,xe))},se=(J,Q)=>({invalid:!!jt((Q||n).errors,J),isDirty:!!jt((Q||n).dirtyFields,J),isTouched:!!jt((Q||n).touchedFields,J),isValidating:!!jt((Q||n).validatingFields,J),error:jt((Q||n).errors,J)}),K=J=>{J&&S1(J).forEach(Q=>_i(n.errors,Q)),f.state.next({errors:J?n.errors:{}})},ge=(J,Q,xe)=>{const B=(jt(r,J,{_f:{}})._f||{}).ref;ur(n.errors,J,{...Q,ref:B}),f.state.next({name:J,errors:n.errors,isValid:!1}),xe&&xe.shouldFocus&&B&&B.focus&&B.focus()},ze=(J,Q)=>vu(J)?f.values.subscribe({next:xe=>J(Z(void 0,Q),xe)}):Z(J,Q,!0),Be=(J,Q={})=>{for(const xe of J?S1(J):s.mount)s.mount.delete(xe),s.array.delete(xe),Q.keepValue||(_i(r,xe),_i(o,xe)),!Q.keepError&&_i(n.errors,xe),!Q.keepDirty&&_i(n.dirtyFields,xe),!Q.keepTouched&&_i(n.touchedFields,xe),!Q.keepIsValidating&&_i(n.validatingFields,xe),!e.shouldUnregister&&!Q.keepDefaultValue&&_i(i,xe);f.values.next({values:{...o}}),f.state.next({...n,...Q.keepDirty?{isDirty:V()}:{}}),!Q.keepIsValid&&y()},st=({disabled:J,name:Q,field:xe,fields:B,value:O})=>{if(cs(J)){const ee=J?void 0:Vr(O)?LS(xe?xe._f:jt(B,Q)._f):O;ur(o,Q,ee),E(Q,ee,!1,!1,!0)}},it=(J,Q={})=>{let xe=jt(r,J);const B=cs(Q.disabled);return ur(r,J,{...xe||{},_f:{...xe&&xe._f?xe._f:{ref:{name:J}},name:J,mount:!0,...Q}}),s.mount.add(J),xe?st({field:xe,disabled:Q.disabled,name:J,value:Q.value}):R(J,!0,Q.value),{...B?{disabled:Q.disabled}:{},...e.progressive?{required:!!Q.required,min:Ip(Q.min),max:Ip(Q.max),minLength:Ip(Q.minLength),maxLength:Ip(Q.maxLength),pattern:Ip(Q.pattern)}:{},name:J,onChange:X,onBlur:X,ref:O=>{if(O){it(J,Q),xe=jt(r,J);const ee=Vr(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,he=eQ(ee),le=xe._f.refs||[];if(he?le.find(Ee=>Ee===ee):ee===xe._f.ref)return;ur(r,J,{_f:{...xe._f,...he?{refs:[...le.filter(kS),ee,...Array.isArray(jt(i,J))?[{}]:[]],ref:{type:ee.type,name:J}}:{ref:ee}}}),R(J,!1,void 0,ee)}else xe=jt(r,J,{}),xe._f&&(xe._f.mount=!1),(e.shouldUnregister||Q.shouldUnregister)&&!(sF(s.array,J)&&a.action)&&s.unMount.add(J)}}},gt=()=>e.shouldFocusError&&_m(r,ne,s.mount),yt=J=>{cs(J)&&(f.state.next({disabled:J}),_m(r,(Q,xe)=>{let B=J;const O=jt(r,xe);O&&cs(O._f.disabled)&&(B||(B=O._f.disabled)),Q.disabled=B},0,!1))},je=(J,Q)=>async xe=>{let B;xe&&(xe.preventDefault&&xe.preventDefault(),xe.persist&&xe.persist());let O=Bo(o);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:ee,values:he}=await D();n.errors=ee,O=he}else await M(r);if(_i(n.errors,"root"),Da(n.errors)){f.state.next({errors:{}});try{await J(O,xe)}catch(ee){B=ee}}else Q&&await Q({...n.errors},xe),gt(),setTimeout(gt);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Da(n.errors)&&!B,submitCount:n.submitCount+1,errors:n.errors}),B)throw B},Y=(J,Q={})=>{jt(r,J)&&(Vr(Q.defaultValue)?ve(J,Bo(jt(i,J))):(ve(J,Q.defaultValue),ur(i,J,Bo(Q.defaultValue))),Q.keepTouched||_i(n.touchedFields,J),Q.keepDirty||(_i(n.dirtyFields,J),n.isDirty=Q.defaultValue?V(J,Bo(jt(i,J))):V()),Q.keepError||(_i(n.errors,J),c.isValid&&y()),f.state.next({...n}))},Fe=(J,Q={})=>{const xe=J?Bo(J):i,B=Bo(xe),O=Da(J),ee=O?i:B;if(Q.keepDefaultValues||(i=xe),!Q.keepValues){if(Q.keepDirtyValues)for(const he of s.mount)jt(n.dirtyFields,he)?ur(ee,he,jt(o,he)):ve(he,jt(ee,he));else{if(J3&&Vr(J))for(const he of s.mount){const le=jt(r,he);if(le&&le._f){const Ee=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(Ex(Ee)){const qe=Ee.closest("form");if(qe){qe.reset();break}}}}r={}}o=t.shouldUnregister?Q.keepDefaultValues?Bo(i):{}:Bo(ee),f.array.next({values:{...ee}}),f.values.next({values:{...ee}})}s={mount:Q.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:Q.keepSubmitCount?n.submitCount:0,isDirty:O?!1:Q.keepDirty?n.isDirty:!!(Q.keepDefaultValues&&!Bc(J,i)),isSubmitted:Q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:O?[]:Q.keepDirtyValues?Q.keepDefaultValues&&o?Zy(i,o):n.dirtyFields:Q.keepDefaultValues&&J?Zy(i,J):{},touchedFields:Q.keepTouched?n.touchedFields:{},errors:Q.keepErrors?n.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(J,Q)=>Fe(vu(J)?J(o):J,Q);return{control:{register:it,unregister:Be,getFieldState:se,handleSubmit:je,setError:ge,_executeSchema:D,_getWatch:Z,_getDirty:V,_updateValid:y,_removeUnmounted:I,_updateFieldArray:x,_updateDisabledField:st,_getFieldArray:j,_reset:Fe,_resetDefaultValues:()=>vu(e.defaultValues)&&e.defaultValues().then(J=>{Me(J,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:J=>{n={...n,...J}},_disableForm:yt,_subjects:f,_proxyFormState:c,_setErrors:C,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(J){a=J},get _defaultValues(){return i},get _names(){return s},set _names(J){s=J},get _formState(){return n},set _formState(J){n=J},get _options(){return e},set _options(J){e={...e,...J}}},trigger:F,register:it,handleSubmit:je,watch:ze,setValue:ve,getValues:ce,reset:Me,resetField:Y,clearErrors:K,unregister:Be,setError:ge,setFocus:(J,Q={})=>{const xe=jt(r,J),B=xe&&xe._f;if(B){const O=B.refs?B.refs[0]:B.ref;O.focus&&(O.focus(),Q.shouldSelect&&O.select())}},getFieldState:se}}function lQ(t={}){const e=fn.useRef(),n=fn.useRef(),[r,i]=fn.useState({isDirty:!1,isValidating:!1,isLoading:vu(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:vu(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...sQ(t),formState:r});const o=e.current.control;return o._options=t,eT({subject:o._subjects.state,next:a=>{uF(a,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),fn.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),fn.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==r.isDirty&&o._subjects.state.next({isDirty:a})}},[o,r.isDirty]),fn.useEffect(()=>{t.values&&!Bc(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(a=>({...a}))):o._resetDefaultValues()},[t.values,o]),fn.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),fn.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),fn.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=lF(r,o),e.current}function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function uQ(t,e){if(xg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cQ(t){var e=uQ(t,"string");return xg(e)==="symbol"?e:String(e)}function fQ(t,e,n){return e=cQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}function dQ(t){if(Array.isArray(t))return t}function hQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function A4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pQ(t,e){if(t){if(typeof t=="string")return A4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A4(t,e)}}function mQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jy(t,e){return dQ(t)||hQ(t,e)||pQ(t,e)||mQ()}var gQ={root:function(e){var n=e.props;return Ct("p-colorpicker p-component",{"p-colorpicker-overlay":!n.inline},n.className)},input:function(e){var n=e.props;return Ct("p-colorpicker-preview p-inputtext",n.inputClassName,{"p-disabled":n.disabled})},panel:function(e){var n=e.panelProps,r=e.context;return Ct("p-colorpicker-panel",n.panelClassName,{"p-colorpicker-overlay-panel":!n.inline,"p-disabled":n.disabled,"p-input-filled":r&&r.inputStyle==="filled"||En.inputStyle==="filled","p-ripple-disabled":r&&r.ripple===!1||En.ripple===!1})},content:"p-colorpicker-content",hueHandle:"p-colorpicker-hue-handle",hue:"p-colorpicker-hue",colorHandle:"p-colorpicker-color-handle",color:"p-colorpicker-color",selector:"p-colorpicker-color-selector",transition:"p-connected-overlay"},vQ=`
@layer primereact {
    .p-colorpicker {
        display: inline-block;
    }
    
    .p-colorpicker-dragging {
        cursor: pointer;
    }
    
    .p-colorpicker-overlay {
        position: relative;
    }
    
    .p-colorpicker-panel {
        position: relative;
        width: 193px;
        height: 166px;
    }
    
    .p-colorpicker-overlay-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-colorpicker-preview {
        cursor: pointer;
    }
    
    .p-colorpicker-panel .p-colorpicker-content {
        position: relative;
    }
    
    .p-colorpicker-panel .p-colorpicker-color-selector {
        width: 150px;
        height: 150px;
        top: 8px;
        left: 8px;
        position: absolute;
    }
    
    .p-colorpicker-panel .p-colorpicker-color {
        width: 150px;
        height: 150px;
    }
    
    .p-colorpicker-panel .p-colorpicker-color-handle {
        position: absolute;
        top: 0px;
        left: 150px;
        border-radius: 100%;
        width: 10px;
        height: 10px;
        border-width: 1px;
        border-style: solid;
        margin: -5px 0 0 -5px;
        cursor: pointer;
        opacity: 0.85;
    }
    
    .p-colorpicker-panel .p-colorpicker-hue {
        width: 17px;
        height: 150px;
        top: 8px;
        left: 167px;
        position: absolute;
        opacity: 0.85;
    }
    
    .p-colorpicker-panel .p-colorpicker-hue-handle {
        position: absolute;
        top: 150px;
        left: 0px;
        width: 21px;
        margin-left: -2px;
        margin-top: -5px;
        height: 10px;
        border-width: 2px;
        border-style: solid;
        opacity: 0.85;
        cursor: pointer;
    }
    
    .p-colorpicker-panel .p-colorpicker-color {
        background: linear-gradient(to top, #000 0%, rgb(0 0 0 / 0) 100%), linear-gradient(to right, #fff 0%, rgb(255 255 255 / 0) 100%)
    }
    .p-colorpicker-panel .p-colorpicker-hue {
        background: linear-gradient(0deg, red 0, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, red)
    }
}
`,Op=Sn.extend({defaultProps:{__TYPE:"ColorPicker",appendTo:null,autoFocus:!1,children:void 0,className:null,defaultColor:"ff0000",disabled:!1,format:"hex",id:null,inline:!1,inputClassName:null,inputId:null,inputRef:null,inputStyle:null,onChange:null,onHide:null,onShow:null,panelClassName:null,panelStyle:null,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,value:null},css:{classes:gQ,styles:vQ}}),xF=S.forwardRef(function(t,e){var n=S.useContext(Xn),r=t.ptm,i=t.cx,o=function(){var l=Rc({className:i("panel",{panelProps:t,context:n}),style:t.panelStyle,onClick:t.onClick},r("panel",{hostName:t.hostName})),u=Rc({classNames:i("transition"),in:t.in,timeout:{enter:120,exit:100},options:t.transitionOptions,unmountOnExit:!0,onEnter:t.onEnter,onEntered:t.onEntered,onExit:t.onExit,onExited:t.onExited},r("transition",{hostName:t.hostName}));return S.createElement(ku,Qc({nodeRef:e},u),S.createElement("div",Qc({ref:e},l),t.children))},a=o();return t.inline?a:S.createElement(Lu,{element:a,appendTo:t.appendTo})});xF.displayName="ColorPickerPanel";function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){fQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var iT=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=Op.getProps(t,r),o=S.useState(!1),a=Jy(o,2),s=a[0],l=a[1],u=Op.setMetaData({props:i,state:{overlayVisible:s}}),c=u.ptm,f=u.cx,p=u.isUnstyled;Xo(Op.css.styles,p,{name:"colorpicker"});var m=S.useRef(null),v=S.useRef(null),b=S.useRef(i.inputRef),y=S.useRef(null),g=S.useRef(null),x=S.useRef(null),w=S.useRef(null),C=S.useRef(!1),R=S.useRef(null),E=S.useRef(!1),P=h3({target:m,overlay:v,listener:function(ae,Ne){var rt=Ne.valid;rt&&Q()},when:s}),D=Jy(P,2),L=D[0],M=D[1],I=Vo({type:"mousemove",listener:function(ae){E.current&&gt(ae),C.current&&se(ae)}}),V=Jy(I,2),Z=V[0],j=V[1],fe=Vo({type:"mouseup",listener:function(){E.current=C.current=!1,ke.removeClass(m.current,"p-colorpicker-dragging"),j(),X()}}),ye=Jy(fe,2),ve=ye[0],X=ye[1],ne=function(ae){i.inline||Ha.emit("overlay-click",{originalEvent:ae,target:m.current})},F=function(ae){i.disabled||(st(),ce(ae))},ce=function(ae){i.disabled||(C.current=!0,se(ae),!p&&ke.addClass(m.current,"p-colorpicker-dragging"))},se=function(ae){var Ne=w.current.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);R.current=qe({h:Math.floor(360*(150-Math.max(0,Math.min(150,(ae.pageY||ae.changedTouches[0].pageY)-Ne)))/150),s:100,b:100}),Me(),Ve(),yt()},K=function(ae){i.disabled||(st(),ge(ae))},ge=function(ae){i.disabled||(E.current=!0,gt(ae),!p&&ke.addClass(m.current,"p-colorpicker-dragging"),ae.preventDefault())},ze=function(ae){E.current&&(gt(ae),ae.preventDefault()),C.current&&(se(ae),ae.preventDefault())},Be=function(){E.current=!1,C.current=!1,!p&&ke.removeClass(m.current,"p-colorpicker-dragging"),it()},st=function(){Z(),ve()},it=function(){j(),X()},gt=function(ae){var Ne=y.current.getBoundingClientRect(),rt=Ne.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),wt=Ne.left+document.body.scrollLeft,bt=Math.floor(100*Math.max(0,Math.min(150,(ae.pageX||ae.changedTouches[0].pageX)-wt))/150),xt=Math.floor(100*(150-Math.max(0,Math.min(150,(ae.pageY||ae.changedTouches[0].pageY)-rt)))/150);R.current=qe({h:R.current.h,s:bt,b:xt}),et(),lt(),yt()},yt=function(){switch(i.format){case"hex":Fe(ft(R.current));break;case"rgb":Fe(at(R.current));break;case"hsb":Fe(R.current);break}},je=function(ae){var Ne;if(ae)switch(i.format){case"hex":Ne=be(ae);break;case"rgb":Ne=Ye(ae);break;case"hsb":Ne=ae;break}else Ne=be(i.defaultColor);return Ne},Y=function(ae){R.current=je(ae)},Fe=function(ae){i.onChange&&i.onChange({value:ae,stopPropagation:function(){},preventDefault:function(){},target:{name:i.name,id:i.id,value:ae}})},Me=function(){if(y.current){var ae=qe({h:R.current.h,s:100,b:100});y.current.style.backgroundColor="#"+ft(ae)}},et=function(){g.current&&(g.current.style.left=Math.floor(150*R.current.s/100)+"px",g.current.style.top=Math.floor(150*(100-R.current.b)/100)+"px")},Ve=function(){x.current&&(x.current.style.top=Math.floor(150-150*R.current.h/360)+"px")},lt=function(){b.current&&(b.current.style.backgroundColor="#"+ft(R.current))},J=function(){l(!0)},Q=function(){l(!1)},xe=function(){var ae=i.inline?void 0:{position:"absolute",top:"0",left:"0"};Fi.set("overlay",v.current,r&&r.autoZIndex||En.autoZIndex,r&&r.zIndex.overlay||En.zIndex.overlay),ke.addStyles(v.current,ae),Le()},B=function(){L(),i.onShow&&i.onShow()},O=function(){M()},ee=function(){Fi.clear(v.current),i.onHide&&i.onHide()},he=function(){le()},le=function(){s?Q():J()},Ee=function(ae){switch(ae.which){case 32:le(),ae.preventDefault();break;case 27:case 9:Q();break}},qe=function(ae){return{h:Math.min(360,Math.max(0,ae.h)),s:Math.min(100,Math.max(0,ae.s)),b:Math.min(100,Math.max(0,ae.b))}},Ke=function(ae){var Ne=parseInt(ae.indexOf("#")>-1?ae.substring(1):ae,16);return{r:Ne>>16,g:(Ne&65280)>>8,b:Ne&255}},be=function(ae){return Ye(Ke(ae))},Ye=function(ae){var Ne={h:0,s:0,b:0},rt=Math.min(ae.r,ae.g,ae.b),wt=Math.max(ae.r,ae.g,ae.b),bt=wt-rt;return Ne.b=wt,Ne.s=wt!==0?255*bt/wt:0,Ne.s!==0?ae.r===wt?Ne.h=(ae.g-ae.b)/bt:ae.g===wt?Ne.h=2+(ae.b-ae.r)/bt:Ne.h=4+(ae.r-ae.g)/bt:Ne.h=-1,Ne.h*=60,Ne.h<0&&(Ne.h+=360),Ne.s*=100/255,Ne.b*=100/255,Ne},at=function(ae){var Ne={r:null,g:null,b:null},rt=Math.round(ae.h),wt=Math.round(ae.s*255/100),bt=Math.round(ae.b*255/100);if(wt===0)Ne={r:bt,g:bt,b:bt};else{var xt=bt,Et=(255-wt)*bt/255,Ut=(xt-Et)*(rt%60)/60;rt===360&&(rt=0),rt<60?(Ne.r=xt,Ne.b=Et,Ne.g=Et+Ut):rt<120?(Ne.g=xt,Ne.b=Et,Ne.r=xt-Ut):rt<180?(Ne.g=xt,Ne.r=Et,Ne.b=Et+Ut):rt<240?(Ne.b=xt,Ne.r=Et,Ne.g=xt-Ut):rt<300?(Ne.b=xt,Ne.g=Et,Ne.r=Et+Ut):rt<360?(Ne.r=xt,Ne.g=Et,Ne.b=xt-Ut):(Ne.r=0,Ne.g=0,Ne.b=0)}return{r:Math.round(Ne.r),g:Math.round(Ne.g),b:Math.round(Ne.b)}},tt=function(ae){var Ne=[ae.r.toString(16),ae.g.toString(16),ae.b.toString(16)];for(var rt in Ne)Ne[rt].length===1&&(Ne[rt]="0"+Ne[rt]);return Ne.join("")},ft=function(ae){return tt(at(ae))},De=function(){Ve(),et(),lt(),Me()},Le=function(){b.current&&ke.alignOverlay(v.current,b.current.parentElement,i.appendTo||r&&r.appendTo||En.appendTo)};S.useImperativeHandle(e,function(){return{props:i,show:J,hide:Q,focus:function(){return ke.focus(b.current)},getElement:function(){return m.current},getOverlay:function(){return v.current},getInput:function(){return b.current}}}),S.useEffect(function(){_e.combinedRefs(b,i.inputRef)},[b,i.inputRef]),xa(function(){Y(i.value),De(),i.autoFocus&&ke.focus(b.current,i.autoFocus),Le()}),Wn(function(){!E.current&&!C.current&&Y(i.value)},[i.value]),Wn(function(){De()}),Ro(function(){Fi.clear(v.current)});var H=function(){var ae=n({ref:y,className:f("selector"),onMouseDown:function(bt){return K(bt)},onTouchStart:function(bt){return ge(bt)},onTouchMove:function(bt){return ze(bt)},onTouchEnd:Be},c("selector")),Ne=n({className:f("color")},c("color")),rt=n({ref:g,className:f("colorHandle")},c("colorHandle"));return S.createElement("div",ae,S.createElement("div",Ne,S.createElement("div",rt)))},me=function(){var ae=n({className:f("hue"),onMouseDown:function(wt){return F(wt)},onTouchStart:function(wt){return ce(wt)},onTouchMove:function(wt){return ze(wt)},onTouchEnd:Be},c("hue")),Ne=n({className:f("hueHandle")},c("hueHandle"));return S.createElement("div",Qc({ref:w},ae),S.createElement("div",Qc({ref:x},Ne)))},He=function(){var ae=H(),Ne=me(),rt=n({className:f("content")},c("content"));return S.createElement("div",rt,ae,Ne)},ct=function(){if(!i.inline){var ae=Op.getOtherProps(i),Ne=n(yQ({ref:b,type:"text",readOnly:!0,className:f("input"),style:i.inputStyle,id:i.inputId,tabIndex:i.tabIndex,disabled:i.disabled,onClick:he,onKeyDown:Ee},ae),c("input"));return S.createElement("input",Ne)}return null},nt=_e.isNotEmpty(i.tooltip),Pe=He(),dt=ct(),te=n({id:i.id,ref:m,style:i.style,className:f("root")},Op.getOtherProps(i),c("root"));return S.createElement(S.Fragment,null,S.createElement("div",te,dt,S.createElement(xF,{hostName:"ColorPicker",ref:v,appendTo:i.appendTo,inline:i.inline,disabled:i.disabled,panelStyle:i.panelStyle,panelClassName:i.panelClassName,onClick:ne,in:i.inline||s,onEnter:xe,onEntered:B,onExit:O,onExited:ee,transitionOptions:i.transitionOptions,ptm:c,cx:f},Pe)),nt&&S.createElement(wf,Qc({target:m,content:i.tooltip,pt:c("tooltip")},i.tooltipOptions)))}));iT.displayName="ColorPicker";function u2(){return u2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u2.apply(this,arguments)}var bF=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",u2({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{d:"M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z",fill:"currentColor"}),S.createElement("path",{d:"M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z",fill:"currentColor"}),S.createElement("path",{d:"M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z",fill:"currentColor"}))}));bF.displayName="ExclamationTriangleIcon";function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2.apply(this,arguments)}var wF=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",c2({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z",fill:"currentColor"}))}));wF.displayName="InfoCircleIcon";function f2(){return f2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f2.apply(this,arguments)}var SF=S.memo(S.forwardRef(function(t,e){var n=tr.getPTI(t);return S.createElement("svg",f2({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"}))}));SF.displayName="TimesCircleIcon";function d2(){return d2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d2.apply(this,arguments)}function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function xQ(t,e){if(bg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bQ(t){var e=xQ(t,"string");return bg(e)==="symbol"?e:String(e)}function wQ(t,e,n){return e=bQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qy=Sn.extend({defaultProps:{__TYPE:"Message",id:null,className:null,style:null,text:null,icon:null,severity:"info",content:null,children:void 0},css:{classes:{root:function(e){var n=e.props;return Ct("p-inline-message p-component",{"p-inline-message-info":n.severity==="info","p-inline-message-warn":n.severity==="warn","p-inline-message-error":n.severity==="error","p-inline-message-success":n.severity==="success","p-inline-message-icon-only":!n.text})},icon:"p-inline-message-icon",text:"p-inline-message-text"},styles:`
        @layer primereact {
            .p-inline-message {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                vertical-align: top;
            }

            .p-inline-message-icon {
                flex-shrink: 0;
            }
            
            .p-inline-message-icon-only .p-inline-message-text {
                visibility: hidden;
                width: 0;
            }
            
            .p-fluid .p-inline-message {
                display: flex;
            }        
        }
        `}});function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var _F=S.memo(S.forwardRef(function(t,e){var n=Nn(),r=S.useContext(Xn),i=Qy.getProps(t,r),o=S.useRef(null),a=Qy.setMetaData({props:i}),s=a.ptm,l=a.cx,u=a.isUnstyled;Xo(Qy.css.styles,u,{name:"message"});var c=function(){if(i.content)return _e.getJSXElement(i.content,i);var v=_e.getJSXElement(i.text,i),b=n({className:l("icon")},s("icon")),y=i.icon;if(!y)switch(i.severity){case"info":y=S.createElement(wF,b);break;case"warn":y=S.createElement(bF,b);break;case"error":y=S.createElement(SF,b);break;case"success":y=S.createElement(ov,b);break}var g=Hn.getJSXIcon(y,SQ({},b),{props:i}),x=n({className:l("text")},s("text"));return S.createElement(S.Fragment,null,g,S.createElement("span",x,v))};S.useImperativeHandle(e,function(){return{props:i,getElement:function(){return o.current}}});var f=c(),p=n({className:Ct(i.className,l("root")),style:i.style,role:"alert","aria-live":"polite","aria-atomic":"true"},Qy.getOtherProps(i),s("root"));return S.createElement("div",d2({id:i.id,ref:o},p),f)}));_F.displayName="Message";var aa=(t=>(t.Solid="S",t.XZ_Reflection="XZR",t.Y_Rotation="YR",t.Y_Symmetric_Rotation="YSR",t))(aa||{});class Us{static createUnitCells(e,n){return n===aa.Solid?[{voxel_id:e,id:e,is_primary:!0}]:n===aa.XZ_Reflection?[{voxel_id:e,id:e,is_primary:!0},{voxel_id:e,id:e+1,is_primary:!1}]:n===aa.Y_Rotation?[{voxel_id:e,id:e,is_primary:!0},{voxel_id:e,id:e+1,is_primary:!1},{voxel_id:e,id:e+2,is_primary:!1},{voxel_id:e,id:e+3,is_primary:!1}]:[{voxel_id:e,id:e,is_primary:!0},{voxel_id:e,id:e+1,is_primary:!1},{voxel_id:e,id:e+2,is_primary:!1},{voxel_id:e,id:e+3,is_primary:!1},{voxel_id:e,id:e+4,is_primary:!1},{voxel_id:e,id:e+5,is_primary:!1},{voxel_id:e,id:e+6,is_primary:!1},{voxel_id:e,id:e+7,is_primary:!1}]}}uy(Us,"symmetrieOptions",[{name:"Solid",code:aa.Solid},{name:"XZ-Reflection",code:aa.XZ_Reflection},{name:"Y-Rotation",code:aa.Y_Rotation},{name:"Y-Symmetric-Rotation",code:aa.Y_Symmetric_Rotation}]);const _Q=({value:t,isOpen:e,onClose:n,onSubmit:r})=>{const i=S.useMemo(()=>t?{...t,type:Us.symmetrieOptions.find(b=>b.code===t.type)}:{id:"000000",name:"",type:Us.symmetrieOptions[0]},[t]),{control:o,register:a,watch:s,formState:{errors:l},handleSubmit:u}=lQ({defaultValues:i}),[c,f]=s(["id","type"]),p=S.useMemo(()=>+`0x${c}`,[c]),m=S.useMemo(()=>Us.createUnitCells(p,f.code).map(b=>b.id),[p,f.code]),v=Y3(()=>ni.unitCells.where("id").anyOf(m).and(b=>b.voxel_id!==p).first(),[m,p]);return pt.jsx(Z3,{visible:e,modal:!0,header:"Edit Voxel",style:{width:"50rem"},onHide:n,children:pt.jsxs("form",{className:"space-y-6",onSubmit:u(({id:b,name:y,type:g})=>{r(+`0x${b}`,y,g.code)}),children:[pt.jsxs("div",{children:[pt.jsx("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"id"}),pt.jsxs("div",{className:"relative mt-2 rounded-md shadow-sm",children:[pt.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:pt.jsx("span",{className:"text-gray-500 sm:text-sm",children:"#"})}),pt.jsx("input",{type:"text",readOnly:!0,value:c,className:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),pt.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:pt.jsx(iT,{inputId:"cp-hex",format:"hex",value:c,...a("id",{required:!0})})})]}),l.id&&pt.jsx("p",{children:"Id is required."})]}),pt.jsxs("div",{children:[pt.jsx("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Name"}),pt.jsx("div",{className:"mt-2",children:pt.jsx("input",{className:"block w-full rounded-md border-0 pl-2 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",...a("name",{required:!0})})}),l.name&&pt.jsx("p",{children:"Name is required."})]}),pt.jsxs("div",{children:[pt.jsx("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Symmetry Type"}),pt.jsx("div",{className:"mt-2",children:pt.jsx(qJ,{name:"type",control:o,render:({field:b})=>pt.jsx(df,{id:b.name,className:"md:w-14rem min-w-60",value:b.value,onChange:y=>b.onChange(y.value),options:Us.symmetrieOptions,optionLabel:"name"})})}),l.type&&pt.jsx("p",{children:"Type is required."})]}),v&&pt.jsx(_F,{severity:"warn",text:"The unit cells is occupied, please change id or type."}),pt.jsx("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:pt.jsx("button",{type:"submit",disabled:!!v,className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:t?"Update":"Add"})})]})})},EQ=()=>{const[t,e]=S.useState(),n=S.useCallback(a=>new Promise(s=>{const l=(()=>{if(!a)return;const{id:u,name:c,type:f}=a;return{id:u.toString(16).padStart(6,"0"),name:c,type:f}})();e({id:Q9(),isOpen:!0,value:l,resolve:s})}),[]),r=S.useCallback(()=>{t&&t.resolve({type:"cancel"}),e(a=>a&&{...a,isOpen:!1})},[t]),i=S.useCallback((a,s,l)=>{t&&t.resolve({type:"result",value:{id:a,name:s,type:l}}),e(u=>u&&{...u,isOpen:!1})},[t]),o=S.useMemo(()=>t?pt.jsx(_Q,{value:t.value,isOpen:t.isOpen,onSubmit:i,onClose:r},t.id):null,[r,i,t]);return{openDialog:n,dialogView:o}},CQ=()=>{const t=Y3(()=>ni.voxels.toArray()),{dialogView:e,openDialog:n}=EQ(),{dialogView:r,openDialog:i}=VJ(),o=S.useMemo(()=>pt.jsx("div",{className:"flex flex-row-reverse gap-2",children:pt.jsx(hs,{label:"Add Voxel",icon:"pi pi-plus",onClick:async()=>{const u=await n();if(u.type==="cancel")return;const{value:c}=u;await ni.transaction("rw",ni.voxels,ni.unitCells,async()=>{await ni.voxels.add(c);const f=Us.createUnitCells(c.id,c.type);await ni.unitCells.bulkAdd(f)})}})}),[n]),a=S.useCallback(({id:u})=>pt.jsx("div",{className:"w-8 h-8 rounded border-2",style:{backgroundColor:`#${u.toString(16).padStart(6,"0")}`}}),[]),s=S.useCallback(({id:u,name:c,type:f})=>pt.jsxs("div",{className:"flex flex-row gap-1",children:[pt.jsx(hs,{icon:"pi pi-pencil",rounded:!0,onClick:async()=>{const p=await n({id:u,name:c,type:f});if(p.type==="cancel")return;const{value:m}=p;await ni.transaction("rw",ni.voxels,ni.unitCells,async()=>{await ni.voxels.update(u,m);const v=Us.createUnitCells(u,f).map(y=>y.id);await ni.unitCells.bulkDelete(v);const b=Us.createUnitCells(m.id,m.type);await ni.unitCells.bulkPut(b)})}}),pt.jsx(hs,{icon:"pi pi-trash",rounded:!0,onClick:async()=>{(await i("Remove","Are you sure want to remove the voxel?")).type!=="cancel"&&await ni.voxels.delete(u)}})]}),[n,i]),l=S.useMemo(()=>pt.jsxs("div",{className:"flex flex-col gap-5 items-center",children:[pt.jsx("div",{children:"No results found"}),pt.jsx("div",{children:pt.jsx(hs,{label:"Import Sample Voxels",icon:"pi pi-file-import",onClick:async()=>{await ni.transaction("rw",ni.voxels,ni.unitCells,async()=>{await ni.voxels.bulkPut([{id:4868682,name:"Stone",type:aa.Solid},{id:16777215,name:"Air",type:aa.Solid}]),await ni.unitCells.bulkPut([{id:4868682,voxel_id:4868682,is_primary:!0},{id:16777215,voxel_id:16777215,is_primary:!0}])})}})})]}),[]);return pt.jsxs("div",{className:"card",children:[pt.jsxs(F3,{value:t,header:o,tableStyle:{minWidth:"60rem"},emptyMessage:l,children:[pt.jsx(Ls,{field:"id",header:"id",body:({id:u})=>pt.jsx("code",{children:"#"+u.toString(16).padStart(6,"0")})}),pt.jsx(Ls,{header:"Color",body:a}),pt.jsx(Ls,{field:"name",header:"Name"}),pt.jsx(Ls,{field:"type",header:"Symmetry Type"}),pt.jsx(Ls,{header:"Operation",body:s})]}),r,e]})},MQ=()=>{const t=Y3(()=>ni.unitCells.toArray()),e=S.useCallback(({id:n})=>pt.jsx("div",{className:"w-8 h-8 rounded border-2",style:{backgroundColor:`#${n.toString(16).padStart(6,"0")}`}}),[]);return pt.jsx("div",{className:"card",children:pt.jsxs(F3,{value:t,tableStyle:{minWidth:"60rem"},children:[pt.jsx(Ls,{field:"id",header:"id",body:({id:n})=>pt.jsx("code",{children:"#"+n.toString(16).padStart(6,"0")})}),pt.jsx(Ls,{field:"voxel_id",header:"voxel_id",body:({voxel_id:n})=>pt.jsx("code",{children:"#"+n.toString(16).padStart(6,"0")})}),pt.jsx(Ls,{header:"Color",body:e}),pt.jsx(Ls,{field:"is_primary",header:"is_primary"})]})})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const _f="162",Cc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Mc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},EF=0,h2=1,CF=2,TQ=3,MF=0,fb=1,Em=2,os=3,Ol=0,lo=1,Ua=2,Ml=0,ef=1,p2=2,m2=3,g2=4,TF=5,du=100,PF=101,RF=102,v2=103,y2=104,AF=200,IF=201,OF=202,DF=203,Px=204,Rx=205,kF=206,LF=207,NF=208,FF=209,UF=210,zF=211,BF=212,HF=213,VF=214,jF=0,GF=1,WF=2,wg=3,$F=4,KF=5,XF=6,qF=7,fv=0,YF=1,ZF=2,js=0,JF=1,QF=2,e8=3,oT=4,t8=5,n8=6,r8=7,x2="attached",i8="detached",db=300,$s=301,zu=302,Mh=303,Sg=304,Bh=306,_g=1e3,ro=1001,Eg=1002,Yr=1003,Ax=1004,PQ=1004,Ic=1005,RQ=1005,or=1006,Cm=1007,AQ=1007,zs=1008,IQ=1008,Gs=1009,o8=1010,a8=1011,hb=1012,aT=1013,wl=1014,oi=1015,so=1016,sT=1017,lT=1018,Ru=1020,s8=1021,io=1023,l8=1024,u8=1025,Au=1026,mf=1027,pb=1028,uT=1029,c8=1030,cT=1031,fT=1033,E1=33776,C1=33777,M1=33778,T1=33779,b2=35840,w2=35841,S2=35842,_2=35843,dT=36196,E2=37492,C2=37496,M2=37808,T2=37809,P2=37810,R2=37811,A2=37812,I2=37813,O2=37814,D2=37815,k2=37816,L2=37817,N2=37818,F2=37819,U2=37820,z2=37821,P1=36492,B2=36494,H2=36495,f8=36283,V2=36284,j2=36285,G2=36286,d8=2200,h8=2201,p8=2202,Cg=2300,Mg=2301,R1=2302,Hc=2400,Vc=2401,Tg=2402,mb=2500,hT=2501,OQ=0,DQ=1,kQ=2,m8=3200,g8=3201,Wu=0,v8=1,gl="",ka="srgb",Fl="srgb-linear",gb="display-p3",dv="display-p3-linear",Pg="linear",dr="srgb",Rg="rec709",Ag="p3",LQ=0,Tc=7680,NQ=7681,FQ=7682,UQ=7683,zQ=34055,BQ=34056,HQ=5386,VQ=512,jQ=513,GQ=514,WQ=515,$Q=516,KQ=517,XQ=518,W2=519,y8=512,x8=513,b8=514,pT=515,w8=516,S8=517,_8=518,E8=519,Ig=35044,qQ=35048,YQ=35040,ZQ=35045,JQ=35049,QQ=35041,eee=35046,tee=35050,nee=35042,ree="100",$2="300 es",Ix=1035,Bs=2e3,Og=2001;class Xs{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const Yi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let D4=1234567;const tf=Math.PI/180,Th=180/Math.PI;function da(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Yi[t&255]+Yi[t>>8&255]+Yi[t>>16&255]+Yi[t>>24&255]+"-"+Yi[e&255]+Yi[e>>8&255]+"-"+Yi[e>>16&15|64]+Yi[e>>24&255]+"-"+Yi[n&63|128]+Yi[n>>8&255]+"-"+Yi[n>>16&255]+Yi[n>>24&255]+Yi[r&255]+Yi[r>>8&255]+Yi[r>>16&255]+Yi[r>>24&255]).toLowerCase()}function Gr(t,e,n){return Math.max(e,Math.min(n,t))}function mT(t,e){return(t%e+e)%e}function iee(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function oee(t,e,n){return t!==e?(n-t)/(e-t):0}function Mm(t,e,n){return(1-n)*t+n*e}function aee(t,e,n,r){return Mm(t,e,1-Math.exp(-n*r))}function see(t,e=1){return e-Math.abs(mT(t,e*2)-e)}function lee(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function uee(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function cee(t,e){return t+Math.floor(Math.random()*(e-t+1))}function fee(t,e){return t+Math.random()*(e-t)}function dee(t){return t*(.5-Math.random())}function hee(t){t!==void 0&&(D4=t);let e=D4+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function pee(t){return t*tf}function mee(t){return t*Th}function K2(t){return(t&t-1)===0&&t!==0}function gee(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Ox(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function vee(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),u=o((e+r)/2),c=a((e+r)/2),f=o((e-r)/2),p=a((e-r)/2),m=o((r-e)/2),v=a((r-e)/2);switch(i){case"XYX":t.set(s*c,l*f,l*p,s*u);break;case"YZY":t.set(l*p,s*c,l*f,s*u);break;case"ZXZ":t.set(l*f,l*p,s*c,s*u);break;case"XZX":t.set(s*c,l*v,l*m,s*u);break;case"YXY":t.set(l*m,s*c,l*v,s*u);break;case"ZYZ":t.set(l*v,l*m,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Eo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Pn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const gT={DEG2RAD:tf,RAD2DEG:Th,generateUUID:da,clamp:Gr,euclideanModulo:mT,mapLinear:iee,inverseLerp:oee,lerp:Mm,damp:aee,pingpong:see,smoothstep:lee,smootherstep:uee,randInt:cee,randFloat:fee,randFloatSpread:dee,seededRandom:hee,degToRad:pee,radToDeg:mee,isPowerOfTwo:K2,ceilPowerOfTwo:gee,floorPowerOfTwo:Ox,setQuaternionFromProperEuler:vee,normalize:Pn,denormalize:Eo};class vt{constructor(e=0,n=0){vt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Gr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Tn{constructor(e,n,r,i,o,a,s,l,u){Tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,u)}set(e,n,r,i,o,a,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=n,c[4]=o,c[5]=l,c[6]=r,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],p=r[2],m=r[5],v=r[8],b=i[0],y=i[3],g=i[6],x=i[1],w=i[4],C=i[7],R=i[2],E=i[5],P=i[8];return o[0]=a*b+s*x+l*R,o[3]=a*y+s*w+l*E,o[6]=a*g+s*C+l*P,o[1]=u*b+c*x+f*R,o[4]=u*y+c*w+f*E,o[7]=u*g+c*C+f*P,o[2]=p*b+m*x+v*R,o[5]=p*y+m*w+v*E,o[8]=p*g+m*C+v*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return n*a*c-n*s*u-r*o*c+r*s*l+i*o*u-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*a-s*u,p=s*l-c*o,m=u*o-a*l,v=n*f+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/v;return e[0]=f*b,e[1]=(i*u-c*r)*b,e[2]=(s*r-i*a)*b,e[3]=p*b,e[4]=(c*n-i*l)*b,e[5]=(i*o-s*n)*b,e[6]=m*b,e[7]=(r*l-u*n)*b,e[8]=(a*n-r*o)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),u=Math.sin(o);return this.set(r*l,r*u,-r*(l*a+u*s)+a+e,-i*u,i*l,-i*(-u*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(NS.makeScale(e,n)),this}rotate(e){return this.premultiply(NS.makeRotation(-e)),this}translate(e,n){return this.premultiply(NS.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const NS=new Tn;function C8(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const yee={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Zd(t,e){return new yee[t](e)}function Dg(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function M8(){const t=Dg("canvas");return t.style.display="block",t}const k4={};function T8(t){t in k4||(k4[t]=!0,console.warn(t))}const L4=new Tn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),N4=new Tn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),e0={[Fl]:{transfer:Pg,primaries:Rg,toReference:t=>t,fromReference:t=>t},[ka]:{transfer:dr,primaries:Rg,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[dv]:{transfer:Pg,primaries:Ag,toReference:t=>t.applyMatrix3(N4),fromReference:t=>t.applyMatrix3(L4)},[gb]:{transfer:dr,primaries:Ag,toReference:t=>t.convertSRGBToLinear().applyMatrix3(N4),fromReference:t=>t.applyMatrix3(L4).convertLinearToSRGB()}},xee=new Set([Fl,dv]),ir={enabled:!0,_workingColorSpace:Fl,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!xee.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=e0[e].toReference,i=e0[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return e0[t].primaries},getTransfer:function(t){return t===gl?Pg:e0[t].transfer}};function hh(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function FS(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let td;class vT{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{td===void 0&&(td=Dg("canvas")),td.width=e.width,td.height=e.height;const r=td.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=td}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Dg("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=hh(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(hh(n[r]/255)*255):n[r]=hh(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let bee=0;class jc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:bee++}),this.uuid=da(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(US(i[a].image)):o.push(US(i[a]))}else o=US(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function US(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?vT.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let wee=0;class Pr extends Xs{constructor(e=Pr.DEFAULT_IMAGE,n=Pr.DEFAULT_MAPPING,r=ro,i=ro,o=or,a=zs,s=io,l=Gs,u=Pr.DEFAULT_ANISOTROPY,c=gl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:wee++}),this.uuid=da(),this.name="",this.source=new jc(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new vt(0,0),this.repeat=new vt(1,1),this.center=new vt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==db)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _g:e.x=e.x-Math.floor(e.x);break;case ro:e.x=e.x<0?0:1;break;case Eg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case _g:e.y=e.y-Math.floor(e.y);break;case ro:e.y=e.y<0?0:1;break;case Eg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Pr.DEFAULT_IMAGE=null;Pr.DEFAULT_MAPPING=db;Pr.DEFAULT_ANISOTROPY=1;class Gn{constructor(e=0,n=0,r=0,i=1){Gn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,u=l[0],c=l[4],f=l[8],p=l[1],m=l[5],v=l[9],b=l[2],y=l[6],g=l[10];if(Math.abs(c-p)<.01&&Math.abs(f-b)<.01&&Math.abs(v-y)<.01){if(Math.abs(c+p)<.1&&Math.abs(f+b)<.1&&Math.abs(v+y)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,C=(m+1)/2,R=(g+1)/2,E=(c+p)/4,P=(f+b)/4,D=(v+y)/4;return w>C&&w>R?w<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(w),i=E/r,o=P/r):C>R?C<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(C),r=E/i,o=D/i):R<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(R),r=P/o,i=D/o),this.set(r,i,o,n),this}let x=Math.sqrt((y-v)*(y-v)+(f-b)*(f-b)+(p-c)*(p-c));return Math.abs(x)<.001&&(x=1),this.x=(y-v)/x,this.y=(f-b)/x,this.z=(p-c)/x,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class P8 extends Xs{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Gn(0,0,e,n),this.scissorTest=!1,this.viewport=new Gn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:or,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},r);const o=new Pr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new jc(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Wa extends P8{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class vb extends Pr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Yr,this.minFilter=Yr,this.wrapR=ro,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class See extends Wa{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new vb(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class yT extends Pr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Yr,this.minFilter=Yr,this.wrapR=ro,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _ee extends Wa{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new yT(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Pi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const p=o[a+0],m=o[a+1],v=o[a+2],b=o[a+3];if(s===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(s===1){e[n+0]=p,e[n+1]=m,e[n+2]=v,e[n+3]=b;return}if(f!==b||l!==p||u!==m||c!==v){let y=1-s;const g=l*p+u*m+c*v+f*b,x=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const R=Math.sqrt(w),E=Math.atan2(R,g*x);y=Math.sin(y*E)/R,s=Math.sin(s*E)/R}const C=s*x;if(l=l*y+p*C,u=u*y+m*C,c=c*y+v*C,f=f*y+b*C,y===1-s){const R=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=R,u*=R,c*=R,f*=R}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=o[a],p=o[a+1],m=o[a+2],v=o[a+3];return e[n]=s*v+c*f+l*m-u*p,e[n+1]=l*v+c*p+u*f-s*m,e[n+2]=u*v+c*m+s*p-l*f,e[n+3]=c*v-s*f-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),f=s(o/2),p=l(r/2),m=l(i/2),v=l(o/2);switch(a){case"XYZ":this._x=p*c*f+u*m*v,this._y=u*m*f-p*c*v,this._z=u*c*v+p*m*f,this._w=u*c*f-p*m*v;break;case"YXZ":this._x=p*c*f+u*m*v,this._y=u*m*f-p*c*v,this._z=u*c*v-p*m*f,this._w=u*c*f+p*m*v;break;case"ZXY":this._x=p*c*f-u*m*v,this._y=u*m*f+p*c*v,this._z=u*c*v+p*m*f,this._w=u*c*f-p*m*v;break;case"ZYX":this._x=p*c*f-u*m*v,this._y=u*m*f+p*c*v,this._z=u*c*v-p*m*f,this._w=u*c*f+p*m*v;break;case"YZX":this._x=p*c*f+u*m*v,this._y=u*m*f+p*c*v,this._z=u*c*v-p*m*f,this._w=u*c*f-p*m*v;break;case"XZY":this._x=p*c*f-u*m*v,this._y=u*m*f-p*c*v,this._z=u*c*v+p*m*f,this._w=u*c*f+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],f=n[10],p=r+s+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(c-l)*m,this._y=(o-u)*m,this._z=(a-i)*m}else if(r>s&&r>f){const m=2*Math.sqrt(1+r-s-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(o+u)/m}else if(s>f){const m=2*Math.sqrt(1+s-r-f);this._w=(o-u)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-s);this._w=(a-i)/m,this._x=(o+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Gr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+a*s+i*u-o*l,this._y=i*c+a*l+o*s-r*u,this._z=o*c+a*u+r*l-i*s,this._w=a*c-r*s-i*l-o*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const m=1-n;return this._w=m*a+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*o+n*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),f=Math.sin((1-n)*c)/u,p=Math.sin(n*c)/u;return this._w=a*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=o*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class de{constructor(e=0,n=0,r=0){de.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(F4.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(F4.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,u=2*(a*i-s*r),c=2*(s*n-o*i),f=2*(o*r-a*n);return this.x=n+l*u+a*f-s*c,this.y=r+l*c+s*u-o*f,this.z=i+l*f+o*c-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return zS.copy(this).projectOnVector(e),this.sub(zS)}reflect(e){return this.sub(zS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Gr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const zS=new de,F4=new Pi;class Ri{constructor(e=new de(1/0,1/0,1/0),n=new de(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(es.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(es.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=es.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,es):es.fromBufferAttribute(o,a),es.applyMatrix4(e.matrixWorld),this.expandByPoint(es);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),t0.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),t0.copy(r.boundingBox)),t0.applyMatrix4(e.matrixWorld),this.union(t0)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,es),es.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Dp),n0.subVectors(this.max,Dp),nd.subVectors(e.a,Dp),rd.subVectors(e.b,Dp),id.subVectors(e.c,Dp),ql.subVectors(rd,nd),Yl.subVectors(id,rd),lc.subVectors(nd,id);let n=[0,-ql.z,ql.y,0,-Yl.z,Yl.y,0,-lc.z,lc.y,ql.z,0,-ql.x,Yl.z,0,-Yl.x,lc.z,0,-lc.x,-ql.y,ql.x,0,-Yl.y,Yl.x,0,-lc.y,lc.x,0];return!BS(n,nd,rd,id,n0)||(n=[1,0,0,0,1,0,0,0,1],!BS(n,nd,rd,id,n0))?!1:(r0.crossVectors(ql,Yl),n=[r0.x,r0.y,r0.z],BS(n,nd,rd,id,n0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,es).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(es).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ol[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ol[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ol[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ol[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ol[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ol[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ol[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ol[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ol),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ol=[new de,new de,new de,new de,new de,new de,new de,new de],es=new de,t0=new Ri,nd=new de,rd=new de,id=new de,ql=new de,Yl=new de,lc=new de,Dp=new de,n0=new de,r0=new de,uc=new de;function BS(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){uc.fromArray(t,o);const s=i.x*Math.abs(uc.x)+i.y*Math.abs(uc.y)+i.z*Math.abs(uc.z),l=e.dot(uc),u=n.dot(uc),c=r.dot(uc);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const Eee=new Ri,kp=new de,HS=new de;class Ai{constructor(e=new de,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Eee.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;kp.subVectors(e,this.center);const n=kp.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(kp,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(HS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(kp.copy(e.center).add(HS)),this.expandByPoint(kp.copy(e.center).sub(HS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const al=new de,VS=new de,i0=new de,Zl=new de,jS=new de,o0=new de,GS=new de;class Ef{constructor(e=new de,n=new de(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,al)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=al.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(al.copy(this.origin).addScaledVector(this.direction,n),al.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){VS.copy(e).add(n).multiplyScalar(.5),i0.copy(n).sub(e).normalize(),Zl.copy(this.origin).sub(VS);const o=e.distanceTo(n)*.5,a=-this.direction.dot(i0),s=Zl.dot(this.direction),l=-Zl.dot(i0),u=Zl.lengthSq(),c=Math.abs(1-a*a);let f,p,m,v;if(c>0)if(f=a*l-s,p=a*s-l,v=o*c,f>=0)if(p>=-v)if(p<=v){const b=1/c;f*=b,p*=b,m=f*(f+a*p+2*s)+p*(a*f+p+2*l)+u}else p=o,f=Math.max(0,-(a*p+s)),m=-f*f+p*(p+2*l)+u;else p=-o,f=Math.max(0,-(a*p+s)),m=-f*f+p*(p+2*l)+u;else p<=-v?(f=Math.max(0,-(-a*o+s)),p=f>0?-o:Math.min(Math.max(-o,-l),o),m=-f*f+p*(p+2*l)+u):p<=v?(f=0,p=Math.min(Math.max(-o,-l),o),m=p*(p+2*l)+u):(f=Math.max(0,-(a*o+s)),p=f>0?o:Math.min(Math.max(-o,-l),o),m=-f*f+p*(p+2*l)+u);else p=a>0?-o:o,f=Math.max(0,-(a*p+s)),m=-f*f+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(VS).addScaledVector(i0,p),m}intersectSphere(e,n){al.subVectors(e.center,this.origin);const r=al.dot(this.direction),i=al.dot(al)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(o=(e.min.y-p.y)*c,a=(e.max.y-p.y)*c):(o=(e.max.y-p.y)*c,a=(e.min.y-p.y)*c),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),f>=0?(s=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(s=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,al)!==null}intersectTriangle(e,n,r,i,o){jS.subVectors(n,e),o0.subVectors(r,e),GS.crossVectors(jS,o0);let a=this.direction.dot(GS),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Zl.subVectors(this.origin,e);const l=s*this.direction.dot(o0.crossVectors(Zl,o0));if(l<0)return null;const u=s*this.direction.dot(jS.cross(Zl));if(u<0||l+u>a)return null;const c=-s*Zl.dot(GS);return c<0?null:this.at(c/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class yn{constructor(e,n,r,i,o,a,s,l,u,c,f,p,m,v,b,y){yn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,u,c,f,p,m,v,b,y)}set(e,n,r,i,o,a,s,l,u,c,f,p,m,v,b,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=o,g[5]=a,g[9]=s,g[13]=l,g[2]=u,g[6]=c,g[10]=f,g[14]=p,g[3]=m,g[7]=v,g[11]=b,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new yn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/od.setFromMatrixColumn(e,0).length(),o=1/od.setFromMatrixColumn(e,1).length(),a=1/od.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const p=a*c,m=a*f,v=s*c,b=s*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=m+v*u,n[5]=p-b*u,n[9]=-s*l,n[2]=b-p*u,n[6]=v+m*u,n[10]=a*l}else if(e.order==="YXZ"){const p=l*c,m=l*f,v=u*c,b=u*f;n[0]=p+b*s,n[4]=v*s-m,n[8]=a*u,n[1]=a*f,n[5]=a*c,n[9]=-s,n[2]=m*s-v,n[6]=b+p*s,n[10]=a*l}else if(e.order==="ZXY"){const p=l*c,m=l*f,v=u*c,b=u*f;n[0]=p-b*s,n[4]=-a*f,n[8]=v+m*s,n[1]=m+v*s,n[5]=a*c,n[9]=b-p*s,n[2]=-a*u,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const p=a*c,m=a*f,v=s*c,b=s*f;n[0]=l*c,n[4]=v*u-m,n[8]=p*u+b,n[1]=l*f,n[5]=b*u+p,n[9]=m*u-v,n[2]=-u,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const p=a*l,m=a*u,v=s*l,b=s*u;n[0]=l*c,n[4]=b-p*f,n[8]=v*f+m,n[1]=f,n[5]=a*c,n[9]=-s*c,n[2]=-u*c,n[6]=m*f+v,n[10]=p-b*f}else if(e.order==="XZY"){const p=a*l,m=a*u,v=s*l,b=s*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=p*f+b,n[5]=a*c,n[9]=m*f-v,n[2]=v*f-m,n[6]=s*c,n[10]=b*f+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Cee,e,Mee)}lookAt(e,n,r){const i=this.elements;return ta.subVectors(e,n),ta.lengthSq()===0&&(ta.z=1),ta.normalize(),Jl.crossVectors(r,ta),Jl.lengthSq()===0&&(Math.abs(r.z)===1?ta.x+=1e-4:ta.z+=1e-4,ta.normalize(),Jl.crossVectors(r,ta)),Jl.normalize(),a0.crossVectors(ta,Jl),i[0]=Jl.x,i[4]=a0.x,i[8]=ta.x,i[1]=Jl.y,i[5]=a0.y,i[9]=ta.y,i[2]=Jl.z,i[6]=a0.z,i[10]=ta.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],p=r[9],m=r[13],v=r[2],b=r[6],y=r[10],g=r[14],x=r[3],w=r[7],C=r[11],R=r[15],E=i[0],P=i[4],D=i[8],L=i[12],M=i[1],I=i[5],V=i[9],Z=i[13],j=i[2],fe=i[6],ye=i[10],ve=i[14],X=i[3],ne=i[7],F=i[11],ce=i[15];return o[0]=a*E+s*M+l*j+u*X,o[4]=a*P+s*I+l*fe+u*ne,o[8]=a*D+s*V+l*ye+u*F,o[12]=a*L+s*Z+l*ve+u*ce,o[1]=c*E+f*M+p*j+m*X,o[5]=c*P+f*I+p*fe+m*ne,o[9]=c*D+f*V+p*ye+m*F,o[13]=c*L+f*Z+p*ve+m*ce,o[2]=v*E+b*M+y*j+g*X,o[6]=v*P+b*I+y*fe+g*ne,o[10]=v*D+b*V+y*ye+g*F,o[14]=v*L+b*Z+y*ve+g*ce,o[3]=x*E+w*M+C*j+R*X,o[7]=x*P+w*I+C*fe+R*ne,o[11]=x*D+w*V+C*ye+R*F,o[15]=x*L+w*Z+C*ve+R*ce,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],p=e[10],m=e[14],v=e[3],b=e[7],y=e[11],g=e[15];return v*(+o*l*f-i*u*f-o*s*p+r*u*p+i*s*m-r*l*m)+b*(+n*l*m-n*u*p+o*a*p-i*a*m+i*u*c-o*l*c)+y*(+n*u*f-n*s*m-o*a*f+r*a*m+o*s*c-r*u*c)+g*(-i*s*c-n*l*f+n*s*p+i*a*f-r*a*p+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],p=e[10],m=e[11],v=e[12],b=e[13],y=e[14],g=e[15],x=f*y*u-b*p*u+b*l*m-s*y*m-f*l*g+s*p*g,w=v*p*u-c*y*u-v*l*m+a*y*m+c*l*g-a*p*g,C=c*b*u-v*f*u+v*s*m-a*b*m-c*s*g+a*f*g,R=v*f*l-c*b*l-v*s*p+a*b*p+c*s*y-a*f*y,E=n*x+r*w+i*C+o*R;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/E;return e[0]=x*P,e[1]=(b*p*o-f*y*o-b*i*m+r*y*m+f*i*g-r*p*g)*P,e[2]=(s*y*o-b*l*o+b*i*u-r*y*u-s*i*g+r*l*g)*P,e[3]=(f*l*o-s*p*o-f*i*u+r*p*u+s*i*m-r*l*m)*P,e[4]=w*P,e[5]=(c*y*o-v*p*o+v*i*m-n*y*m-c*i*g+n*p*g)*P,e[6]=(v*l*o-a*y*o-v*i*u+n*y*u+a*i*g-n*l*g)*P,e[7]=(a*p*o-c*l*o+c*i*u-n*p*u-a*i*m+n*l*m)*P,e[8]=C*P,e[9]=(v*f*o-c*b*o-v*r*m+n*b*m+c*r*g-n*f*g)*P,e[10]=(a*b*o-v*s*o+v*r*u-n*b*u-a*r*g+n*s*g)*P,e[11]=(c*s*o-a*f*o-c*r*u+n*f*u+a*r*m-n*s*m)*P,e[12]=R*P,e[13]=(c*b*i-v*f*i+v*r*p-n*b*p-c*r*y+n*f*y)*P,e[14]=(v*s*i-a*b*i-v*r*l+n*b*l+a*r*y-n*s*y)*P,e[15]=(a*f*i-c*s*i+c*r*l-n*f*l-a*r*p+n*s*p)*P,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,u=o*a,c=o*s;return this.set(u*a+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*a,0,u*l-i*s,c*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,u=o+o,c=a+a,f=s+s,p=o*u,m=o*c,v=o*f,b=a*c,y=a*f,g=s*f,x=l*u,w=l*c,C=l*f,R=r.x,E=r.y,P=r.z;return i[0]=(1-(b+g))*R,i[1]=(m+C)*R,i[2]=(v-w)*R,i[3]=0,i[4]=(m-C)*E,i[5]=(1-(p+g))*E,i[6]=(y+x)*E,i[7]=0,i[8]=(v+w)*P,i[9]=(y-x)*P,i[10]=(1-(p+b))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=od.set(i[0],i[1],i[2]).length();const a=od.set(i[4],i[5],i[6]).length(),s=od.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],ts.copy(this);const u=1/o,c=1/a,f=1/s;return ts.elements[0]*=u,ts.elements[1]*=u,ts.elements[2]*=u,ts.elements[4]*=c,ts.elements[5]*=c,ts.elements[6]*=c,ts.elements[8]*=f,ts.elements[9]*=f,ts.elements[10]*=f,n.setFromRotationMatrix(ts),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=Bs){const l=this.elements,u=2*o/(n-e),c=2*o/(r-i),f=(n+e)/(n-e),p=(r+i)/(r-i);let m,v;if(s===Bs)m=-(a+o)/(a-o),v=-2*a*o/(a-o);else if(s===Og)m=-a/(a-o),v=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=Bs){const l=this.elements,u=1/(n-e),c=1/(r-i),f=1/(a-o),p=(n+e)*u,m=(r+i)*c;let v,b;if(s===Bs)v=(a+o)*f,b=-2*f;else if(s===Og)v=o*f,b=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=b,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const od=new de,ts=new yn,Cee=new de(0,0,0),Mee=new de(1,1,1),Jl=new de,a0=new de,ta=new de,U4=new yn,z4=new Pi;class ma{constructor(e=0,n=0,r=0,i=ma.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Gr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Gr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Gr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Gr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Gr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,m));break;case"XZY":this._z=Math.asin(-Gr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return U4.makeRotationFromQuaternion(e),this.setFromRotationMatrix(U4,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return z4.setFromEuler(this),this.setFromQuaternion(z4,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ma.DEFAULT_ORDER="XYZ";class nf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Tee=0;const B4=new de,ad=new Pi,sl=new yn,s0=new de,Lp=new de,Pee=new de,Ree=new Pi,H4=new de(1,0,0),V4=new de(0,1,0),j4=new de(0,0,1),Aee={type:"added"},Iee={type:"removed"},WS={type:"childadded",child:null},$S={type:"childremoved",child:null};class Zn extends Xs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Tee++}),this.uuid=da(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zn.DEFAULT_UP.clone();const e=new de,n=new ma,r=new Pi,i=new de(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new yn},normalMatrix:{value:new Tn}}),this.matrix=new yn,this.matrixWorld=new yn,this.matrixAutoUpdate=Zn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new nf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ad.setFromAxisAngle(e,n),this.quaternion.multiply(ad),this}rotateOnWorldAxis(e,n){return ad.setFromAxisAngle(e,n),this.quaternion.premultiply(ad),this}rotateX(e){return this.rotateOnAxis(H4,e)}rotateY(e){return this.rotateOnAxis(V4,e)}rotateZ(e){return this.rotateOnAxis(j4,e)}translateOnAxis(e,n){return B4.copy(e).applyQuaternion(this.quaternion),this.position.add(B4.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(H4,e)}translateY(e){return this.translateOnAxis(V4,e)}translateZ(e){return this.translateOnAxis(j4,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(sl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?s0.copy(e):s0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Lp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sl.lookAt(Lp,s0,this.up):sl.lookAt(s0,Lp,this.up),this.quaternion.setFromRotationMatrix(sl),i&&(sl.extractRotation(i.matrixWorld),ad.setFromRotationMatrix(sl),this.quaternion.premultiply(ad.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Aee),WS.child=e,this.dispatchEvent(WS),WS.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Iee),$S.child=e,this.dispatchEvent($S),$S.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),sl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),sl.multiply(e.parent.matrixWorld)),e.applyMatrix4(sl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lp,e,Pee),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lp,Ree,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++){const s=i[o];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),u=a(e.textures),c=a(e.images),f=a(e.shapes),p=a(e.skeletons),m=a(e.animations),v=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function a(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Zn.DEFAULT_UP=new de(0,1,0);Zn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ns=new de,ll=new de,KS=new de,ul=new de,sd=new de,ld=new de,G4=new de,XS=new de,qS=new de,YS=new de;class sa{constructor(e=new de,n=new de,r=new de){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ns.subVectors(e,n),i.cross(ns);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){ns.subVectors(i,n),ll.subVectors(r,n),KS.subVectors(e,n);const a=ns.dot(ns),s=ns.dot(ll),l=ns.dot(KS),u=ll.dot(ll),c=ll.dot(KS),f=a*u-s*s;if(f===0)return o.set(0,0,0),null;const p=1/f,m=(u*l-s*c)*p,v=(a*c-s*l)*p;return o.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ul)===null?!1:ul.x>=0&&ul.y>=0&&ul.x+ul.y<=1}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,ul)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,ul.x),l.addScaledVector(a,ul.y),l.addScaledVector(s,ul.z),l)}static isFrontFacing(e,n,r,i){return ns.subVectors(r,n),ll.subVectors(e,n),ns.cross(ll).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ns.subVectors(this.c,this.b),ll.subVectors(this.a,this.b),ns.cross(ll).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return sa.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return sa.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return sa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;sd.subVectors(i,r),ld.subVectors(o,r),XS.subVectors(e,r);const l=sd.dot(XS),u=ld.dot(XS);if(l<=0&&u<=0)return n.copy(r);qS.subVectors(e,i);const c=sd.dot(qS),f=ld.dot(qS);if(c>=0&&f<=c)return n.copy(i);const p=l*f-c*u;if(p<=0&&l>=0&&c<=0)return a=l/(l-c),n.copy(r).addScaledVector(sd,a);YS.subVectors(e,o);const m=sd.dot(YS),v=ld.dot(YS);if(v>=0&&m<=v)return n.copy(o);const b=m*u-l*v;if(b<=0&&u>=0&&v<=0)return s=u/(u-v),n.copy(r).addScaledVector(ld,s);const y=c*v-m*f;if(y<=0&&f-c>=0&&m-v>=0)return G4.subVectors(o,i),s=(f-c)/(f-c+(m-v)),n.copy(i).addScaledVector(G4,s);const g=1/(y+b+p);return a=b*g,s=p*g,n.copy(r).addScaledVector(sd,a).addScaledVector(ld,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const R8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ql={h:0,s:0,l:0},l0={h:0,s:0,l:0};function ZS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class $t{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ka){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ir.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=ir.workingColorSpace){return this.r=e,this.g=n,this.b=r,ir.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=ir.workingColorSpace){if(e=mT(e,1),n=Gr(n,0,1),r=Gr(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=ZS(a,o,e+1/3),this.g=ZS(a,o,e),this.b=ZS(a,o,e-1/3)}return ir.toWorkingColorSpace(this,i),this}setStyle(e,n=ka){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ka){const r=R8[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=hh(e.r),this.g=hh(e.g),this.b=hh(e.b),this}copyLinearToSRGB(e){return this.r=FS(e.r),this.g=FS(e.g),this.b=FS(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ka){return ir.fromWorkingColorSpace(Zi.copy(this),e),Math.round(Gr(Zi.r*255,0,255))*65536+Math.round(Gr(Zi.g*255,0,255))*256+Math.round(Gr(Zi.b*255,0,255))}getHexString(e=ka){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ir.workingColorSpace){ir.fromWorkingColorSpace(Zi.copy(this),n);const r=Zi.r,i=Zi.g,o=Zi.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,u;const c=(s+a)/2;if(s===a)l=0,u=0;else{const f=a-s;switch(u=c<=.5?f/(a+s):f/(2-a-s),a){case r:l=(i-o)/f+(i<o?6:0);break;case i:l=(o-r)/f+2;break;case o:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=ir.workingColorSpace){return ir.fromWorkingColorSpace(Zi.copy(this),n),e.r=Zi.r,e.g=Zi.g,e.b=Zi.b,e}getStyle(e=ka){ir.fromWorkingColorSpace(Zi.copy(this),e);const n=Zi.r,r=Zi.g,i=Zi.b;return e!==ka?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ql),this.setHSL(Ql.h+e,Ql.s+n,Ql.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ql),e.getHSL(l0);const r=Mm(Ql.h,l0.h,n),i=Mm(Ql.s,l0.s,n),o=Mm(Ql.l,l0.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Zi=new $t;$t.NAMES=R8;let Oee=0;class Bi extends Xs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Oee++}),this.uuid=da(),this.name="",this.type="Material",this.blending=ef,this.side=Ol,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Px,this.blendDst=Rx,this.blendEquation=du,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new $t(0,0,0),this.blendAlpha=0,this.depthFunc=wg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=W2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Tc,this.stencilZFail=Tc,this.stencilZPass=Tc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ef&&(r.blending=this.blending),this.side!==Ol&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Px&&(r.blendSrc=this.blendSrc),this.blendDst!==Rx&&(r.blendDst=this.blendDst),this.blendEquation!==du&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==wg&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==W2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Tc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Tc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Tc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class $u extends Bi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new $t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ma,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const vl=Dee();function Dee(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,o[l]=u|c}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function zo(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Gr(t,-65504,65504),vl.floatView[0]=t;const e=vl.uint32View[0],n=e>>23&511;return vl.baseTable[n]+((e&8388607)>>vl.shiftTable[n])}function em(t){const e=t>>10;return vl.uint32View[0]=vl.mantissaTable[vl.offsetTable[e]+(t&1023)]+vl.exponentTable[e],vl.floatView[0]}const Gc={toHalfFloat:zo,fromHalfFloat:em},ti=new de,u0=new vt;class sr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Ig,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=oi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return T8("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)u0.fromBufferAttribute(this,n),u0.applyMatrix3(e),this.setXY(n,u0.x,u0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.applyMatrix3(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.applyMatrix4(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.applyNormalMatrix(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.transformDirection(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Eo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Pn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Eo(n,this.array)),n}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Eo(n,this.array)),n}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Eo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Eo(n,this.array)),n}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),o=Pn(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ig&&(e.usage=this.usage),e}}class kee extends sr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Lee extends sr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Nee extends sr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Fee extends sr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class xT extends sr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Uee extends sr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class bT extends sr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class zee extends sr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=em(this.array[e*this.itemSize]);return this.normalized&&(n=Eo(n,this.array)),n}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize]=zo(n),this}getY(e){let n=em(this.array[e*this.itemSize+1]);return this.normalized&&(n=Eo(n,this.array)),n}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+1]=zo(n),this}getZ(e){let n=em(this.array[e*this.itemSize+2]);return this.normalized&&(n=Eo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+2]=zo(n),this}getW(e){let n=em(this.array[e*this.itemSize+3]);return this.normalized&&(n=Eo(n,this.array)),n}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+3]=zo(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.array[e+0]=zo(n),this.array[e+1]=zo(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.array[e+0]=zo(n),this.array[e+1]=zo(r),this.array[e+2]=zo(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),o=Pn(o,this.array)),this.array[e+0]=zo(n),this.array[e+1]=zo(r),this.array[e+2]=zo(i),this.array[e+3]=zo(o),this}}class tn extends sr{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Bee=0;const Ia=new yn,JS=new Zn,ud=new de,na=new Ri,Np=new Ri,wi=new de;class On extends Xs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Bee++}),this.uuid=da(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(C8(e)?bT:xT)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Tn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ia.makeRotationFromQuaternion(e),this.applyMatrix4(Ia),this}rotateX(e){return Ia.makeRotationX(e),this.applyMatrix4(Ia),this}rotateY(e){return Ia.makeRotationY(e),this.applyMatrix4(Ia),this}rotateZ(e){return Ia.makeRotationZ(e),this.applyMatrix4(Ia),this}translate(e,n,r){return Ia.makeTranslation(e,n,r),this.applyMatrix4(Ia),this}scale(e,n,r){return Ia.makeScale(e,n,r),this.applyMatrix4(Ia),this}lookAt(e){return JS.lookAt(e),JS.updateMatrix(),this.applyMatrix4(JS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ud).negate(),this.translate(ud.x,ud.y,ud.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new tn(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ri);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new de(-1/0,-1/0,-1/0),new de(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];na.setFromBufferAttribute(o),this.morphTargetsRelative?(wi.addVectors(this.boundingBox.min,na.min),this.boundingBox.expandByPoint(wi),wi.addVectors(this.boundingBox.max,na.max),this.boundingBox.expandByPoint(wi)):(this.boundingBox.expandByPoint(na.min),this.boundingBox.expandByPoint(na.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ai);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new de,1/0);return}if(e){const r=this.boundingSphere.center;if(na.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];Np.setFromBufferAttribute(s),this.morphTargetsRelative?(wi.addVectors(na.min,Np.min),na.expandByPoint(wi),wi.addVectors(na.max,Np.max),na.expandByPoint(wi)):(na.expandByPoint(Np.min),na.expandByPoint(Np.max))}na.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)wi.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(wi));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)wi.fromBufferAttribute(s,u),l&&(ud.fromBufferAttribute(e,u),wi.add(ud)),i=Math.max(i,r.distanceToSquared(wi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new sr(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let D=0;D<r.count;D++)s[D]=new de,l[D]=new de;const u=new de,c=new de,f=new de,p=new vt,m=new vt,v=new vt,b=new de,y=new de;function g(D,L,M){u.fromBufferAttribute(r,D),c.fromBufferAttribute(r,L),f.fromBufferAttribute(r,M),p.fromBufferAttribute(o,D),m.fromBufferAttribute(o,L),v.fromBufferAttribute(o,M),c.sub(u),f.sub(u),m.sub(p),v.sub(p);const I=1/(m.x*v.y-v.x*m.y);isFinite(I)&&(b.copy(c).multiplyScalar(v.y).addScaledVector(f,-m.y).multiplyScalar(I),y.copy(f).multiplyScalar(m.x).addScaledVector(c,-v.x).multiplyScalar(I),s[D].add(b),s[L].add(b),s[M].add(b),l[D].add(y),l[L].add(y),l[M].add(y))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let D=0,L=x.length;D<L;++D){const M=x[D],I=M.start,V=M.count;for(let Z=I,j=I+V;Z<j;Z+=3)g(e.getX(Z+0),e.getX(Z+1),e.getX(Z+2))}const w=new de,C=new de,R=new de,E=new de;function P(D){R.fromBufferAttribute(i,D),E.copy(R);const L=s[D];w.copy(L),w.sub(R.multiplyScalar(R.dot(L))).normalize(),C.crossVectors(E,L);const I=C.dot(l[D])<0?-1:1;a.setXYZW(D,w.x,w.y,w.z,I)}for(let D=0,L=x.length;D<L;++D){const M=x[D],I=M.start,V=M.count;for(let Z=I,j=I+V;Z<j;Z+=3)P(e.getX(Z+0)),P(e.getX(Z+1)),P(e.getX(Z+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new sr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new de,o=new de,a=new de,s=new de,l=new de,u=new de,c=new de,f=new de;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),b=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(n,v),o.fromBufferAttribute(n,b),a.fromBufferAttribute(n,y),c.subVectors(a,o),f.subVectors(i,o),c.cross(f),s.fromBufferAttribute(r,v),l.fromBufferAttribute(r,b),u.fromBufferAttribute(r,y),s.add(c),l.add(c),u.add(c),r.setXYZ(v,s.x,s.y,s.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),o.fromBufferAttribute(n,p+1),a.fromBufferAttribute(n,p+2),c.subVectors(a,o),f.subVectors(i,o),c.cross(f),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)wi.fromBufferAttribute(e,n),wi.normalize(),e.setXYZ(n,wi.x,wi.y,wi.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,f=s.normalized,p=new u.constructor(l.length*c);let m=0,v=0;for(let b=0,y=l.length;b<y;b++){s.isInterleavedBufferAttribute?m=l[b]*s.data.stride+s.offset:m=l[b]*c;for(let g=0;g<c;g++)p[v++]=u[m++]}return new sr(p,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new On,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const o=this.morphAttributes;for(const s in o){const l=[],u=o[s];for(let c=0,f=u.length;c<f;c++){const p=u[c],m=e(p,r);l.push(m)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const u=a[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,p=u.length;f<p;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const o=e.morphAttributes;for(const u in o){const c=[],f=o[u];for(let p=0,m=f.length;p<m;p++)c.push(f[p].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,c=a.length;u<c;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const W4=new yn,cc=new Ef,c0=new Ai,$4=new de,cd=new de,fd=new de,dd=new de,QS=new de,f0=new de,d0=new vt,h0=new vt,p0=new vt,K4=new de,X4=new de,q4=new de,m0=new de,g0=new de;class Wr extends Zn{constructor(e=new On,n=new $u){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){f0.set(0,0,0);for(let l=0,u=o.length;l<u;l++){const c=s[l],f=o[l];c!==0&&(QS.fromBufferAttribute(f,e),a?f0.addScaledVector(QS,c):f0.addScaledVector(QS.sub(n),c))}n.add(f0)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),c0.copy(r.boundingSphere),c0.applyMatrix4(o),cc.copy(e.ray).recast(e.near),!(c0.containsPoint(cc.origin)===!1&&(cc.intersectSphere(c0,$4)===null||cc.origin.distanceToSquared($4)>(e.far-e.near)**2))&&(W4.copy(o).invert(),cc.copy(e.ray).applyMatrix4(W4),!(r.boundingBox!==null&&cc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,cc)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,u=o.attributes.uv,c=o.attributes.uv1,f=o.attributes.normal,p=o.groups,m=o.drawRange;if(s!==null)if(Array.isArray(a))for(let v=0,b=p.length;v<b;v++){const y=p[v],g=a[y.materialIndex],x=Math.max(y.start,m.start),w=Math.min(s.count,Math.min(y.start+y.count,m.start+m.count));for(let C=x,R=w;C<R;C+=3){const E=s.getX(C),P=s.getX(C+1),D=s.getX(C+2);i=v0(this,g,e,r,u,c,f,E,P,D),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),b=Math.min(s.count,m.start+m.count);for(let y=v,g=b;y<g;y+=3){const x=s.getX(y),w=s.getX(y+1),C=s.getX(y+2);i=v0(this,a,e,r,u,c,f,x,w,C),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,b=p.length;v<b;v++){const y=p[v],g=a[y.materialIndex],x=Math.max(y.start,m.start),w=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let C=x,R=w;C<R;C+=3){const E=C,P=C+1,D=C+2;i=v0(this,g,e,r,u,c,f,E,P,D),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),b=Math.min(l.count,m.start+m.count);for(let y=v,g=b;y<g;y+=3){const x=y,w=y+1,C=y+2;i=v0(this,a,e,r,u,c,f,x,w,C),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function Hee(t,e,n,r,i,o,a,s){let l;if(e.side===lo?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===Ol,s),l===null)return null;g0.copy(s),g0.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(g0);return u<n.near||u>n.far?null:{distance:u,point:g0.clone(),object:t}}function v0(t,e,n,r,i,o,a,s,l,u){t.getVertexPosition(s,cd),t.getVertexPosition(l,fd),t.getVertexPosition(u,dd);const c=Hee(t,e,n,r,cd,fd,dd,m0);if(c){i&&(d0.fromBufferAttribute(i,s),h0.fromBufferAttribute(i,l),p0.fromBufferAttribute(i,u),c.uv=sa.getInterpolation(m0,cd,fd,dd,d0,h0,p0,new vt)),o&&(d0.fromBufferAttribute(o,s),h0.fromBufferAttribute(o,l),p0.fromBufferAttribute(o,u),c.uv1=sa.getInterpolation(m0,cd,fd,dd,d0,h0,p0,new vt)),a&&(K4.fromBufferAttribute(a,s),X4.fromBufferAttribute(a,l),q4.fromBufferAttribute(a,u),c.normal=sa.getInterpolation(m0,cd,fd,dd,K4,X4,q4,new de),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a:s,b:l,c:u,normal:new de,materialIndex:0};sa.getNormal(cd,fd,dd,f.normal),c.face=f}return c}class Cf extends On{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],u=[],c=[],f=[];let p=0,m=0;v("z","y","x",-1,-1,r,n,e,a,o,0),v("z","y","x",1,-1,r,n,-e,a,o,1),v("x","z","y",1,1,e,r,n,i,a,2),v("x","z","y",1,-1,e,r,-n,i,a,3),v("x","y","z",1,-1,e,n,r,i,o,4),v("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new tn(u,3)),this.setAttribute("normal",new tn(c,3)),this.setAttribute("uv",new tn(f,2));function v(b,y,g,x,w,C,R,E,P,D,L){const M=C/P,I=R/D,V=C/2,Z=R/2,j=E/2,fe=P+1,ye=D+1;let ve=0,X=0;const ne=new de;for(let F=0;F<ye;F++){const ce=F*I-Z;for(let se=0;se<fe;se++){const K=se*M-V;ne[b]=K*x,ne[y]=ce*w,ne[g]=j,u.push(ne.x,ne.y,ne.z),ne[b]=0,ne[y]=0,ne[g]=E>0?1:-1,c.push(ne.x,ne.y,ne.z),f.push(se/P),f.push(1-F/D),ve+=1}}for(let F=0;F<D;F++)for(let ce=0;ce<P;ce++){const se=p+ce+fe*F,K=p+ce+fe*(F+1),ge=p+(ce+1)+fe*(F+1),ze=p+(ce+1)+fe*F;l.push(se,K,ze),l.push(K,ge,ze),X+=6}s.addGroup(m,X,L),m+=X,p+=ve}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ph(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function xo(t){const e={};for(let n=0;n<t.length;n++){const r=Ph(t[n]);for(const i in r)e[i]=r[i]}return e}function Vee(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function A8(t){return t.getRenderTarget()===null?t.outputColorSpace:ir.workingColorSpace}const kg={clone:Ph,merge:xo};var jee=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Gee=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ko extends Bi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jee,this.fragmentShader=Gee,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ph(e.uniforms),this.uniformsGroups=Vee(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class hv extends Zn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new yn,this.projectionMatrix=new yn,this.projectionMatrixInverse=new yn,this.coordinateSystem=Bs}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const eu=new de,Y4=new vt,Z4=new vt;class Mr extends hv{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Th*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(tf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Th*2*Math.atan(Math.tan(tf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){eu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(eu.x,eu.y).multiplyScalar(-e/eu.z),eu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(eu.x,eu.y).multiplyScalar(-e/eu.z)}getViewSize(e,n){return this.getViewBounds(e,Y4,Z4),n.subVectors(Z4,Y4)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(tf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const hd=-90,pd=1;class I8 extends Zn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Mr(hd,pd,e,n);i.layers=this.layers,this.add(i);const o=new Mr(hd,pd,e,n);o.layers=this.layers,this.add(o);const a=new Mr(hd,pd,e,n);a.layers=this.layers,this.add(a);const s=new Mr(hd,pd,e,n);s.layers=this.layers,this.add(s);const l=new Mr(hd,pd,e,n);l.layers=this.layers,this.add(l);const u=new Mr(hd,pd,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const u of n)this.remove(u);if(e===Bs)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Og)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,u,c]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(f,p,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class pv extends Pr{constructor(e,n,r,i,o,a,s,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:$s,super(e,n,r,i,o,a,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class wT extends Wa{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new pv(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:or}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Cf(5,5,5),o=new Ko({name:"CubemapFromEquirect",uniforms:Ph(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:lo,blending:Ml});o.uniforms.tEquirect.value=n;const a=new Wr(i,o),s=n.minFilter;return n.minFilter===zs&&(n.minFilter=or),new I8(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const e_=new de,Wee=new de,$ee=new Tn;class Ds{constructor(e=new de(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=e_.subVectors(r,n).cross(Wee.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(e_),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||$ee.getNormalMatrix(e),i=this.coplanarPoint(e_).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const fc=new Ai,y0=new de;class mv{constructor(e=new Ds,n=new Ds,r=new Ds,i=new Ds,o=new Ds,a=new Ds){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Bs){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=i[5],f=i[6],p=i[7],m=i[8],v=i[9],b=i[10],y=i[11],g=i[12],x=i[13],w=i[14],C=i[15];if(r[0].setComponents(l-o,p-u,y-m,C-g).normalize(),r[1].setComponents(l+o,p+u,y+m,C+g).normalize(),r[2].setComponents(l+a,p+c,y+v,C+x).normalize(),r[3].setComponents(l-a,p-c,y-v,C-x).normalize(),r[4].setComponents(l-s,p-f,y-b,C-w).normalize(),n===Bs)r[5].setComponents(l+s,p+f,y+b,C+w).normalize();else if(n===Og)r[5].setComponents(s,f,b,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),fc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),fc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(fc)}intersectsSprite(e){return fc.center.set(0,0,0),fc.radius=.7071067811865476,fc.applyMatrix4(e.matrixWorld),this.intersectsSphere(fc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(y0.x=i.normal.x>0?e.max.x:e.min.x,y0.y=i.normal.y>0?e.max.y:e.min.y,y0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(y0)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function O8(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Kee(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,p=u.usage,m=f.byteLength,v=t.createBuffer();t.bindBuffer(c,v),t.bufferData(c,f,p),u.onUploadCallback();let b;if(f instanceof Float32Array)b=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)b=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else b=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)b=t.SHORT;else if(f instanceof Uint32Array)b=t.UNSIGNED_INT;else if(f instanceof Int32Array)b=t.INT;else if(f instanceof Int8Array)b=t.BYTE;else if(f instanceof Uint8Array)b=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)b=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:v,type:b,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version,size:m}}function o(u,c,f){const p=c.array,m=c._updateRange,v=c.updateRanges;if(t.bindBuffer(f,u),m.count===-1&&v.length===0&&t.bufferSubData(f,0,p),v.length!==0){for(let b=0,y=v.length;b<y;b++){const g=v[b];n?t.bufferSubData(f,g.start*p.BYTES_PER_ELEMENT,p,g.start,g.count):t.bufferSubData(f,g.start*p.BYTES_PER_ELEMENT,p.subarray(g.start,g.start+g.count))}c.clearUpdateRanges()}m.count!==-1&&(n?t.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),c.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);if(f===void 0)r.set(u,i(u,c));else if(f.version<u.version){if(f.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(f.buffer,u,c),f.version=u.version}}return{get:a,remove:s,update:l}}class Hh extends On{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,f=e/s,p=n/l,m=[],v=[],b=[],y=[];for(let g=0;g<c;g++){const x=g*p-a;for(let w=0;w<u;w++){const C=w*f-o;v.push(C,-x,0),b.push(0,0,1),y.push(w/s),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<s;x++){const w=x+u*g,C=x+u*(g+1),R=x+1+u*(g+1),E=x+1+u*g;m.push(w,C,E),m.push(C,R,E)}this.setIndex(m),this.setAttribute("position",new tn(v,3)),this.setAttribute("normal",new tn(b,3)),this.setAttribute("uv",new tn(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hh(e.width,e.height,e.widthSegments,e.heightSegments)}}var Xee=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,qee=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Yee=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Zee=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Jee=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Qee=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ete=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,tte=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,nte=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,rte=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,ite=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ote=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ate=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,ste=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,lte=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ute=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,cte=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,fte=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,dte=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hte=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,pte=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,mte=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,gte=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,vte=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,yte=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,xte=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,bte=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,wte=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Ste=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_te=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Ete="gl_FragColor = linearToOutputTexel( gl_FragColor );",Cte=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Mte=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Tte=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Pte=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Rte=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Ate=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Ite=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Ote=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Dte=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,kte=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Lte=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Nte=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Fte=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ute=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,zte=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Bte=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Hte=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Vte=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,jte=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Gte=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Wte=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,$te=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Kte=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Xte=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,qte=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Yte=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Zte=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Jte=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Qte=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,ene=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,tne=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,nne=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,rne=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ine=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,one=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ane=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,sne=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,lne=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,une=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,cne=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,fne=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,dne=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,hne=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,pne=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,mne=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gne=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,vne=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,yne=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,xne=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,bne=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,wne=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Sne=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_ne=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Ene=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Cne=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Mne=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Tne=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Pne=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Rne=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ane=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Ine=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,One=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Dne=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,kne=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Lne=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Nne=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Fne=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Une=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,zne=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Bne=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Hne=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Vne=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,jne=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Gne=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Wne=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,$ne=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Kne=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Xne=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,qne=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Yne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Zne=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Jne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Qne=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ere=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,tre=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,nre=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,rre=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ire=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ore=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,are=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sre=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,lre=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ure=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cre=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fre=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dre=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,hre=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pre=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,mre=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,gre=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vre=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yre=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,xre=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bre=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wre=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sre=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,_re=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ere=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cre=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mre=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Tre=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,In={alphahash_fragment:Xee,alphahash_pars_fragment:qee,alphamap_fragment:Yee,alphamap_pars_fragment:Zee,alphatest_fragment:Jee,alphatest_pars_fragment:Qee,aomap_fragment:ete,aomap_pars_fragment:tte,batching_pars_vertex:nte,batching_vertex:rte,begin_vertex:ite,beginnormal_vertex:ote,bsdfs:ate,iridescence_fragment:ste,bumpmap_pars_fragment:lte,clipping_planes_fragment:ute,clipping_planes_pars_fragment:cte,clipping_planes_pars_vertex:fte,clipping_planes_vertex:dte,color_fragment:hte,color_pars_fragment:pte,color_pars_vertex:mte,color_vertex:gte,common:vte,cube_uv_reflection_fragment:yte,defaultnormal_vertex:xte,displacementmap_pars_vertex:bte,displacementmap_vertex:wte,emissivemap_fragment:Ste,emissivemap_pars_fragment:_te,colorspace_fragment:Ete,colorspace_pars_fragment:Cte,envmap_fragment:Mte,envmap_common_pars_fragment:Tte,envmap_pars_fragment:Pte,envmap_pars_vertex:Rte,envmap_physical_pars_fragment:Hte,envmap_vertex:Ate,fog_vertex:Ite,fog_pars_vertex:Ote,fog_fragment:Dte,fog_pars_fragment:kte,gradientmap_pars_fragment:Lte,lightmap_fragment:Nte,lightmap_pars_fragment:Fte,lights_lambert_fragment:Ute,lights_lambert_pars_fragment:zte,lights_pars_begin:Bte,lights_toon_fragment:Vte,lights_toon_pars_fragment:jte,lights_phong_fragment:Gte,lights_phong_pars_fragment:Wte,lights_physical_fragment:$te,lights_physical_pars_fragment:Kte,lights_fragment_begin:Xte,lights_fragment_maps:qte,lights_fragment_end:Yte,logdepthbuf_fragment:Zte,logdepthbuf_pars_fragment:Jte,logdepthbuf_pars_vertex:Qte,logdepthbuf_vertex:ene,map_fragment:tne,map_pars_fragment:nne,map_particle_fragment:rne,map_particle_pars_fragment:ine,metalnessmap_fragment:one,metalnessmap_pars_fragment:ane,morphinstance_vertex:sne,morphcolor_vertex:lne,morphnormal_vertex:une,morphtarget_pars_vertex:cne,morphtarget_vertex:fne,normal_fragment_begin:dne,normal_fragment_maps:hne,normal_pars_fragment:pne,normal_pars_vertex:mne,normal_vertex:gne,normalmap_pars_fragment:vne,clearcoat_normal_fragment_begin:yne,clearcoat_normal_fragment_maps:xne,clearcoat_pars_fragment:bne,iridescence_pars_fragment:wne,opaque_fragment:Sne,packing:_ne,premultiplied_alpha_fragment:Ene,project_vertex:Cne,dithering_fragment:Mne,dithering_pars_fragment:Tne,roughnessmap_fragment:Pne,roughnessmap_pars_fragment:Rne,shadowmap_pars_fragment:Ane,shadowmap_pars_vertex:Ine,shadowmap_vertex:One,shadowmask_pars_fragment:Dne,skinbase_vertex:kne,skinning_pars_vertex:Lne,skinning_vertex:Nne,skinnormal_vertex:Fne,specularmap_fragment:Une,specularmap_pars_fragment:zne,tonemapping_fragment:Bne,tonemapping_pars_fragment:Hne,transmission_fragment:Vne,transmission_pars_fragment:jne,uv_pars_fragment:Gne,uv_pars_vertex:Wne,uv_vertex:$ne,worldpos_vertex:Kne,background_vert:Xne,background_frag:qne,backgroundCube_vert:Yne,backgroundCube_frag:Zne,cube_vert:Jne,cube_frag:Qne,depth_vert:ere,depth_frag:tre,distanceRGBA_vert:nre,distanceRGBA_frag:rre,equirect_vert:ire,equirect_frag:ore,linedashed_vert:are,linedashed_frag:sre,meshbasic_vert:lre,meshbasic_frag:ure,meshlambert_vert:cre,meshlambert_frag:fre,meshmatcap_vert:dre,meshmatcap_frag:hre,meshnormal_vert:pre,meshnormal_frag:mre,meshphong_vert:gre,meshphong_frag:vre,meshphysical_vert:yre,meshphysical_frag:xre,meshtoon_vert:bre,meshtoon_frag:wre,points_vert:Sre,points_frag:_re,shadow_vert:Ere,shadow_frag:Cre,sprite_vert:Mre,sprite_frag:Tre},Bt={common:{diffuse:{value:new $t(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Tn},alphaMap:{value:null},alphaMapTransform:{value:new Tn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Tn}},envmap:{envMap:{value:null},envMapRotation:{value:new Tn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Tn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Tn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Tn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Tn},normalScale:{value:new vt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Tn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Tn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Tn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Tn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new $t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Tn},alphaTest:{value:0},uvTransform:{value:new Tn}},sprite:{diffuse:{value:new $t(16777215)},opacity:{value:1},center:{value:new vt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Tn},alphaMap:{value:null},alphaMapTransform:{value:new Tn},alphaTest:{value:0}}},fs={basic:{uniforms:xo([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.fog]),vertexShader:In.meshbasic_vert,fragmentShader:In.meshbasic_frag},lambert:{uniforms:xo([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,Bt.lights,{emissive:{value:new $t(0)}}]),vertexShader:In.meshlambert_vert,fragmentShader:In.meshlambert_frag},phong:{uniforms:xo([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,Bt.lights,{emissive:{value:new $t(0)},specular:{value:new $t(1118481)},shininess:{value:30}}]),vertexShader:In.meshphong_vert,fragmentShader:In.meshphong_frag},standard:{uniforms:xo([Bt.common,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.roughnessmap,Bt.metalnessmap,Bt.fog,Bt.lights,{emissive:{value:new $t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:In.meshphysical_vert,fragmentShader:In.meshphysical_frag},toon:{uniforms:xo([Bt.common,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.gradientmap,Bt.fog,Bt.lights,{emissive:{value:new $t(0)}}]),vertexShader:In.meshtoon_vert,fragmentShader:In.meshtoon_frag},matcap:{uniforms:xo([Bt.common,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,{matcap:{value:null}}]),vertexShader:In.meshmatcap_vert,fragmentShader:In.meshmatcap_frag},points:{uniforms:xo([Bt.points,Bt.fog]),vertexShader:In.points_vert,fragmentShader:In.points_frag},dashed:{uniforms:xo([Bt.common,Bt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:In.linedashed_vert,fragmentShader:In.linedashed_frag},depth:{uniforms:xo([Bt.common,Bt.displacementmap]),vertexShader:In.depth_vert,fragmentShader:In.depth_frag},normal:{uniforms:xo([Bt.common,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,{opacity:{value:1}}]),vertexShader:In.meshnormal_vert,fragmentShader:In.meshnormal_frag},sprite:{uniforms:xo([Bt.sprite,Bt.fog]),vertexShader:In.sprite_vert,fragmentShader:In.sprite_frag},background:{uniforms:{uvTransform:{value:new Tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:In.background_vert,fragmentShader:In.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Tn}},vertexShader:In.backgroundCube_vert,fragmentShader:In.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:In.cube_vert,fragmentShader:In.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:In.equirect_vert,fragmentShader:In.equirect_frag},distanceRGBA:{uniforms:xo([Bt.common,Bt.displacementmap,{referencePosition:{value:new de},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:In.distanceRGBA_vert,fragmentShader:In.distanceRGBA_frag},shadow:{uniforms:xo([Bt.lights,Bt.fog,{color:{value:new $t(0)},opacity:{value:1}}]),vertexShader:In.shadow_vert,fragmentShader:In.shadow_frag}};fs.physical={uniforms:xo([fs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Tn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Tn},clearcoatNormalScale:{value:new vt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Tn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Tn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Tn},sheen:{value:0},sheenColor:{value:new $t(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Tn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Tn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Tn},transmissionSamplerSize:{value:new vt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Tn},attenuationDistance:{value:0},attenuationColor:{value:new $t(0)},specularColor:{value:new $t(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Tn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Tn},anisotropyVector:{value:new vt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Tn}}]),vertexShader:In.meshphysical_vert,fragmentShader:In.meshphysical_frag};const x0={r:0,b:0,g:0},dc=new ma,Pre=new yn;function Rre(t,e,n,r,i,o,a){const s=new $t(0);let l=o===!0?0:1,u,c,f=null,p=0,m=null;function v(y,g){let x=!1,w=g.isScene===!0?g.background:null;w&&w.isTexture&&(w=(g.backgroundBlurriness>0?n:e).get(w)),w===null?b(s,l):w&&w.isColor&&(b(w,1),x=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,a):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===Bh)?(c===void 0&&(c=new Wr(new Cf(1,1,1),new Ko({name:"BackgroundCubeMaterial",uniforms:Ph(fs.backgroundCube.uniforms),vertexShader:fs.backgroundCube.vertexShader,fragmentShader:fs.backgroundCube.fragmentShader,side:lo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(R,E,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),dc.copy(g.backgroundRotation),dc.x*=-1,dc.y*=-1,dc.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(dc.y*=-1,dc.z*=-1),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(Pre.makeRotationFromEuler(dc)),c.material.toneMapped=ir.getTransfer(w.colorSpace)!==dr,(f!==w||p!==w.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=w,p=w.version,m=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new Wr(new Hh(2,2),new Ko({name:"BackgroundMaterial",uniforms:Ph(fs.background.uniforms),vertexShader:fs.background.vertexShader,fragmentShader:fs.background.fragmentShader,side:Ol,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=ir.getTransfer(w.colorSpace)!==dr,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||p!==w.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=w,p=w.version,m=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function b(y,g){y.getRGB(x0,A8(t)),r.buffers.color.setClear(x0.r,x0.g,x0.b,g,a)}return{getClearColor:function(){return s},setClearColor:function(y,g=1){s.set(y),l=g,b(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,b(s,l)},render:v}}function Are(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},l=y(null);let u=l,c=!1;function f(j,fe,ye,ve,X){let ne=!1;if(a){const F=b(ve,ye,fe);u!==F&&(u=F,m(u.object)),ne=g(j,ve,ye,X),ne&&x(j,ve,ye,X)}else{const F=fe.wireframe===!0;(u.geometry!==ve.id||u.program!==ye.id||u.wireframe!==F)&&(u.geometry=ve.id,u.program=ye.id,u.wireframe=F,ne=!0)}X!==null&&n.update(X,t.ELEMENT_ARRAY_BUFFER),(ne||c)&&(c=!1,D(j,fe,ye,ve),X!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(X).buffer))}function p(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function m(j){return r.isWebGL2?t.bindVertexArray(j):o.bindVertexArrayOES(j)}function v(j){return r.isWebGL2?t.deleteVertexArray(j):o.deleteVertexArrayOES(j)}function b(j,fe,ye){const ve=ye.wireframe===!0;let X=s[j.id];X===void 0&&(X={},s[j.id]=X);let ne=X[fe.id];ne===void 0&&(ne={},X[fe.id]=ne);let F=ne[ve];return F===void 0&&(F=y(p()),ne[ve]=F),F}function y(j){const fe=[],ye=[],ve=[];for(let X=0;X<i;X++)fe[X]=0,ye[X]=0,ve[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:fe,enabledAttributes:ye,attributeDivisors:ve,object:j,attributes:{},index:null}}function g(j,fe,ye,ve){const X=u.attributes,ne=fe.attributes;let F=0;const ce=ye.getAttributes();for(const se in ce)if(ce[se].location>=0){const ge=X[se];let ze=ne[se];if(ze===void 0&&(se==="instanceMatrix"&&j.instanceMatrix&&(ze=j.instanceMatrix),se==="instanceColor"&&j.instanceColor&&(ze=j.instanceColor)),ge===void 0||ge.attribute!==ze||ze&&ge.data!==ze.data)return!0;F++}return u.attributesNum!==F||u.index!==ve}function x(j,fe,ye,ve){const X={},ne=fe.attributes;let F=0;const ce=ye.getAttributes();for(const se in ce)if(ce[se].location>=0){let ge=ne[se];ge===void 0&&(se==="instanceMatrix"&&j.instanceMatrix&&(ge=j.instanceMatrix),se==="instanceColor"&&j.instanceColor&&(ge=j.instanceColor));const ze={};ze.attribute=ge,ge&&ge.data&&(ze.data=ge.data),X[se]=ze,F++}u.attributes=X,u.attributesNum=F,u.index=ve}function w(){const j=u.newAttributes;for(let fe=0,ye=j.length;fe<ye;fe++)j[fe]=0}function C(j){R(j,0)}function R(j,fe){const ye=u.newAttributes,ve=u.enabledAttributes,X=u.attributeDivisors;ye[j]=1,ve[j]===0&&(t.enableVertexAttribArray(j),ve[j]=1),X[j]!==fe&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,fe),X[j]=fe)}function E(){const j=u.newAttributes,fe=u.enabledAttributes;for(let ye=0,ve=fe.length;ye<ve;ye++)fe[ye]!==j[ye]&&(t.disableVertexAttribArray(ye),fe[ye]=0)}function P(j,fe,ye,ve,X,ne,F){F===!0?t.vertexAttribIPointer(j,fe,ye,X,ne):t.vertexAttribPointer(j,fe,ye,ve,X,ne)}function D(j,fe,ye,ve){if(r.isWebGL2===!1&&(j.isInstancedMesh||ve.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const X=ve.attributes,ne=ye.getAttributes(),F=fe.defaultAttributeValues;for(const ce in ne){const se=ne[ce];if(se.location>=0){let K=X[ce];if(K===void 0&&(ce==="instanceMatrix"&&j.instanceMatrix&&(K=j.instanceMatrix),ce==="instanceColor"&&j.instanceColor&&(K=j.instanceColor)),K!==void 0){const ge=K.normalized,ze=K.itemSize,Be=n.get(K);if(Be===void 0)continue;const st=Be.buffer,it=Be.type,gt=Be.bytesPerElement,yt=r.isWebGL2===!0&&(it===t.INT||it===t.UNSIGNED_INT||K.gpuType===aT);if(K.isInterleavedBufferAttribute){const je=K.data,Y=je.stride,Fe=K.offset;if(je.isInstancedInterleavedBuffer){for(let Me=0;Me<se.locationSize;Me++)R(se.location+Me,je.meshPerAttribute);j.isInstancedMesh!==!0&&ve._maxInstanceCount===void 0&&(ve._maxInstanceCount=je.meshPerAttribute*je.count)}else for(let Me=0;Me<se.locationSize;Me++)C(se.location+Me);t.bindBuffer(t.ARRAY_BUFFER,st);for(let Me=0;Me<se.locationSize;Me++)P(se.location+Me,ze/se.locationSize,it,ge,Y*gt,(Fe+ze/se.locationSize*Me)*gt,yt)}else{if(K.isInstancedBufferAttribute){for(let je=0;je<se.locationSize;je++)R(se.location+je,K.meshPerAttribute);j.isInstancedMesh!==!0&&ve._maxInstanceCount===void 0&&(ve._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let je=0;je<se.locationSize;je++)C(se.location+je);t.bindBuffer(t.ARRAY_BUFFER,st);for(let je=0;je<se.locationSize;je++)P(se.location+je,ze/se.locationSize,it,ge,ze*gt,ze/se.locationSize*je*gt,yt)}}else if(F!==void 0){const ge=F[ce];if(ge!==void 0)switch(ge.length){case 2:t.vertexAttrib2fv(se.location,ge);break;case 3:t.vertexAttrib3fv(se.location,ge);break;case 4:t.vertexAttrib4fv(se.location,ge);break;default:t.vertexAttrib1fv(se.location,ge)}}}}E()}function L(){V();for(const j in s){const fe=s[j];for(const ye in fe){const ve=fe[ye];for(const X in ve)v(ve[X].object),delete ve[X];delete fe[ye]}delete s[j]}}function M(j){if(s[j.id]===void 0)return;const fe=s[j.id];for(const ye in fe){const ve=fe[ye];for(const X in ve)v(ve[X].object),delete ve[X];delete fe[ye]}delete s[j.id]}function I(j){for(const fe in s){const ye=s[fe];if(ye[j.id]===void 0)continue;const ve=ye[j.id];for(const X in ve)v(ve[X].object),delete ve[X];delete ye[j.id]}}function V(){Z(),c=!0,u!==l&&(u=l,m(u.object))}function Z(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:V,resetDefaultState:Z,dispose:L,releaseStatesOfGeometry:M,releaseStatesOfProgram:I,initAttributes:w,enableAttribute:C,disableUnusedAttributes:E}}function Ire(t,e,n,r){const i=r.isWebGL2;let o;function a(c){o=c}function s(c,f){t.drawArrays(o,c,f),n.update(f,o,1)}function l(c,f,p){if(p===0)return;let m,v;if(i)m=t,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](o,c,f,p),n.update(f,o,p)}function u(c,f,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<p;v++)this.render(c[v],f[v]);else{m.multiDrawArraysWEBGL(o,c,0,f,0,p);let v=0;for(let b=0;b<p;b++)v+=f[b];n.update(v,o,1)}}this.setMode=a,this.render=s,this.renderInstances=l,this.renderMultiDraw=u}function Ore(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const u=a||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),b=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,C=a||e.has("OES_texture_float"),R=w&&C,E=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:b,maxVertexUniforms:y,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:w,floatFragmentTextures:C,floatVertexTextures:R,maxSamples:E}}function Dre(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Ds,s=new Tn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,p){n=c(f,p,0)},this.setState=function(f,p,m){const v=f.clippingPlanes,b=f.clipIntersection,y=f.clipShadows,g=t.get(f);if(!i||v===null||v.length===0||o&&!y)o?c(null):u();else{const x=o?0:r,w=x*4;let C=g.clippingState||null;l.value=C,C=c(v,p,w,m);for(let R=0;R!==w;++R)C[R]=n[R];g.clippingState=C,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,p,m,v){const b=f!==null?f.length:0;let y=null;if(b!==0){if(y=l.value,v!==!0||y===null){const g=m+b*4,x=p.matrixWorldInverse;s.getNormalMatrix(x),(y===null||y.length<g)&&(y=new Float32Array(g));for(let w=0,C=m;w!==b;++w,C+=4)a.copy(f[w]).applyMatrix4(x,s),a.normal.toArray(y,C),y[C+3]=a.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,y}}function kre(t){let e=new WeakMap;function n(a,s){return s===Mh?a.mapping=$s:s===Sg&&(a.mapping=zu),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===Mh||s===Sg)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new wT(l.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}let ps=class extends hv{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,a=o+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}};const Jd=4,J4=[.125,.215,.35,.446,.526,.582],Oc=20,t_=new ps,Q4=new $t;let n_=null,r_=0,i_=0;const Pc=(1+Math.sqrt(5))/2,md=1/Pc,eD=[new de(1,1,1),new de(-1,1,1),new de(1,1,-1),new de(-1,1,-1),new de(0,Pc,md),new de(0,Pc,-md),new de(md,0,Pc),new de(-md,0,Pc),new de(Pc,md,0),new de(-Pc,md,0)];class X2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){n_=this._renderer.getRenderTarget(),r_=this._renderer.getActiveCubeFace(),i_=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=rD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=nD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(n_,r_,i_),e.scissorTest=!1,b0(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===$s||e.mapping===zu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),n_=this._renderer.getRenderTarget(),r_=this._renderer.getActiveCubeFace(),i_=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:or,minFilter:or,generateMipmaps:!1,type:so,format:io,colorSpace:Fl,depthBuffer:!1},i=tD(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=tD(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Lre(o)),this._blurMaterial=Nre(o,e,n)}return i}_compileMaterial(e){const n=new Wr(this._lodPlanes[0],e);this._renderer.compile(n,t_)}_sceneToCubeUV(e,n,r,i){const s=new Mr(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,p=c.toneMapping;c.getClearColor(Q4),c.toneMapping=js,c.autoClear=!1;const m=new $u({name:"PMREM.Background",side:lo,depthWrite:!1,depthTest:!1}),v=new Wr(new Cf,m);let b=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,b=!0):(m.color.copy(Q4),b=!0);for(let g=0;g<6;g++){const x=g%3;x===0?(s.up.set(0,l[g],0),s.lookAt(u[g],0,0)):x===1?(s.up.set(0,0,l[g]),s.lookAt(0,u[g],0)):(s.up.set(0,l[g],0),s.lookAt(0,0,u[g]));const w=this._cubeSize;b0(i,x*w,g>2?w:0,w,w),c.setRenderTarget(i),b&&c.render(v,s),c.render(e,s)}v.geometry.dispose(),v.material.dispose(),c.toneMapping=p,c.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===$s||e.mapping===zu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=rD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=nD());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new Wr(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;b0(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,t_)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=eD[(i-1)%eD.length];this._blur(e,i-1,i,o,a)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Wr(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*Oc-1),b=o/v,y=isFinite(o)?1+Math.floor(c*b):Oc;y>Oc&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Oc}`);const g=[];let x=0;for(let P=0;P<Oc;++P){const D=P/b,L=Math.exp(-D*D/2);g.push(L),P===0?x+=L:P<y&&(x+=2*L)}for(let P=0;P<g.length;P++)g[P]=g[P]/x;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=g,p.latitudinal.value=a==="latitudinal",s&&(p.poleAxis.value=s);const{_lodMax:w}=this;p.dTheta.value=v,p.mipInt.value=w-r;const C=this._sizeLods[i],R=3*C*(i>w-Jd?i-w+Jd:0),E=4*(this._cubeSize-C);b0(n,R,E,3*C,2*C),l.setRenderTarget(n),l.render(f,t_)}}function Lre(t){const e=[],n=[],r=[];let i=t;const o=t-Jd+1+J4.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-Jd?l=J4[a-t+Jd-1]:a===0&&(l=0),r.push(l);const u=1/(s-2),c=-u,f=1+u,p=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,v=6,b=3,y=2,g=1,x=new Float32Array(b*v*m),w=new Float32Array(y*v*m),C=new Float32Array(g*v*m);for(let E=0;E<m;E++){const P=E%3*2/3-1,D=E>2?0:-1,L=[P,D,0,P+2/3,D,0,P+2/3,D+1,0,P,D,0,P+2/3,D+1,0,P,D+1,0];x.set(L,b*v*E),w.set(p,y*v*E);const M=[E,E,E,E,E,E];C.set(M,g*v*E)}const R=new On;R.setAttribute("position",new sr(x,b)),R.setAttribute("uv",new sr(w,y)),R.setAttribute("faceIndex",new sr(C,g)),e.push(R),i>Jd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function tD(t,e,n){const r=new Wa(t,e,n);return r.texture.mapping=Bh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function b0(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Nre(t,e,n){const r=new Float32Array(Oc),i=new de(0,1,0);return new Ko({name:"SphericalGaussianBlur",defines:{n:Oc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:ST(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ml,depthTest:!1,depthWrite:!1})}function nD(){return new Ko({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ST(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ml,depthTest:!1,depthWrite:!1})}function rD(){return new Ko({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ST(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ml,depthTest:!1,depthWrite:!1})}function ST(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Fre(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===Mh||l===Sg,c=l===$s||l===zu;if(u||c)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let f=e.get(s);return n===null&&(n=new X2(t)),f=u?n.fromEquirectangular(s,f):n.fromCubemap(s,f),e.set(s,f),f.texture}else{if(e.has(s))return e.get(s).texture;{const f=s.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new X2(t));const p=u?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,p),s.addEventListener("dispose",o),p.texture}else return null}}}return s}function i(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function o(s){const l=s.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Ure(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function zre(t,e,n,r){const i={},o=new WeakMap;function a(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const b=p.morphAttributes[v];for(let y=0,g=b.length;y<g;y++)e.remove(b[y])}p.removeEventListener("dispose",a),delete i[p.id];const m=o.get(p);m&&(e.remove(m),o.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function s(f,p){return i[p.id]===!0||(p.addEventListener("dispose",a),i[p.id]=!0,n.memory.geometries++),p}function l(f){const p=f.attributes;for(const v in p)e.update(p[v],t.ARRAY_BUFFER);const m=f.morphAttributes;for(const v in m){const b=m[v];for(let y=0,g=b.length;y<g;y++)e.update(b[y],t.ARRAY_BUFFER)}}function u(f){const p=[],m=f.index,v=f.attributes.position;let b=0;if(m!==null){const x=m.array;b=m.version;for(let w=0,C=x.length;w<C;w+=3){const R=x[w+0],E=x[w+1],P=x[w+2];p.push(R,E,E,P,P,R)}}else if(v!==void 0){const x=v.array;b=v.version;for(let w=0,C=x.length/3-1;w<C;w+=3){const R=w+0,E=w+1,P=w+2;p.push(R,E,E,P,P,R)}}else return;const y=new(C8(p)?bT:xT)(p,1);y.version=b;const g=o.get(f);g&&e.remove(g),o.set(f,y)}function c(f){const p=o.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&u(f)}else u(f);return o.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function Bre(t,e,n,r){const i=r.isWebGL2;let o;function a(m){o=m}let s,l;function u(m){s=m.type,l=m.bytesPerElement}function c(m,v){t.drawElements(o,v,s,m*l),n.update(v,o,1)}function f(m,v,b){if(b===0)return;let y,g;if(i)y=t,g="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[g](o,v,s,m*l,b),n.update(v,o,b)}function p(m,v,b){if(b===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<b;g++)this.render(m[g]/l,v[g]);else{y.multiDrawElementsWEBGL(o,v,0,s,m,0,b);let g=0;for(let x=0;x<b;x++)g+=v[x];n.update(g,o,1)}}this.setMode=a,this.setIndex=u,this.render=c,this.renderInstances=f,this.renderMultiDraw=p}function Hre(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Vre(t,e){return t[0]-e[0]}function jre(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Gre(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new Gn,s=[];for(let u=0;u<8;u++)s[u]=[u,0];function l(u,c,f){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,b=v!==void 0?v.length:0;let y=o.get(c);if(y===void 0||y.count!==b){let Z=function(){I.dispose(),o.delete(c),c.removeEventListener("dispose",Z)};var m=Z;y!==void 0&&y.texture.dispose();const g=c.morphAttributes.position!==void 0,x=c.morphAttributes.normal!==void 0,w=c.morphAttributes.color!==void 0,C=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],E=c.morphAttributes.color||[];let P=0;g===!0&&(P=1),x===!0&&(P=2),w===!0&&(P=3);let D=c.attributes.position.count*P,L=1;D>e.maxTextureSize&&(L=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const M=new Float32Array(D*L*4*b),I=new vb(M,D,L,b);I.type=oi,I.needsUpdate=!0;const V=P*4;for(let j=0;j<b;j++){const fe=C[j],ye=R[j],ve=E[j],X=D*L*4*j;for(let ne=0;ne<fe.count;ne++){const F=ne*V;g===!0&&(a.fromBufferAttribute(fe,ne),M[X+F+0]=a.x,M[X+F+1]=a.y,M[X+F+2]=a.z,M[X+F+3]=0),x===!0&&(a.fromBufferAttribute(ye,ne),M[X+F+4]=a.x,M[X+F+5]=a.y,M[X+F+6]=a.z,M[X+F+7]=0),w===!0&&(a.fromBufferAttribute(ve,ne),M[X+F+8]=a.x,M[X+F+9]=a.y,M[X+F+10]=a.z,M[X+F+11]=ve.itemSize===4?a.w:1)}}y={count:b,texture:I,size:new vt(D,L)},o.set(c,y),c.addEventListener("dispose",Z)}if(u.isInstancedMesh===!0&&u.morphTexture!==null)f.getUniforms().setValue(t,"morphTexture",u.morphTexture,n);else{let g=0;for(let w=0;w<p.length;w++)g+=p[w];const x=c.morphTargetsRelative?1:1-g;f.getUniforms().setValue(t,"morphTargetBaseInfluence",x),f.getUniforms().setValue(t,"morphTargetInfluences",p)}f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const v=p===void 0?0:p.length;let b=r[c.id];if(b===void 0||b.length!==v){b=[];for(let C=0;C<v;C++)b[C]=[C,0];r[c.id]=b}for(let C=0;C<v;C++){const R=b[C];R[0]=C,R[1]=p[C]}b.sort(jre);for(let C=0;C<8;C++)C<v&&b[C][1]?(s[C][0]=b[C][0],s[C][1]=b[C][1]):(s[C][0]=Number.MAX_SAFE_INTEGER,s[C][1]=0);s.sort(Vre);const y=c.morphAttributes.position,g=c.morphAttributes.normal;let x=0;for(let C=0;C<8;C++){const R=s[C],E=R[0],P=R[1];E!==Number.MAX_SAFE_INTEGER&&P?(y&&c.getAttribute("morphTarget"+C)!==y[E]&&c.setAttribute("morphTarget"+C,y[E]),g&&c.getAttribute("morphNormal"+C)!==g[E]&&c.setAttribute("morphNormal"+C,g[E]),i[C]=P,x+=P):(y&&c.hasAttribute("morphTarget"+C)===!0&&c.deleteAttribute("morphTarget"+C),g&&c.hasAttribute("morphNormal"+C)===!0&&c.deleteAttribute("morphNormal"+C),i[C]=0)}const w=c.morphTargetsRelative?1:1-x;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Wre(t,e,n,r){let i=new WeakMap;function o(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return f}function a(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:a}}class yb extends Pr{constructor(e,n,r,i,o,a,s,l,u,c){if(c=c!==void 0?c:Au,c!==Au&&c!==mf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Au&&(r=wl),r===void 0&&c===mf&&(r=Ru),super(null,i,o,a,s,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Yr,this.minFilter=l!==void 0?l:Yr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const D8=new Pr,k8=new yb(1,1);k8.compareFunction=pT;const L8=new vb,N8=new yT,F8=new pv,iD=[],oD=[],aD=new Float32Array(16),sD=new Float32Array(9),lD=new Float32Array(4);function Vh(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=iD[i];if(o===void 0&&(o=new Float32Array(i),iD[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function mi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function gi(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function xb(t,e){let n=oD[e];n===void 0&&(n=new Int32Array(e),oD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function $re(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Kre(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mi(n,e))return;t.uniform2fv(this.addr,e),gi(n,e)}}function Xre(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(mi(n,e))return;t.uniform3fv(this.addr,e),gi(n,e)}}function qre(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mi(n,e))return;t.uniform4fv(this.addr,e),gi(n,e)}}function Yre(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),gi(n,e)}else{if(mi(n,r))return;lD.set(r),t.uniformMatrix2fv(this.addr,!1,lD),gi(n,r)}}function Zre(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),gi(n,e)}else{if(mi(n,r))return;sD.set(r),t.uniformMatrix3fv(this.addr,!1,sD),gi(n,r)}}function Jre(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),gi(n,e)}else{if(mi(n,r))return;aD.set(r),t.uniformMatrix4fv(this.addr,!1,aD),gi(n,r)}}function Qre(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function eie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mi(n,e))return;t.uniform2iv(this.addr,e),gi(n,e)}}function tie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mi(n,e))return;t.uniform3iv(this.addr,e),gi(n,e)}}function nie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mi(n,e))return;t.uniform4iv(this.addr,e),gi(n,e)}}function rie(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function iie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mi(n,e))return;t.uniform2uiv(this.addr,e),gi(n,e)}}function oie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mi(n,e))return;t.uniform3uiv(this.addr,e),gi(n,e)}}function aie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mi(n,e))return;t.uniform4uiv(this.addr,e),gi(n,e)}}function sie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?k8:D8;n.setTexture2D(e||o,i)}function lie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||N8,i)}function uie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||F8,i)}function cie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||L8,i)}function fie(t){switch(t){case 5126:return $re;case 35664:return Kre;case 35665:return Xre;case 35666:return qre;case 35674:return Yre;case 35675:return Zre;case 35676:return Jre;case 5124:case 35670:return Qre;case 35667:case 35671:return eie;case 35668:case 35672:return tie;case 35669:case 35673:return nie;case 5125:return rie;case 36294:return iie;case 36295:return oie;case 36296:return aie;case 35678:case 36198:case 36298:case 36306:case 35682:return sie;case 35679:case 36299:case 36307:return lie;case 35680:case 36300:case 36308:case 36293:return uie;case 36289:case 36303:case 36311:case 36292:return cie}}function die(t,e){t.uniform1fv(this.addr,e)}function hie(t,e){const n=Vh(e,this.size,2);t.uniform2fv(this.addr,n)}function pie(t,e){const n=Vh(e,this.size,3);t.uniform3fv(this.addr,n)}function mie(t,e){const n=Vh(e,this.size,4);t.uniform4fv(this.addr,n)}function gie(t,e){const n=Vh(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function vie(t,e){const n=Vh(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function yie(t,e){const n=Vh(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function xie(t,e){t.uniform1iv(this.addr,e)}function bie(t,e){t.uniform2iv(this.addr,e)}function wie(t,e){t.uniform3iv(this.addr,e)}function Sie(t,e){t.uniform4iv(this.addr,e)}function _ie(t,e){t.uniform1uiv(this.addr,e)}function Eie(t,e){t.uniform2uiv(this.addr,e)}function Cie(t,e){t.uniform3uiv(this.addr,e)}function Mie(t,e){t.uniform4uiv(this.addr,e)}function Tie(t,e,n){const r=this.cache,i=e.length,o=xb(n,i);mi(r,o)||(t.uniform1iv(this.addr,o),gi(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||D8,o[a])}function Pie(t,e,n){const r=this.cache,i=e.length,o=xb(n,i);mi(r,o)||(t.uniform1iv(this.addr,o),gi(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||N8,o[a])}function Rie(t,e,n){const r=this.cache,i=e.length,o=xb(n,i);mi(r,o)||(t.uniform1iv(this.addr,o),gi(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||F8,o[a])}function Aie(t,e,n){const r=this.cache,i=e.length,o=xb(n,i);mi(r,o)||(t.uniform1iv(this.addr,o),gi(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||L8,o[a])}function Iie(t){switch(t){case 5126:return die;case 35664:return hie;case 35665:return pie;case 35666:return mie;case 35674:return gie;case 35675:return vie;case 35676:return yie;case 5124:case 35670:return xie;case 35667:case 35671:return bie;case 35668:case 35672:return wie;case 35669:case 35673:return Sie;case 5125:return _ie;case 36294:return Eie;case 36295:return Cie;case 36296:return Mie;case 35678:case 36198:case 36298:case 36306:case 35682:return Tie;case 35679:case 36299:case 36307:return Pie;case 35680:case 36300:case 36308:case 36293:return Rie;case 36289:case 36303:case 36311:case 36292:return Aie}}class Oie{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=fie(n.type)}}class Die{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Iie(n.type)}}class kie{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const o_=/(\w+)(\])?(\[|\.)?/g;function uD(t,e){t.seq.push(e),t.map[e.id]=e}function Lie(t,e,n){const r=t.name,i=r.length;for(o_.lastIndex=0;;){const o=o_.exec(r),a=o_.lastIndex;let s=o[1];const l=o[2]==="]",u=o[3];if(l&&(s=s|0),u===void 0||u==="["&&a+2===i){uD(n,u===void 0?new Oie(s,t,e):new Die(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new kie(s),uD(n,f)),n=f}}}class A1{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);Lie(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function cD(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Nie=37297;let Fie=0;function Uie(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}function zie(t){const e=ir.getPrimaries(ir.workingColorSpace),n=ir.getPrimaries(t);let r;switch(e===n?r="":e===Ag&&n===Rg?r="LinearDisplayP3ToLinearSRGB":e===Rg&&n===Ag&&(r="LinearSRGBToLinearDisplayP3"),t){case Fl:case dv:return[r,"LinearTransferOETF"];case ka:case gb:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function fD(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Uie(t.getShaderSource(e),a)}else return i}function Bie(t,e){const n=zie(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Hie(t,e){let n;switch(e){case JF:n="Linear";break;case QF:n="Reinhard";break;case e8:n="OptimizedCineon";break;case oT:n="ACESFilmic";break;case n8:n="AgX";break;case r8:n="Neutral";break;case t8:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Vie(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Qd).join(`
`)}function jie(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Qd).join(`
`)}function Gie(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Wie(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function Qd(t){return t!==""}function dD(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function hD(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const $ie=/^[ \t]*#include +<([\w\d./]+)>/gm;function q2(t){return t.replace($ie,Xie)}const Kie=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Xie(t,e){let n=In[e];if(n===void 0){const r=Kie.get(e);if(r!==void 0)n=In[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return q2(n)}const qie=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pD(t){return t.replace(qie,Yie)}function Yie(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function mD(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Zie(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===fb?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Em?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===os&&(e="SHADOWMAP_TYPE_VSM"),e}function Jie(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case $s:case zu:e="ENVMAP_TYPE_CUBE";break;case Bh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Qie(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case zu:e="ENVMAP_MODE_REFRACTION";break}return e}function eoe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case fv:e="ENVMAP_BLENDING_MULTIPLY";break;case YF:e="ENVMAP_BLENDING_MIX";break;case ZF:e="ENVMAP_BLENDING_ADD";break}return e}function toe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function noe(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=Zie(n),u=Jie(n),c=Qie(n),f=eoe(n),p=toe(n),m=n.isWebGL2?"":Vie(n),v=jie(n),b=Gie(o),y=i.createProgram();let g,x,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(Qd).join(`
`),g.length>0&&(g+=`
`),x=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(Qd).join(`
`),x.length>0&&(x+=`
`)):(g=[mD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qd).join(`
`),x=[m,mD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==js?"#define TONE_MAPPING":"",n.toneMapping!==js?In.tonemapping_pars_fragment:"",n.toneMapping!==js?Hie("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",In.colorspace_pars_fragment,Bie("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Qd).join(`
`)),a=q2(a),a=dD(a,n),a=hD(a,n),s=q2(s),s=dD(s,n),s=hD(s,n),a=pD(a),s=pD(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,g=[v,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,x=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===$2?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===$2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const C=w+g+a,R=w+x+s,E=cD(i,i.VERTEX_SHADER,C),P=cD(i,i.FRAGMENT_SHADER,R);i.attachShader(y,E),i.attachShader(y,P),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function D(V){if(t.debug.checkShaderErrors){const Z=i.getProgramInfoLog(y).trim(),j=i.getShaderInfoLog(E).trim(),fe=i.getShaderInfoLog(P).trim();let ye=!0,ve=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(ye=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,E,P);else{const X=fD(i,E,"vertex"),ne=fD(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+V.name+`
Material Type: `+V.type+`

Program Info Log: `+Z+`
`+X+`
`+ne)}else Z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Z):(j===""||fe==="")&&(ve=!1);ve&&(V.diagnostics={runnable:ye,programLog:Z,vertexShader:{log:j,prefix:g},fragmentShader:{log:fe,prefix:x}})}i.deleteShader(E),i.deleteShader(P),L=new A1(i,y),M=Wie(i,y)}let L;this.getUniforms=function(){return L===void 0&&D(this),L};let M;this.getAttributes=function(){return M===void 0&&D(this),M};let I=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=i.getProgramParameter(y,Nie)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Fie++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=P,this}let roe=0;class ioe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new ooe(e),n.set(e,r)),r}}class ooe{constructor(e){this.id=roe++,this.code=e,this.usedTimes=0}}function aoe(t,e,n,r,i,o,a){const s=new nf,l=new ioe,u=new Set,c=[],f=i.isWebGL2,p=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(M){return u.add(M),M===0?"uv":`uv${M}`}function g(M,I,V,Z,j){const fe=Z.fog,ye=j.geometry,ve=M.isMeshStandardMaterial?Z.environment:null,X=(M.isMeshStandardMaterial?n:e).get(M.envMap||ve),ne=X&&X.mapping===Bh?X.image.height:null,F=b[M.type];M.precision!==null&&(v=i.getMaxPrecision(M.precision),v!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",v,"instead."));const ce=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,se=ce!==void 0?ce.length:0;let K=0;ye.morphAttributes.position!==void 0&&(K=1),ye.morphAttributes.normal!==void 0&&(K=2),ye.morphAttributes.color!==void 0&&(K=3);let ge,ze,Be,st;if(F){const rt=fs[F];ge=rt.vertexShader,ze=rt.fragmentShader}else ge=M.vertexShader,ze=M.fragmentShader,l.update(M),Be=l.getVertexShaderID(M),st=l.getFragmentShaderID(M);const it=t.getRenderTarget(),gt=j.isInstancedMesh===!0,yt=j.isBatchedMesh===!0,je=!!M.map,Y=!!M.matcap,Fe=!!X,Me=!!M.aoMap,et=!!M.lightMap,Ve=!!M.bumpMap,lt=!!M.normalMap,J=!!M.displacementMap,Q=!!M.emissiveMap,xe=!!M.metalnessMap,B=!!M.roughnessMap,O=M.anisotropy>0,ee=M.clearcoat>0,he=M.iridescence>0,le=M.sheen>0,Ee=M.transmission>0,qe=O&&!!M.anisotropyMap,Ke=ee&&!!M.clearcoatMap,be=ee&&!!M.clearcoatNormalMap,Ye=ee&&!!M.clearcoatRoughnessMap,at=he&&!!M.iridescenceMap,tt=he&&!!M.iridescenceThicknessMap,ft=le&&!!M.sheenColorMap,De=le&&!!M.sheenRoughnessMap,Le=!!M.specularMap,H=!!M.specularColorMap,me=!!M.specularIntensityMap,He=Ee&&!!M.transmissionMap,ct=Ee&&!!M.thicknessMap,nt=!!M.gradientMap,Pe=!!M.alphaMap,dt=M.alphaTest>0,te=!!M.alphaHash,ue=!!M.extensions;let ae=js;M.toneMapped&&(it===null||it.isXRRenderTarget===!0)&&(ae=t.toneMapping);const Ne={isWebGL2:f,shaderID:F,shaderType:M.type,shaderName:M.name,vertexShader:ge,fragmentShader:ze,defines:M.defines,customVertexShaderID:Be,customFragmentShaderID:st,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:v,batching:yt,instancing:gt,instancingColor:gt&&j.instanceColor!==null,instancingMorph:gt&&j.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:it===null?t.outputColorSpace:it.isXRRenderTarget===!0?it.texture.colorSpace:Fl,alphaToCoverage:!!M.alphaToCoverage,map:je,matcap:Y,envMap:Fe,envMapMode:Fe&&X.mapping,envMapCubeUVHeight:ne,aoMap:Me,lightMap:et,bumpMap:Ve,normalMap:lt,displacementMap:m&&J,emissiveMap:Q,normalMapObjectSpace:lt&&M.normalMapType===v8,normalMapTangentSpace:lt&&M.normalMapType===Wu,metalnessMap:xe,roughnessMap:B,anisotropy:O,anisotropyMap:qe,clearcoat:ee,clearcoatMap:Ke,clearcoatNormalMap:be,clearcoatRoughnessMap:Ye,iridescence:he,iridescenceMap:at,iridescenceThicknessMap:tt,sheen:le,sheenColorMap:ft,sheenRoughnessMap:De,specularMap:Le,specularColorMap:H,specularIntensityMap:me,transmission:Ee,transmissionMap:He,thicknessMap:ct,gradientMap:nt,opaque:M.transparent===!1&&M.blending===ef&&M.alphaToCoverage===!1,alphaMap:Pe,alphaTest:dt,alphaHash:te,combine:M.combine,mapUv:je&&y(M.map.channel),aoMapUv:Me&&y(M.aoMap.channel),lightMapUv:et&&y(M.lightMap.channel),bumpMapUv:Ve&&y(M.bumpMap.channel),normalMapUv:lt&&y(M.normalMap.channel),displacementMapUv:J&&y(M.displacementMap.channel),emissiveMapUv:Q&&y(M.emissiveMap.channel),metalnessMapUv:xe&&y(M.metalnessMap.channel),roughnessMapUv:B&&y(M.roughnessMap.channel),anisotropyMapUv:qe&&y(M.anisotropyMap.channel),clearcoatMapUv:Ke&&y(M.clearcoatMap.channel),clearcoatNormalMapUv:be&&y(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ye&&y(M.clearcoatRoughnessMap.channel),iridescenceMapUv:at&&y(M.iridescenceMap.channel),iridescenceThicknessMapUv:tt&&y(M.iridescenceThicknessMap.channel),sheenColorMapUv:ft&&y(M.sheenColorMap.channel),sheenRoughnessMapUv:De&&y(M.sheenRoughnessMap.channel),specularMapUv:Le&&y(M.specularMap.channel),specularColorMapUv:H&&y(M.specularColorMap.channel),specularIntensityMapUv:me&&y(M.specularIntensityMap.channel),transmissionMapUv:He&&y(M.transmissionMap.channel),thicknessMapUv:ct&&y(M.thicknessMap.channel),alphaMapUv:Pe&&y(M.alphaMap.channel),vertexTangents:!!ye.attributes.tangent&&(lt||O),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!ye.attributes.uv&&(je||Pe),fog:!!fe,useFog:M.fog===!0,fogExp2:!!fe&&fe.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:j.isSkinnedMesh===!0,morphTargets:ye.morphAttributes.position!==void 0,morphNormals:ye.morphAttributes.normal!==void 0,morphColors:ye.morphAttributes.color!==void 0,morphTargetsCount:se,morphTextureStride:K,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&V.length>0,shadowMapType:t.shadowMap.type,toneMapping:ae,useLegacyLights:t._useLegacyLights,decodeVideoTexture:je&&M.map.isVideoTexture===!0&&ir.getTransfer(M.map.colorSpace)===dr,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===Ua,flipSided:M.side===lo,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:ue&&M.extensions.derivatives===!0,extensionFragDepth:ue&&M.extensions.fragDepth===!0,extensionDrawBuffers:ue&&M.extensions.drawBuffers===!0,extensionShaderTextureLOD:ue&&M.extensions.shaderTextureLOD===!0,extensionClipCullDistance:ue&&M.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:ue&&M.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:M.customProgramCacheKey()};return Ne.vertexUv1s=u.has(1),Ne.vertexUv2s=u.has(2),Ne.vertexUv3s=u.has(3),u.clear(),Ne}function x(M){const I=[];if(M.shaderID?I.push(M.shaderID):(I.push(M.customVertexShaderID),I.push(M.customFragmentShaderID)),M.defines!==void 0)for(const V in M.defines)I.push(V),I.push(M.defines[V]);return M.isRawShaderMaterial===!1&&(w(I,M),C(I,M),I.push(t.outputColorSpace)),I.push(M.customProgramCacheKey),I.join()}function w(M,I){M.push(I.precision),M.push(I.outputColorSpace),M.push(I.envMapMode),M.push(I.envMapCubeUVHeight),M.push(I.mapUv),M.push(I.alphaMapUv),M.push(I.lightMapUv),M.push(I.aoMapUv),M.push(I.bumpMapUv),M.push(I.normalMapUv),M.push(I.displacementMapUv),M.push(I.emissiveMapUv),M.push(I.metalnessMapUv),M.push(I.roughnessMapUv),M.push(I.anisotropyMapUv),M.push(I.clearcoatMapUv),M.push(I.clearcoatNormalMapUv),M.push(I.clearcoatRoughnessMapUv),M.push(I.iridescenceMapUv),M.push(I.iridescenceThicknessMapUv),M.push(I.sheenColorMapUv),M.push(I.sheenRoughnessMapUv),M.push(I.specularMapUv),M.push(I.specularColorMapUv),M.push(I.specularIntensityMapUv),M.push(I.transmissionMapUv),M.push(I.thicknessMapUv),M.push(I.combine),M.push(I.fogExp2),M.push(I.sizeAttenuation),M.push(I.morphTargetsCount),M.push(I.morphAttributeCount),M.push(I.numDirLights),M.push(I.numPointLights),M.push(I.numSpotLights),M.push(I.numSpotLightMaps),M.push(I.numHemiLights),M.push(I.numRectAreaLights),M.push(I.numDirLightShadows),M.push(I.numPointLightShadows),M.push(I.numSpotLightShadows),M.push(I.numSpotLightShadowsWithMaps),M.push(I.numLightProbes),M.push(I.shadowMapType),M.push(I.toneMapping),M.push(I.numClippingPlanes),M.push(I.numClipIntersection),M.push(I.depthPacking)}function C(M,I){s.disableAll(),I.isWebGL2&&s.enable(0),I.supportsVertexTextures&&s.enable(1),I.instancing&&s.enable(2),I.instancingColor&&s.enable(3),I.instancingMorph&&s.enable(4),I.matcap&&s.enable(5),I.envMap&&s.enable(6),I.normalMapObjectSpace&&s.enable(7),I.normalMapTangentSpace&&s.enable(8),I.clearcoat&&s.enable(9),I.iridescence&&s.enable(10),I.alphaTest&&s.enable(11),I.vertexColors&&s.enable(12),I.vertexAlphas&&s.enable(13),I.vertexUv1s&&s.enable(14),I.vertexUv2s&&s.enable(15),I.vertexUv3s&&s.enable(16),I.vertexTangents&&s.enable(17),I.anisotropy&&s.enable(18),I.alphaHash&&s.enable(19),I.batching&&s.enable(20),M.push(s.mask),s.disableAll(),I.fog&&s.enable(0),I.useFog&&s.enable(1),I.flatShading&&s.enable(2),I.logarithmicDepthBuffer&&s.enable(3),I.skinning&&s.enable(4),I.morphTargets&&s.enable(5),I.morphNormals&&s.enable(6),I.morphColors&&s.enable(7),I.premultipliedAlpha&&s.enable(8),I.shadowMapEnabled&&s.enable(9),I.useLegacyLights&&s.enable(10),I.doubleSided&&s.enable(11),I.flipSided&&s.enable(12),I.useDepthPacking&&s.enable(13),I.dithering&&s.enable(14),I.transmission&&s.enable(15),I.sheen&&s.enable(16),I.opaque&&s.enable(17),I.pointsUvs&&s.enable(18),I.decodeVideoTexture&&s.enable(19),I.alphaToCoverage&&s.enable(20),M.push(s.mask)}function R(M){const I=b[M.type];let V;if(I){const Z=fs[I];V=kg.clone(Z.uniforms)}else V=M.uniforms;return V}function E(M,I){let V;for(let Z=0,j=c.length;Z<j;Z++){const fe=c[Z];if(fe.cacheKey===I){V=fe,++V.usedTimes;break}}return V===void 0&&(V=new noe(t,I,M,o),c.push(V)),V}function P(M){if(--M.usedTimes===0){const I=c.indexOf(M);c[I]=c[c.length-1],c.pop(),M.destroy()}}function D(M){l.remove(M)}function L(){l.dispose()}return{getParameters:g,getProgramCacheKey:x,getUniforms:R,acquireProgram:E,releaseProgram:P,releaseShaderCache:D,programs:c,dispose:L}}function soe(){let t=new WeakMap;function e(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function n(o){t.delete(o)}function r(o,a,s){t.get(o)[a]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function loe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function gD(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function vD(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(f,p,m,v,b,y){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:v,renderOrder:f.renderOrder,z:b,group:y},t[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=f.renderOrder,g.z=b,g.group=y),e++,g}function s(f,p,m,v,b,y){const g=a(f,p,m,v,b,y);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(f,p,m,v,b,y){const g=a(f,p,m,v,b,y);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(f,p){n.length>1&&n.sort(f||loe),r.length>1&&r.sort(p||gD),i.length>1&&i.sort(p||gD)}function c(){for(let f=e,p=t.length;f<p;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:c,sort:u}}function uoe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new vD,t.set(r,[a])):i>=o.length?(a=new vD,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function coe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new de,color:new $t};break;case"SpotLight":n={position:new de,direction:new de,color:new $t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new de,color:new $t,distance:0,decay:0};break;case"HemisphereLight":n={direction:new de,skyColor:new $t,groundColor:new $t};break;case"RectAreaLight":n={color:new $t,position:new de,halfWidth:new de,halfHeight:new de};break}return t[e.id]=n,n}}}function foe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vt};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let doe=0;function hoe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function poe(t,e){const n=new coe,r=foe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new de);const o=new de,a=new yn,s=new yn;function l(c,f){let p=0,m=0,v=0;for(let V=0;V<9;V++)i.probe[V].set(0,0,0);let b=0,y=0,g=0,x=0,w=0,C=0,R=0,E=0,P=0,D=0,L=0;c.sort(hoe);const M=f===!0?Math.PI:1;for(let V=0,Z=c.length;V<Z;V++){const j=c[V],fe=j.color,ye=j.intensity,ve=j.distance,X=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)p+=fe.r*ye*M,m+=fe.g*ye*M,v+=fe.b*ye*M;else if(j.isLightProbe){for(let ne=0;ne<9;ne++)i.probe[ne].addScaledVector(j.sh.coefficients[ne],ye);L++}else if(j.isDirectionalLight){const ne=n.get(j);if(ne.color.copy(j.color).multiplyScalar(j.intensity*M),j.castShadow){const F=j.shadow,ce=r.get(j);ce.shadowBias=F.bias,ce.shadowNormalBias=F.normalBias,ce.shadowRadius=F.radius,ce.shadowMapSize=F.mapSize,i.directionalShadow[b]=ce,i.directionalShadowMap[b]=X,i.directionalShadowMatrix[b]=j.shadow.matrix,C++}i.directional[b]=ne,b++}else if(j.isSpotLight){const ne=n.get(j);ne.position.setFromMatrixPosition(j.matrixWorld),ne.color.copy(fe).multiplyScalar(ye*M),ne.distance=ve,ne.coneCos=Math.cos(j.angle),ne.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),ne.decay=j.decay,i.spot[g]=ne;const F=j.shadow;if(j.map&&(i.spotLightMap[P]=j.map,P++,F.updateMatrices(j),j.castShadow&&D++),i.spotLightMatrix[g]=F.matrix,j.castShadow){const ce=r.get(j);ce.shadowBias=F.bias,ce.shadowNormalBias=F.normalBias,ce.shadowRadius=F.radius,ce.shadowMapSize=F.mapSize,i.spotShadow[g]=ce,i.spotShadowMap[g]=X,E++}g++}else if(j.isRectAreaLight){const ne=n.get(j);ne.color.copy(fe).multiplyScalar(ye),ne.halfWidth.set(j.width*.5,0,0),ne.halfHeight.set(0,j.height*.5,0),i.rectArea[x]=ne,x++}else if(j.isPointLight){const ne=n.get(j);if(ne.color.copy(j.color).multiplyScalar(j.intensity*M),ne.distance=j.distance,ne.decay=j.decay,j.castShadow){const F=j.shadow,ce=r.get(j);ce.shadowBias=F.bias,ce.shadowNormalBias=F.normalBias,ce.shadowRadius=F.radius,ce.shadowMapSize=F.mapSize,ce.shadowCameraNear=F.camera.near,ce.shadowCameraFar=F.camera.far,i.pointShadow[y]=ce,i.pointShadowMap[y]=X,i.pointShadowMatrix[y]=j.shadow.matrix,R++}i.point[y]=ne,y++}else if(j.isHemisphereLight){const ne=n.get(j);ne.skyColor.copy(j.color).multiplyScalar(ye*M),ne.groundColor.copy(j.groundColor).multiplyScalar(ye*M),i.hemi[w]=ne,w++}}x>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Bt.LTC_FLOAT_1,i.rectAreaLTC2=Bt.LTC_FLOAT_2):(i.rectAreaLTC1=Bt.LTC_HALF_1,i.rectAreaLTC2=Bt.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Bt.LTC_FLOAT_1,i.rectAreaLTC2=Bt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Bt.LTC_HALF_1,i.rectAreaLTC2=Bt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const I=i.hash;(I.directionalLength!==b||I.pointLength!==y||I.spotLength!==g||I.rectAreaLength!==x||I.hemiLength!==w||I.numDirectionalShadows!==C||I.numPointShadows!==R||I.numSpotShadows!==E||I.numSpotMaps!==P||I.numLightProbes!==L)&&(i.directional.length=b,i.spot.length=g,i.rectArea.length=x,i.point.length=y,i.hemi.length=w,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=E+P-D,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=D,i.numLightProbes=L,I.directionalLength=b,I.pointLength=y,I.spotLength=g,I.rectAreaLength=x,I.hemiLength=w,I.numDirectionalShadows=C,I.numPointShadows=R,I.numSpotShadows=E,I.numSpotMaps=P,I.numLightProbes=L,i.version=doe++)}function u(c,f){let p=0,m=0,v=0,b=0,y=0;const g=f.matrixWorldInverse;for(let x=0,w=c.length;x<w;x++){const C=c[x];if(C.isDirectionalLight){const R=i.directional[p];R.direction.setFromMatrixPosition(C.matrixWorld),o.setFromMatrixPosition(C.target.matrixWorld),R.direction.sub(o),R.direction.transformDirection(g),p++}else if(C.isSpotLight){const R=i.spot[v];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(g),R.direction.setFromMatrixPosition(C.matrixWorld),o.setFromMatrixPosition(C.target.matrixWorld),R.direction.sub(o),R.direction.transformDirection(g),v++}else if(C.isRectAreaLight){const R=i.rectArea[b];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(g),s.identity(),a.copy(C.matrixWorld),a.premultiply(g),s.extractRotation(a),R.halfWidth.set(C.width*.5,0,0),R.halfHeight.set(0,C.height*.5,0),R.halfWidth.applyMatrix4(s),R.halfHeight.applyMatrix4(s),b++}else if(C.isPointLight){const R=i.point[m];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(g),m++}else if(C.isHemisphereLight){const R=i.hemi[y];R.direction.setFromMatrixPosition(C.matrixWorld),R.direction.transformDirection(g),y++}}}return{setup:l,setupView:u,state:i}}function yD(t,e){const n=new poe(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(f){r.push(f)}function s(f){i.push(f)}function l(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function moe(t,e){let n=new WeakMap;function r(o,a=0){const s=n.get(o);let l;return s===void 0?(l=new yD(t,e),n.set(o,[l])):a>=s.length?(l=new yD(t,e),s.push(l)):l=s[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class _T extends Bi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=m8,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class ET extends Bi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const goe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,voe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function yoe(t,e,n){let r=new mv;const i=new vt,o=new vt,a=new Gn,s=new _T({depthPacking:g8}),l=new ET,u={},c=n.maxTextureSize,f={[Ol]:lo,[lo]:Ol,[Ua]:Ua},p=new Ko({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new vt},radius:{value:4}},vertexShader:goe,fragmentShader:voe}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new On;v.setAttribute("position",new sr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Wr(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=fb;let g=this.type;this.render=function(E,P,D){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;const L=t.getRenderTarget(),M=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),V=t.state;V.setBlending(Ml),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);const Z=g!==os&&this.type===os,j=g===os&&this.type!==os;for(let fe=0,ye=E.length;fe<ye;fe++){const ve=E[fe],X=ve.shadow;if(X===void 0){console.warn("THREE.WebGLShadowMap:",ve,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;i.copy(X.mapSize);const ne=X.getFrameExtents();if(i.multiply(ne),o.copy(X.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/ne.x),i.x=o.x*ne.x,X.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/ne.y),i.y=o.y*ne.y,X.mapSize.y=o.y)),X.map===null||Z===!0||j===!0){const ce=this.type!==os?{minFilter:Yr,magFilter:Yr}:{};X.map!==null&&X.map.dispose(),X.map=new Wa(i.x,i.y,ce),X.map.texture.name=ve.name+".shadowMap",X.camera.updateProjectionMatrix()}t.setRenderTarget(X.map),t.clear();const F=X.getViewportCount();for(let ce=0;ce<F;ce++){const se=X.getViewport(ce);a.set(o.x*se.x,o.y*se.y,o.x*se.z,o.y*se.w),V.viewport(a),X.updateMatrices(ve,ce),r=X.getFrustum(),C(P,D,X.camera,ve,this.type)}X.isPointLightShadow!==!0&&this.type===os&&x(X,D),X.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(L,M,I)};function x(E,P){const D=e.update(b);p.defines.VSM_SAMPLES!==E.blurSamples&&(p.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Wa(i.x,i.y)),p.uniforms.shadow_pass.value=E.map.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(P,null,D,p,b,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(P,null,D,m,b,null)}function w(E,P,D,L){let M=null;const I=D.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(I!==void 0)M=I;else if(M=D.isPointLight===!0?l:s,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const V=M.uuid,Z=P.uuid;let j=u[V];j===void 0&&(j={},u[V]=j);let fe=j[Z];fe===void 0&&(fe=M.clone(),j[Z]=fe,P.addEventListener("dispose",R)),M=fe}if(M.visible=P.visible,M.wireframe=P.wireframe,L===os?M.side=P.shadowSide!==null?P.shadowSide:P.side:M.side=P.shadowSide!==null?P.shadowSide:f[P.side],M.alphaMap=P.alphaMap,M.alphaTest=P.alphaTest,M.map=P.map,M.clipShadows=P.clipShadows,M.clippingPlanes=P.clippingPlanes,M.clipIntersection=P.clipIntersection,M.displacementMap=P.displacementMap,M.displacementScale=P.displacementScale,M.displacementBias=P.displacementBias,M.wireframeLinewidth=P.wireframeLinewidth,M.linewidth=P.linewidth,D.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const V=t.properties.get(M);V.light=D}return M}function C(E,P,D,L,M){if(E.visible===!1)return;if(E.layers.test(P.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&M===os)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,E.matrixWorld);const Z=e.update(E),j=E.material;if(Array.isArray(j)){const fe=Z.groups;for(let ye=0,ve=fe.length;ye<ve;ye++){const X=fe[ye],ne=j[X.materialIndex];if(ne&&ne.visible){const F=w(E,ne,L,M);E.onBeforeShadow(t,E,P,D,Z,F,X),t.renderBufferDirect(D,null,Z,F,E,X),E.onAfterShadow(t,E,P,D,Z,F,X)}}}else if(j.visible){const fe=w(E,j,L,M);E.onBeforeShadow(t,E,P,D,Z,fe,null),t.renderBufferDirect(D,null,Z,fe,E,null),E.onAfterShadow(t,E,P,D,Z,fe,null)}}const V=E.children;for(let Z=0,j=V.length;Z<j;Z++)C(V[Z],P,D,L,M)}function R(E){E.target.removeEventListener("dispose",R);for(const D in u){const L=u[D],M=E.target.uuid;M in L&&(L[M].dispose(),delete L[M])}}}function xoe(t,e,n){const r=n.isWebGL2;function i(){let Pe=!1;const dt=new Gn;let te=null;const ue=new Gn(0,0,0,0);return{setMask:function(ae){te!==ae&&!Pe&&(t.colorMask(ae,ae,ae,ae),te=ae)},setLocked:function(ae){Pe=ae},setClear:function(ae,Ne,rt,wt,bt){bt===!0&&(ae*=wt,Ne*=wt,rt*=wt),dt.set(ae,Ne,rt,wt),ue.equals(dt)===!1&&(t.clearColor(ae,Ne,rt,wt),ue.copy(dt))},reset:function(){Pe=!1,te=null,ue.set(-1,0,0,0)}}}function o(){let Pe=!1,dt=null,te=null,ue=null;return{setTest:function(ae){ae?gt(t.DEPTH_TEST):yt(t.DEPTH_TEST)},setMask:function(ae){dt!==ae&&!Pe&&(t.depthMask(ae),dt=ae)},setFunc:function(ae){if(te!==ae){switch(ae){case jF:t.depthFunc(t.NEVER);break;case GF:t.depthFunc(t.ALWAYS);break;case WF:t.depthFunc(t.LESS);break;case wg:t.depthFunc(t.LEQUAL);break;case $F:t.depthFunc(t.EQUAL);break;case KF:t.depthFunc(t.GEQUAL);break;case XF:t.depthFunc(t.GREATER);break;case qF:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}te=ae}},setLocked:function(ae){Pe=ae},setClear:function(ae){ue!==ae&&(t.clearDepth(ae),ue=ae)},reset:function(){Pe=!1,dt=null,te=null,ue=null}}}function a(){let Pe=!1,dt=null,te=null,ue=null,ae=null,Ne=null,rt=null,wt=null,bt=null;return{setTest:function(xt){Pe||(xt?gt(t.STENCIL_TEST):yt(t.STENCIL_TEST))},setMask:function(xt){dt!==xt&&!Pe&&(t.stencilMask(xt),dt=xt)},setFunc:function(xt,Et,Ut){(te!==xt||ue!==Et||ae!==Ut)&&(t.stencilFunc(xt,Et,Ut),te=xt,ue=Et,ae=Ut)},setOp:function(xt,Et,Ut){(Ne!==xt||rt!==Et||wt!==Ut)&&(t.stencilOp(xt,Et,Ut),Ne=xt,rt=Et,wt=Ut)},setLocked:function(xt){Pe=xt},setClear:function(xt){bt!==xt&&(t.clearStencil(xt),bt=xt)},reset:function(){Pe=!1,dt=null,te=null,ue=null,ae=null,Ne=null,rt=null,wt=null,bt=null}}}const s=new i,l=new o,u=new a,c=new WeakMap,f=new WeakMap;let p={},m={},v=new WeakMap,b=[],y=null,g=!1,x=null,w=null,C=null,R=null,E=null,P=null,D=null,L=new $t(0,0,0),M=0,I=!1,V=null,Z=null,j=null,fe=null,ye=null;const ve=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,ne=0;const F=t.getParameter(t.VERSION);F.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(F)[1]),X=ne>=1):F.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),X=ne>=2);let ce=null,se={};const K=t.getParameter(t.SCISSOR_BOX),ge=t.getParameter(t.VIEWPORT),ze=new Gn().fromArray(K),Be=new Gn().fromArray(ge);function st(Pe,dt,te,ue){const ae=new Uint8Array(4),Ne=t.createTexture();t.bindTexture(Pe,Ne),t.texParameteri(Pe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Pe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let rt=0;rt<te;rt++)r&&(Pe===t.TEXTURE_3D||Pe===t.TEXTURE_2D_ARRAY)?t.texImage3D(dt,0,t.RGBA,1,1,ue,0,t.RGBA,t.UNSIGNED_BYTE,ae):t.texImage2D(dt+rt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ae);return Ne}const it={};it[t.TEXTURE_2D]=st(t.TEXTURE_2D,t.TEXTURE_2D,1),it[t.TEXTURE_CUBE_MAP]=st(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(it[t.TEXTURE_2D_ARRAY]=st(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),it[t.TEXTURE_3D]=st(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),gt(t.DEPTH_TEST),l.setFunc(wg),J(!1),Q(h2),gt(t.CULL_FACE),Ve(Ml);function gt(Pe){p[Pe]!==!0&&(t.enable(Pe),p[Pe]=!0)}function yt(Pe){p[Pe]!==!1&&(t.disable(Pe),p[Pe]=!1)}function je(Pe,dt){return m[Pe]!==dt?(t.bindFramebuffer(Pe,dt),m[Pe]=dt,r&&(Pe===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=dt),Pe===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=dt)),!0):!1}function Y(Pe,dt){let te=b,ue=!1;if(Pe){te=v.get(dt),te===void 0&&(te=[],v.set(dt,te));const ae=Pe.textures;if(te.length!==ae.length||te[0]!==t.COLOR_ATTACHMENT0){for(let Ne=0,rt=ae.length;Ne<rt;Ne++)te[Ne]=t.COLOR_ATTACHMENT0+Ne;te.length=ae.length,ue=!0}}else te[0]!==t.BACK&&(te[0]=t.BACK,ue=!0);if(ue)if(n.isWebGL2)t.drawBuffers(te);else if(e.has("WEBGL_draw_buffers")===!0)e.get("WEBGL_draw_buffers").drawBuffersWEBGL(te);else throw new Error("THREE.WebGLState: Usage of gl.drawBuffers() require WebGL2 or WEBGL_draw_buffers extension")}function Fe(Pe){return y!==Pe?(t.useProgram(Pe),y=Pe,!0):!1}const Me={[du]:t.FUNC_ADD,[PF]:t.FUNC_SUBTRACT,[RF]:t.FUNC_REVERSE_SUBTRACT};if(r)Me[v2]=t.MIN,Me[y2]=t.MAX;else{const Pe=e.get("EXT_blend_minmax");Pe!==null&&(Me[v2]=Pe.MIN_EXT,Me[y2]=Pe.MAX_EXT)}const et={[AF]:t.ZERO,[IF]:t.ONE,[OF]:t.SRC_COLOR,[Px]:t.SRC_ALPHA,[UF]:t.SRC_ALPHA_SATURATE,[NF]:t.DST_COLOR,[kF]:t.DST_ALPHA,[DF]:t.ONE_MINUS_SRC_COLOR,[Rx]:t.ONE_MINUS_SRC_ALPHA,[FF]:t.ONE_MINUS_DST_COLOR,[LF]:t.ONE_MINUS_DST_ALPHA,[zF]:t.CONSTANT_COLOR,[BF]:t.ONE_MINUS_CONSTANT_COLOR,[HF]:t.CONSTANT_ALPHA,[VF]:t.ONE_MINUS_CONSTANT_ALPHA};function Ve(Pe,dt,te,ue,ae,Ne,rt,wt,bt,xt){if(Pe===Ml){g===!0&&(yt(t.BLEND),g=!1);return}if(g===!1&&(gt(t.BLEND),g=!0),Pe!==TF){if(Pe!==x||xt!==I){if((w!==du||E!==du)&&(t.blendEquation(t.FUNC_ADD),w=du,E=du),xt)switch(Pe){case ef:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case p2:t.blendFunc(t.ONE,t.ONE);break;case m2:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case g2:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Pe);break}else switch(Pe){case ef:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case p2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case m2:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case g2:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Pe);break}C=null,R=null,P=null,D=null,L.set(0,0,0),M=0,x=Pe,I=xt}return}ae=ae||dt,Ne=Ne||te,rt=rt||ue,(dt!==w||ae!==E)&&(t.blendEquationSeparate(Me[dt],Me[ae]),w=dt,E=ae),(te!==C||ue!==R||Ne!==P||rt!==D)&&(t.blendFuncSeparate(et[te],et[ue],et[Ne],et[rt]),C=te,R=ue,P=Ne,D=rt),(wt.equals(L)===!1||bt!==M)&&(t.blendColor(wt.r,wt.g,wt.b,bt),L.copy(wt),M=bt),x=Pe,I=!1}function lt(Pe,dt){Pe.side===Ua?yt(t.CULL_FACE):gt(t.CULL_FACE);let te=Pe.side===lo;dt&&(te=!te),J(te),Pe.blending===ef&&Pe.transparent===!1?Ve(Ml):Ve(Pe.blending,Pe.blendEquation,Pe.blendSrc,Pe.blendDst,Pe.blendEquationAlpha,Pe.blendSrcAlpha,Pe.blendDstAlpha,Pe.blendColor,Pe.blendAlpha,Pe.premultipliedAlpha),l.setFunc(Pe.depthFunc),l.setTest(Pe.depthTest),l.setMask(Pe.depthWrite),s.setMask(Pe.colorWrite);const ue=Pe.stencilWrite;u.setTest(ue),ue&&(u.setMask(Pe.stencilWriteMask),u.setFunc(Pe.stencilFunc,Pe.stencilRef,Pe.stencilFuncMask),u.setOp(Pe.stencilFail,Pe.stencilZFail,Pe.stencilZPass)),B(Pe.polygonOffset,Pe.polygonOffsetFactor,Pe.polygonOffsetUnits),Pe.alphaToCoverage===!0?gt(t.SAMPLE_ALPHA_TO_COVERAGE):yt(t.SAMPLE_ALPHA_TO_COVERAGE)}function J(Pe){V!==Pe&&(Pe?t.frontFace(t.CW):t.frontFace(t.CCW),V=Pe)}function Q(Pe){Pe!==EF?(gt(t.CULL_FACE),Pe!==Z&&(Pe===h2?t.cullFace(t.BACK):Pe===CF?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):yt(t.CULL_FACE),Z=Pe}function xe(Pe){Pe!==j&&(X&&t.lineWidth(Pe),j=Pe)}function B(Pe,dt,te){Pe?(gt(t.POLYGON_OFFSET_FILL),(fe!==dt||ye!==te)&&(t.polygonOffset(dt,te),fe=dt,ye=te)):yt(t.POLYGON_OFFSET_FILL)}function O(Pe){Pe?gt(t.SCISSOR_TEST):yt(t.SCISSOR_TEST)}function ee(Pe){Pe===void 0&&(Pe=t.TEXTURE0+ve-1),ce!==Pe&&(t.activeTexture(Pe),ce=Pe)}function he(Pe,dt,te){te===void 0&&(ce===null?te=t.TEXTURE0+ve-1:te=ce);let ue=se[te];ue===void 0&&(ue={type:void 0,texture:void 0},se[te]=ue),(ue.type!==Pe||ue.texture!==dt)&&(ce!==te&&(t.activeTexture(te),ce=te),t.bindTexture(Pe,dt||it[Pe]),ue.type=Pe,ue.texture=dt)}function le(){const Pe=se[ce];Pe!==void 0&&Pe.type!==void 0&&(t.bindTexture(Pe.type,null),Pe.type=void 0,Pe.texture=void 0)}function Ee(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Pe){console.error("THREE.WebGLState:",Pe)}}function qe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Pe){console.error("THREE.WebGLState:",Pe)}}function Ke(){try{t.texSubImage2D.apply(t,arguments)}catch(Pe){console.error("THREE.WebGLState:",Pe)}}function be(){try{t.texSubImage3D.apply(t,arguments)}catch(Pe){console.error("THREE.WebGLState:",Pe)}}function Ye(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Pe){console.error("THREE.WebGLState:",Pe)}}function at(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Pe){console.error("THREE.WebGLState:",Pe)}}function tt(){try{t.texStorage2D.apply(t,arguments)}catch(Pe){console.error("THREE.WebGLState:",Pe)}}function ft(){try{t.texStorage3D.apply(t,arguments)}catch(Pe){console.error("THREE.WebGLState:",Pe)}}function De(){try{t.texImage2D.apply(t,arguments)}catch(Pe){console.error("THREE.WebGLState:",Pe)}}function Le(){try{t.texImage3D.apply(t,arguments)}catch(Pe){console.error("THREE.WebGLState:",Pe)}}function H(Pe){ze.equals(Pe)===!1&&(t.scissor(Pe.x,Pe.y,Pe.z,Pe.w),ze.copy(Pe))}function me(Pe){Be.equals(Pe)===!1&&(t.viewport(Pe.x,Pe.y,Pe.z,Pe.w),Be.copy(Pe))}function He(Pe,dt){let te=f.get(dt);te===void 0&&(te=new WeakMap,f.set(dt,te));let ue=te.get(Pe);ue===void 0&&(ue=t.getUniformBlockIndex(dt,Pe.name),te.set(Pe,ue))}function ct(Pe,dt){const ue=f.get(dt).get(Pe);c.get(dt)!==ue&&(t.uniformBlockBinding(dt,ue,Pe.__bindingPointIndex),c.set(dt,ue))}function nt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},ce=null,se={},m={},v=new WeakMap,b=[],y=null,g=!1,x=null,w=null,C=null,R=null,E=null,P=null,D=null,L=new $t(0,0,0),M=0,I=!1,V=null,Z=null,j=null,fe=null,ye=null,ze.set(0,0,t.canvas.width,t.canvas.height),Be.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),u.reset()}return{buffers:{color:s,depth:l,stencil:u},enable:gt,disable:yt,bindFramebuffer:je,drawBuffers:Y,useProgram:Fe,setBlending:Ve,setMaterial:lt,setFlipSided:J,setCullFace:Q,setLineWidth:xe,setPolygonOffset:B,setScissorTest:O,activeTexture:ee,bindTexture:he,unbindTexture:le,compressedTexImage2D:Ee,compressedTexImage3D:qe,texImage2D:De,texImage3D:Le,updateUBOMapping:He,uniformBlockBinding:ct,texStorage2D:tt,texStorage3D:ft,texSubImage2D:Ke,texSubImage3D:be,compressedTexSubImage2D:Ye,compressedTexSubImage3D:at,scissor:H,viewport:me,reset:nt}}function boe(t,e,n,r,i,o,a){const s=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new vt,f=new WeakMap;let p;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(B,O){return v?new OffscreenCanvas(B,O):Dg("canvas")}function y(B,O,ee,he){let le=1;const Ee=xe(B);if((Ee.width>he||Ee.height>he)&&(le=he/Math.max(Ee.width,Ee.height)),le<1||O===!0)if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap||typeof VideoFrame<"u"&&B instanceof VideoFrame){const qe=O?Ox:Math.floor,Ke=qe(le*Ee.width),be=qe(le*Ee.height);p===void 0&&(p=b(Ke,be));const Ye=ee?b(Ke,be):p;return Ye.width=Ke,Ye.height=be,Ye.getContext("2d").drawImage(B,0,0,Ke,be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ee.width+"x"+Ee.height+") to ("+Ke+"x"+be+")."),Ye}else return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ee.width+"x"+Ee.height+")."),B;return B}function g(B){const O=xe(B);return K2(O.width)&&K2(O.height)}function x(B){return s?!1:B.wrapS!==ro||B.wrapT!==ro||B.minFilter!==Yr&&B.minFilter!==or}function w(B,O){return B.generateMipmaps&&O&&B.minFilter!==Yr&&B.minFilter!==or}function C(B){t.generateMipmap(B)}function R(B,O,ee,he,le=!1){if(s===!1)return O;if(B!==null){if(t[B]!==void 0)return t[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let Ee=O;if(O===t.RED&&(ee===t.FLOAT&&(Ee=t.R32F),ee===t.HALF_FLOAT&&(Ee=t.R16F),ee===t.UNSIGNED_BYTE&&(Ee=t.R8)),O===t.RED_INTEGER&&(ee===t.UNSIGNED_BYTE&&(Ee=t.R8UI),ee===t.UNSIGNED_SHORT&&(Ee=t.R16UI),ee===t.UNSIGNED_INT&&(Ee=t.R32UI),ee===t.BYTE&&(Ee=t.R8I),ee===t.SHORT&&(Ee=t.R16I),ee===t.INT&&(Ee=t.R32I)),O===t.RG&&(ee===t.FLOAT&&(Ee=t.RG32F),ee===t.HALF_FLOAT&&(Ee=t.RG16F),ee===t.UNSIGNED_BYTE&&(Ee=t.RG8)),O===t.RG_INTEGER&&(ee===t.UNSIGNED_BYTE&&(Ee=t.RG8UI),ee===t.UNSIGNED_SHORT&&(Ee=t.RG16UI),ee===t.UNSIGNED_INT&&(Ee=t.RG32UI),ee===t.BYTE&&(Ee=t.RG8I),ee===t.SHORT&&(Ee=t.RG16I),ee===t.INT&&(Ee=t.RG32I)),O===t.RGBA){const qe=le?Pg:ir.getTransfer(he);ee===t.FLOAT&&(Ee=t.RGBA32F),ee===t.HALF_FLOAT&&(Ee=t.RGBA16F),ee===t.UNSIGNED_BYTE&&(Ee=qe===dr?t.SRGB8_ALPHA8:t.RGBA8),ee===t.UNSIGNED_SHORT_4_4_4_4&&(Ee=t.RGBA4),ee===t.UNSIGNED_SHORT_5_5_5_1&&(Ee=t.RGB5_A1)}return(Ee===t.R16F||Ee===t.R32F||Ee===t.RG16F||Ee===t.RG32F||Ee===t.RGBA16F||Ee===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ee}function E(B,O,ee){return w(B,ee)===!0||B.isFramebufferTexture&&B.minFilter!==Yr&&B.minFilter!==or?Math.log2(Math.max(O.width,O.height))+1:B.mipmaps!==void 0&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?O.mipmaps.length:1}function P(B){return B===Yr||B===Ax||B===Ic?t.NEAREST:t.LINEAR}function D(B){const O=B.target;O.removeEventListener("dispose",D),M(O),O.isVideoTexture&&f.delete(O)}function L(B){const O=B.target;O.removeEventListener("dispose",L),V(O)}function M(B){const O=r.get(B);if(O.__webglInit===void 0)return;const ee=B.source,he=m.get(ee);if(he){const le=he[O.__cacheKey];le.usedTimes--,le.usedTimes===0&&I(B),Object.keys(he).length===0&&m.delete(ee)}r.remove(B)}function I(B){const O=r.get(B);t.deleteTexture(O.__webglTexture);const ee=B.source,he=m.get(ee);delete he[O.__cacheKey],a.memory.textures--}function V(B){const O=r.get(B);if(B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let he=0;he<6;he++){if(Array.isArray(O.__webglFramebuffer[he]))for(let le=0;le<O.__webglFramebuffer[he].length;le++)t.deleteFramebuffer(O.__webglFramebuffer[he][le]);else t.deleteFramebuffer(O.__webglFramebuffer[he]);O.__webglDepthbuffer&&t.deleteRenderbuffer(O.__webglDepthbuffer[he])}else{if(Array.isArray(O.__webglFramebuffer))for(let he=0;he<O.__webglFramebuffer.length;he++)t.deleteFramebuffer(O.__webglFramebuffer[he]);else t.deleteFramebuffer(O.__webglFramebuffer);if(O.__webglDepthbuffer&&t.deleteRenderbuffer(O.__webglDepthbuffer),O.__webglMultisampledFramebuffer&&t.deleteFramebuffer(O.__webglMultisampledFramebuffer),O.__webglColorRenderbuffer)for(let he=0;he<O.__webglColorRenderbuffer.length;he++)O.__webglColorRenderbuffer[he]&&t.deleteRenderbuffer(O.__webglColorRenderbuffer[he]);O.__webglDepthRenderbuffer&&t.deleteRenderbuffer(O.__webglDepthRenderbuffer)}const ee=B.textures;for(let he=0,le=ee.length;he<le;he++){const Ee=r.get(ee[he]);Ee.__webglTexture&&(t.deleteTexture(Ee.__webglTexture),a.memory.textures--),r.remove(ee[he])}r.remove(B)}let Z=0;function j(){Z=0}function fe(){const B=Z;return B>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+i.maxTextures),Z+=1,B}function ye(B){const O=[];return O.push(B.wrapS),O.push(B.wrapT),O.push(B.wrapR||0),O.push(B.magFilter),O.push(B.minFilter),O.push(B.anisotropy),O.push(B.internalFormat),O.push(B.format),O.push(B.type),O.push(B.generateMipmaps),O.push(B.premultiplyAlpha),O.push(B.flipY),O.push(B.unpackAlignment),O.push(B.colorSpace),O.join()}function ve(B,O){const ee=r.get(B);if(B.isVideoTexture&&J(B),B.isRenderTargetTexture===!1&&B.version>0&&ee.__version!==B.version){const he=B.image;if(he===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(he.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Be(ee,B,O);return}}n.bindTexture(t.TEXTURE_2D,ee.__webglTexture,t.TEXTURE0+O)}function X(B,O){const ee=r.get(B);if(B.version>0&&ee.__version!==B.version){Be(ee,B,O);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ee.__webglTexture,t.TEXTURE0+O)}function ne(B,O){const ee=r.get(B);if(B.version>0&&ee.__version!==B.version){Be(ee,B,O);return}n.bindTexture(t.TEXTURE_3D,ee.__webglTexture,t.TEXTURE0+O)}function F(B,O){const ee=r.get(B);if(B.version>0&&ee.__version!==B.version){st(ee,B,O);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ee.__webglTexture,t.TEXTURE0+O)}const ce={[_g]:t.REPEAT,[ro]:t.CLAMP_TO_EDGE,[Eg]:t.MIRRORED_REPEAT},se={[Yr]:t.NEAREST,[Ax]:t.NEAREST_MIPMAP_NEAREST,[Ic]:t.NEAREST_MIPMAP_LINEAR,[or]:t.LINEAR,[Cm]:t.LINEAR_MIPMAP_NEAREST,[zs]:t.LINEAR_MIPMAP_LINEAR},K={[y8]:t.NEVER,[E8]:t.ALWAYS,[x8]:t.LESS,[pT]:t.LEQUAL,[b8]:t.EQUAL,[_8]:t.GEQUAL,[w8]:t.GREATER,[S8]:t.NOTEQUAL};function ge(B,O,ee){if(O.type===oi&&e.has("OES_texture_float_linear")===!1&&(O.magFilter===or||O.magFilter===Cm||O.magFilter===Ic||O.magFilter===zs||O.minFilter===or||O.minFilter===Cm||O.minFilter===Ic||O.minFilter===zs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),ee?(t.texParameteri(B,t.TEXTURE_WRAP_S,ce[O.wrapS]),t.texParameteri(B,t.TEXTURE_WRAP_T,ce[O.wrapT]),(B===t.TEXTURE_3D||B===t.TEXTURE_2D_ARRAY)&&t.texParameteri(B,t.TEXTURE_WRAP_R,ce[O.wrapR]),t.texParameteri(B,t.TEXTURE_MAG_FILTER,se[O.magFilter]),t.texParameteri(B,t.TEXTURE_MIN_FILTER,se[O.minFilter])):(t.texParameteri(B,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(B,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(B===t.TEXTURE_3D||B===t.TEXTURE_2D_ARRAY)&&t.texParameteri(B,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(O.wrapS!==ro||O.wrapT!==ro)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(B,t.TEXTURE_MAG_FILTER,P(O.magFilter)),t.texParameteri(B,t.TEXTURE_MIN_FILTER,P(O.minFilter)),O.minFilter!==Yr&&O.minFilter!==or&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),O.compareFunction&&(t.texParameteri(B,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(B,t.TEXTURE_COMPARE_FUNC,K[O.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(O.magFilter===Yr||O.minFilter!==Ic&&O.minFilter!==zs||O.type===oi&&e.has("OES_texture_float_linear")===!1||s===!1&&O.type===so&&e.has("OES_texture_half_float_linear")===!1)return;if(O.anisotropy>1||r.get(O).__currentAnisotropy){const he=e.get("EXT_texture_filter_anisotropic");t.texParameterf(B,he.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy}}}function ze(B,O){let ee=!1;B.__webglInit===void 0&&(B.__webglInit=!0,O.addEventListener("dispose",D));const he=O.source;let le=m.get(he);le===void 0&&(le={},m.set(he,le));const Ee=ye(O);if(Ee!==B.__cacheKey){le[Ee]===void 0&&(le[Ee]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ee=!0),le[Ee].usedTimes++;const qe=le[B.__cacheKey];qe!==void 0&&(le[B.__cacheKey].usedTimes--,qe.usedTimes===0&&I(O)),B.__cacheKey=Ee,B.__webglTexture=le[Ee].texture}return ee}function Be(B,O,ee){let he=t.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(he=t.TEXTURE_2D_ARRAY),O.isData3DTexture&&(he=t.TEXTURE_3D);const le=ze(B,O),Ee=O.source;n.bindTexture(he,B.__webglTexture,t.TEXTURE0+ee);const qe=r.get(Ee);if(Ee.version!==qe.__version||le===!0){n.activeTexture(t.TEXTURE0+ee);const Ke=ir.getPrimaries(ir.workingColorSpace),be=O.colorSpace===gl?null:ir.getPrimaries(O.colorSpace),Ye=O.colorSpace===gl||Ke===be?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ye);const at=x(O)&&g(O.image)===!1;let tt=y(O.image,at,!1,i.maxTextureSize);tt=Q(O,tt);const ft=g(tt)||s,De=o.convert(O.format,O.colorSpace);let Le=o.convert(O.type),H=R(O.internalFormat,De,Le,O.colorSpace,O.isVideoTexture);ge(he,O,ft);let me;const He=O.mipmaps,ct=s&&O.isVideoTexture!==!0&&H!==dT,nt=qe.__version===void 0||le===!0,Pe=Ee.dataReady,dt=E(O,tt,ft);if(O.isDepthTexture)H=t.DEPTH_COMPONENT,s?O.type===oi?H=t.DEPTH_COMPONENT32F:O.type===wl?H=t.DEPTH_COMPONENT24:O.type===Ru?H=t.DEPTH24_STENCIL8:H=t.DEPTH_COMPONENT16:O.type===oi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===Au&&H===t.DEPTH_COMPONENT&&O.type!==hb&&O.type!==wl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=wl,Le=o.convert(O.type)),O.format===mf&&H===t.DEPTH_COMPONENT&&(H=t.DEPTH_STENCIL,O.type!==Ru&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=Ru,Le=o.convert(O.type))),nt&&(ct?n.texStorage2D(t.TEXTURE_2D,1,H,tt.width,tt.height):n.texImage2D(t.TEXTURE_2D,0,H,tt.width,tt.height,0,De,Le,null));else if(O.isDataTexture)if(He.length>0&&ft){ct&&nt&&n.texStorage2D(t.TEXTURE_2D,dt,H,He[0].width,He[0].height);for(let te=0,ue=He.length;te<ue;te++)me=He[te],ct?Pe&&n.texSubImage2D(t.TEXTURE_2D,te,0,0,me.width,me.height,De,Le,me.data):n.texImage2D(t.TEXTURE_2D,te,H,me.width,me.height,0,De,Le,me.data);O.generateMipmaps=!1}else ct?(nt&&n.texStorage2D(t.TEXTURE_2D,dt,H,tt.width,tt.height),Pe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,tt.width,tt.height,De,Le,tt.data)):n.texImage2D(t.TEXTURE_2D,0,H,tt.width,tt.height,0,De,Le,tt.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){ct&&nt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,dt,H,He[0].width,He[0].height,tt.depth);for(let te=0,ue=He.length;te<ue;te++)me=He[te],O.format!==io?De!==null?ct?Pe&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,te,0,0,0,me.width,me.height,tt.depth,De,me.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,te,H,me.width,me.height,tt.depth,0,me.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ct?Pe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,te,0,0,0,me.width,me.height,tt.depth,De,Le,me.data):n.texImage3D(t.TEXTURE_2D_ARRAY,te,H,me.width,me.height,tt.depth,0,De,Le,me.data)}else{ct&&nt&&n.texStorage2D(t.TEXTURE_2D,dt,H,He[0].width,He[0].height);for(let te=0,ue=He.length;te<ue;te++)me=He[te],O.format!==io?De!==null?ct?Pe&&n.compressedTexSubImage2D(t.TEXTURE_2D,te,0,0,me.width,me.height,De,me.data):n.compressedTexImage2D(t.TEXTURE_2D,te,H,me.width,me.height,0,me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ct?Pe&&n.texSubImage2D(t.TEXTURE_2D,te,0,0,me.width,me.height,De,Le,me.data):n.texImage2D(t.TEXTURE_2D,te,H,me.width,me.height,0,De,Le,me.data)}else if(O.isDataArrayTexture)ct?(nt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,dt,H,tt.width,tt.height,tt.depth),Pe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,tt.width,tt.height,tt.depth,De,Le,tt.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,H,tt.width,tt.height,tt.depth,0,De,Le,tt.data);else if(O.isData3DTexture)ct?(nt&&n.texStorage3D(t.TEXTURE_3D,dt,H,tt.width,tt.height,tt.depth),Pe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,tt.width,tt.height,tt.depth,De,Le,tt.data)):n.texImage3D(t.TEXTURE_3D,0,H,tt.width,tt.height,tt.depth,0,De,Le,tt.data);else if(O.isFramebufferTexture){if(nt)if(ct)n.texStorage2D(t.TEXTURE_2D,dt,H,tt.width,tt.height);else{let te=tt.width,ue=tt.height;for(let ae=0;ae<dt;ae++)n.texImage2D(t.TEXTURE_2D,ae,H,te,ue,0,De,Le,null),te>>=1,ue>>=1}}else if(He.length>0&&ft){if(ct&&nt){const te=xe(He[0]);n.texStorage2D(t.TEXTURE_2D,dt,H,te.width,te.height)}for(let te=0,ue=He.length;te<ue;te++)me=He[te],ct?Pe&&n.texSubImage2D(t.TEXTURE_2D,te,0,0,De,Le,me):n.texImage2D(t.TEXTURE_2D,te,H,De,Le,me);O.generateMipmaps=!1}else if(ct){if(nt){const te=xe(tt);n.texStorage2D(t.TEXTURE_2D,dt,H,te.width,te.height)}Pe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,De,Le,tt)}else n.texImage2D(t.TEXTURE_2D,0,H,De,Le,tt);w(O,ft)&&C(he),qe.__version=Ee.version,O.onUpdate&&O.onUpdate(O)}B.__version=O.version}function st(B,O,ee){if(O.image.length!==6)return;const he=ze(B,O),le=O.source;n.bindTexture(t.TEXTURE_CUBE_MAP,B.__webglTexture,t.TEXTURE0+ee);const Ee=r.get(le);if(le.version!==Ee.__version||he===!0){n.activeTexture(t.TEXTURE0+ee);const qe=ir.getPrimaries(ir.workingColorSpace),Ke=O.colorSpace===gl?null:ir.getPrimaries(O.colorSpace),be=O.colorSpace===gl||qe===Ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,be);const Ye=O.isCompressedTexture||O.image[0].isCompressedTexture,at=O.image[0]&&O.image[0].isDataTexture,tt=[];for(let te=0;te<6;te++)!Ye&&!at?tt[te]=y(O.image[te],!1,!0,i.maxCubemapSize):tt[te]=at?O.image[te].image:O.image[te],tt[te]=Q(O,tt[te]);const ft=tt[0],De=g(ft)||s,Le=o.convert(O.format,O.colorSpace),H=o.convert(O.type),me=R(O.internalFormat,Le,H,O.colorSpace),He=s&&O.isVideoTexture!==!0,ct=Ee.__version===void 0||he===!0,nt=le.dataReady;let Pe=E(O,ft,De);ge(t.TEXTURE_CUBE_MAP,O,De);let dt;if(Ye){He&&ct&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Pe,me,ft.width,ft.height);for(let te=0;te<6;te++){dt=tt[te].mipmaps;for(let ue=0;ue<dt.length;ue++){const ae=dt[ue];O.format!==io?Le!==null?He?nt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,ue,0,0,ae.width,ae.height,Le,ae.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,ue,me,ae.width,ae.height,0,ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):He?nt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,ue,0,0,ae.width,ae.height,Le,H,ae.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,ue,me,ae.width,ae.height,0,Le,H,ae.data)}}}else{if(dt=O.mipmaps,He&&ct){dt.length>0&&Pe++;const te=xe(tt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Pe,me,te.width,te.height)}for(let te=0;te<6;te++)if(at){He?nt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,0,0,tt[te].width,tt[te].height,Le,H,tt[te].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,me,tt[te].width,tt[te].height,0,Le,H,tt[te].data);for(let ue=0;ue<dt.length;ue++){const Ne=dt[ue].image[te].image;He?nt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,ue+1,0,0,Ne.width,Ne.height,Le,H,Ne.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,ue+1,me,Ne.width,Ne.height,0,Le,H,Ne.data)}}else{He?nt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,0,0,Le,H,tt[te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,me,Le,H,tt[te]);for(let ue=0;ue<dt.length;ue++){const ae=dt[ue];He?nt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,ue+1,0,0,Le,H,ae.image[te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,ue+1,me,Le,H,ae.image[te])}}}w(O,De)&&C(t.TEXTURE_CUBE_MAP),Ee.__version=le.version,O.onUpdate&&O.onUpdate(O)}B.__version=O.version}function it(B,O,ee,he,le,Ee){const qe=o.convert(ee.format,ee.colorSpace),Ke=o.convert(ee.type),be=R(ee.internalFormat,qe,Ke,ee.colorSpace);if(!r.get(O).__hasExternalTextures){const at=Math.max(1,O.width>>Ee),tt=Math.max(1,O.height>>Ee);le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY?n.texImage3D(le,Ee,be,at,tt,O.depth,0,qe,Ke,null):n.texImage2D(le,Ee,be,at,tt,0,qe,Ke,null)}n.bindFramebuffer(t.FRAMEBUFFER,B),lt(O)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,he,le,r.get(ee).__webglTexture,0,Ve(O)):(le===t.TEXTURE_2D||le>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&le<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,he,le,r.get(ee).__webglTexture,Ee),n.bindFramebuffer(t.FRAMEBUFFER,null)}function gt(B,O,ee){if(t.bindRenderbuffer(t.RENDERBUFFER,B),O.depthBuffer&&!O.stencilBuffer){let he=s===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ee||lt(O)){const le=O.depthTexture;le&&le.isDepthTexture&&(le.type===oi?he=t.DEPTH_COMPONENT32F:le.type===wl&&(he=t.DEPTH_COMPONENT24));const Ee=Ve(O);lt(O)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ee,he,O.width,O.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ee,he,O.width,O.height)}else t.renderbufferStorage(t.RENDERBUFFER,he,O.width,O.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,B)}else if(O.depthBuffer&&O.stencilBuffer){const he=Ve(O);ee&&lt(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,he,t.DEPTH24_STENCIL8,O.width,O.height):lt(O)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,he,t.DEPTH24_STENCIL8,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,O.width,O.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,B)}else{const he=O.textures;for(let le=0;le<he.length;le++){const Ee=he[le],qe=o.convert(Ee.format,Ee.colorSpace),Ke=o.convert(Ee.type),be=R(Ee.internalFormat,qe,Ke,Ee.colorSpace),Ye=Ve(O);ee&&lt(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ye,be,O.width,O.height):lt(O)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ye,be,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,be,O.width,O.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function yt(B,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,B),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),ve(O.depthTexture,0);const he=r.get(O.depthTexture).__webglTexture,le=Ve(O);if(O.depthTexture.format===Au)lt(O)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,he,0,le):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,he,0);else if(O.depthTexture.format===mf)lt(O)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,he,0,le):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,he,0);else throw new Error("Unknown depthTexture format")}function je(B){const O=r.get(B),ee=B.isWebGLCubeRenderTarget===!0;if(B.depthTexture&&!O.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");yt(O.__webglFramebuffer,B)}else if(ee){O.__webglDepthbuffer=[];for(let he=0;he<6;he++)n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer[he]),O.__webglDepthbuffer[he]=t.createRenderbuffer(),gt(O.__webglDepthbuffer[he],B,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer=t.createRenderbuffer(),gt(O.__webglDepthbuffer,B,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Y(B,O,ee){const he=r.get(B);O!==void 0&&it(he.__webglFramebuffer,B,B.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ee!==void 0&&je(B)}function Fe(B){const O=B.texture,ee=r.get(B),he=r.get(O);B.addEventListener("dispose",L);const le=B.textures,Ee=B.isWebGLCubeRenderTarget===!0,qe=le.length>1,Ke=g(B)||s;if(qe||(he.__webglTexture===void 0&&(he.__webglTexture=t.createTexture()),he.__version=O.version,a.memory.textures++),Ee){ee.__webglFramebuffer=[];for(let be=0;be<6;be++)if(s&&O.mipmaps&&O.mipmaps.length>0){ee.__webglFramebuffer[be]=[];for(let Ye=0;Ye<O.mipmaps.length;Ye++)ee.__webglFramebuffer[be][Ye]=t.createFramebuffer()}else ee.__webglFramebuffer[be]=t.createFramebuffer()}else{if(s&&O.mipmaps&&O.mipmaps.length>0){ee.__webglFramebuffer=[];for(let be=0;be<O.mipmaps.length;be++)ee.__webglFramebuffer[be]=t.createFramebuffer()}else ee.__webglFramebuffer=t.createFramebuffer();if(qe)if(i.drawBuffers)for(let be=0,Ye=le.length;be<Ye;be++){const at=r.get(le[be]);at.__webglTexture===void 0&&(at.__webglTexture=t.createTexture(),a.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&B.samples>0&&lt(B)===!1){ee.__webglMultisampledFramebuffer=t.createFramebuffer(),ee.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let be=0;be<le.length;be++){const Ye=le[be];ee.__webglColorRenderbuffer[be]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ee.__webglColorRenderbuffer[be]);const at=o.convert(Ye.format,Ye.colorSpace),tt=o.convert(Ye.type),ft=R(Ye.internalFormat,at,tt,Ye.colorSpace,B.isXRRenderTarget===!0),De=Ve(B);t.renderbufferStorageMultisample(t.RENDERBUFFER,De,ft,B.width,B.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.RENDERBUFFER,ee.__webglColorRenderbuffer[be])}t.bindRenderbuffer(t.RENDERBUFFER,null),B.depthBuffer&&(ee.__webglDepthRenderbuffer=t.createRenderbuffer(),gt(ee.__webglDepthRenderbuffer,B,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ee){n.bindTexture(t.TEXTURE_CUBE_MAP,he.__webglTexture),ge(t.TEXTURE_CUBE_MAP,O,Ke);for(let be=0;be<6;be++)if(s&&O.mipmaps&&O.mipmaps.length>0)for(let Ye=0;Ye<O.mipmaps.length;Ye++)it(ee.__webglFramebuffer[be][Ye],B,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ye);else it(ee.__webglFramebuffer[be],B,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0);w(O,Ke)&&C(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(qe){for(let be=0,Ye=le.length;be<Ye;be++){const at=le[be],tt=r.get(at);n.bindTexture(t.TEXTURE_2D,tt.__webglTexture),ge(t.TEXTURE_2D,at,Ke),it(ee.__webglFramebuffer,B,at,t.COLOR_ATTACHMENT0+be,t.TEXTURE_2D,0),w(at,Ke)&&C(t.TEXTURE_2D)}n.unbindTexture()}else{let be=t.TEXTURE_2D;if((B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(s?be=B.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(be,he.__webglTexture),ge(be,O,Ke),s&&O.mipmaps&&O.mipmaps.length>0)for(let Ye=0;Ye<O.mipmaps.length;Ye++)it(ee.__webglFramebuffer[Ye],B,O,t.COLOR_ATTACHMENT0,be,Ye);else it(ee.__webglFramebuffer,B,O,t.COLOR_ATTACHMENT0,be,0);w(O,Ke)&&C(be),n.unbindTexture()}B.depthBuffer&&je(B)}function Me(B){const O=g(B)||s,ee=B.textures;for(let he=0,le=ee.length;he<le;he++){const Ee=ee[he];if(w(Ee,O)){const qe=B.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ke=r.get(Ee).__webglTexture;n.bindTexture(qe,Ke),C(qe),n.unbindTexture()}}}function et(B){if(s&&B.samples>0&&lt(B)===!1){const O=B.textures,ee=B.width,he=B.height;let le=t.COLOR_BUFFER_BIT;const Ee=[],qe=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ke=r.get(B),be=O.length>1;if(be)for(let Ye=0;Ye<O.length;Ye++)n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglFramebuffer);for(let Ye=0;Ye<O.length;Ye++){Ee.push(t.COLOR_ATTACHMENT0+Ye),B.depthBuffer&&Ee.push(qe);const at=Ke.__ignoreDepthValues!==void 0?Ke.__ignoreDepthValues:!1;if(at===!1&&(B.depthBuffer&&(le|=t.DEPTH_BUFFER_BIT),B.stencilBuffer&&(le|=t.STENCIL_BUFFER_BIT)),be&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ke.__webglColorRenderbuffer[Ye]),at===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[qe]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[qe])),be){const tt=r.get(O[Ye]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,tt,0)}t.blitFramebuffer(0,0,ee,he,0,0,ee,he,le,t.NEAREST),u&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ee)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),be)for(let Ye=0;Ye<O.length;Ye++){n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.RENDERBUFFER,Ke.__webglColorRenderbuffer[Ye]);const at=r.get(O[Ye]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.TEXTURE_2D,at,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglMultisampledFramebuffer)}}function Ve(B){return Math.min(i.maxSamples,B.samples)}function lt(B){const O=r.get(B);return s&&B.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function J(B){const O=a.render.frame;f.get(B)!==O&&(f.set(B,O),B.update())}function Q(B,O){const ee=B.colorSpace,he=B.format,le=B.type;return B.isCompressedTexture===!0||B.isVideoTexture===!0||B.format===Ix||ee!==Fl&&ee!==gl&&(ir.getTransfer(ee)===dr?s===!1?e.has("EXT_sRGB")===!0&&he===io?(B.format=Ix,B.minFilter=or,B.generateMipmaps=!1):O=vT.sRGBToLinear(O):(he!==io||le!==Gs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),O}function xe(B){return typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement?(c.width=B.naturalWidth||B.width,c.height=B.naturalHeight||B.height):typeof VideoFrame<"u"&&B instanceof VideoFrame?(c.width=B.displayWidth,c.height=B.displayHeight):(c.width=B.width,c.height=B.height),c}this.allocateTextureUnit=fe,this.resetTextureUnits=j,this.setTexture2D=ve,this.setTexture2DArray=X,this.setTexture3D=ne,this.setTextureCube=F,this.rebindTextures=Y,this.setupRenderTarget=Fe,this.updateRenderTargetMipmap=Me,this.updateMultisampleRenderTarget=et,this.setupDepthRenderbuffer=je,this.setupFrameBufferTexture=it,this.useMultisampledRTT=lt}function U8(t,e,n){const r=n.isWebGL2;function i(o,a=gl){let s;const l=ir.getTransfer(a);if(o===Gs)return t.UNSIGNED_BYTE;if(o===sT)return t.UNSIGNED_SHORT_4_4_4_4;if(o===lT)return t.UNSIGNED_SHORT_5_5_5_1;if(o===o8)return t.BYTE;if(o===a8)return t.SHORT;if(o===hb)return t.UNSIGNED_SHORT;if(o===aT)return t.INT;if(o===wl)return t.UNSIGNED_INT;if(o===oi)return t.FLOAT;if(o===so)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===s8)return t.ALPHA;if(o===io)return t.RGBA;if(o===l8)return t.LUMINANCE;if(o===u8)return t.LUMINANCE_ALPHA;if(o===Au)return t.DEPTH_COMPONENT;if(o===mf)return t.DEPTH_STENCIL;if(o===Ix)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===pb)return t.RED;if(o===uT)return t.RED_INTEGER;if(o===c8)return t.RG;if(o===cT)return t.RG_INTEGER;if(o===fT)return t.RGBA_INTEGER;if(o===E1||o===C1||o===M1||o===T1)if(l===dr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===E1)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===C1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===M1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===T1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===E1)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===C1)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===M1)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===T1)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===b2||o===w2||o===S2||o===_2)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===b2)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===w2)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===S2)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===_2)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===dT)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===E2||o===C2)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===E2)return l===dr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===C2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===M2||o===T2||o===P2||o===R2||o===A2||o===I2||o===O2||o===D2||o===k2||o===L2||o===N2||o===F2||o===U2||o===z2)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===M2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===T2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===P2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===R2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===A2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===I2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===O2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===D2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===k2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===L2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===N2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===F2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===U2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===z2)return l===dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===P1||o===B2||o===H2)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===P1)return l===dr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===B2)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===H2)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===f8||o===V2||o===j2||o===G2)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(o===P1)return s.COMPRESSED_RED_RGTC1_EXT;if(o===V2)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===j2)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===G2)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Ru?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class z8 extends Mr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class eh extends Zn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const woe={type:"move"};class a_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new eh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new eh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new de,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new de),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new eh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new de,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new de),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const b of e.hand.values()){const y=n.getJointPose(b,r),g=this._getHandJoint(u,b);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],p=c.position.distanceTo(f.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(woe)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new eh;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const Soe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_oe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Eoe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Pr,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new Ko({extensions:{fragDepth:!0},vertexShader:Soe,fragmentShader:_oe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new Wr(new Hh(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class Coe extends Xs{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,u=null,c=null,f=null,p=null,m=null,v=null;const b=new Eoe,y=n.getContextAttributes();let g=null,x=null;const w=[],C=[],R=new vt;let E=null;const P=new Mr;P.layers.enable(1),P.viewport=new Gn;const D=new Mr;D.layers.enable(2),D.viewport=new Gn;const L=[P,D],M=new z8;M.layers.enable(1),M.layers.enable(2);let I=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ge){let ze=w[ge];return ze===void 0&&(ze=new a_,w[ge]=ze),ze.getTargetRaySpace()},this.getControllerGrip=function(ge){let ze=w[ge];return ze===void 0&&(ze=new a_,w[ge]=ze),ze.getGripSpace()},this.getHand=function(ge){let ze=w[ge];return ze===void 0&&(ze=new a_,w[ge]=ze),ze.getHandSpace()};function Z(ge){const ze=C.indexOf(ge.inputSource);if(ze===-1)return;const Be=w[ze];Be!==void 0&&(Be.update(ge.inputSource,ge.frame,u||a),Be.dispatchEvent({type:ge.type,data:ge.inputSource}))}function j(){i.removeEventListener("select",Z),i.removeEventListener("selectstart",Z),i.removeEventListener("selectend",Z),i.removeEventListener("squeeze",Z),i.removeEventListener("squeezestart",Z),i.removeEventListener("squeezeend",Z),i.removeEventListener("end",j),i.removeEventListener("inputsourceschange",fe);for(let ge=0;ge<w.length;ge++){const ze=C[ge];ze!==null&&(C[ge]=null,w[ge].disconnect(ze))}I=null,V=null,b.reset(),e.setRenderTarget(g),m=null,p=null,f=null,i=null,x=null,K.stop(),r.isPresenting=!1,e.setPixelRatio(E),e.setSize(R.width,R.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ge){o=ge,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ge){s=ge,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(ge){u=ge},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(ge){if(i=ge,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",Z),i.addEventListener("selectstart",Z),i.addEventListener("selectend",Z),i.addEventListener("squeeze",Z),i.addEventListener("squeezestart",Z),i.addEventListener("squeezeend",Z),i.addEventListener("end",j),i.addEventListener("inputsourceschange",fe),y.xrCompatible!==!0&&await n.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(R),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ze={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(i,n,ze),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),x=new Wa(m.framebufferWidth,m.framebufferHeight,{format:io,type:Gs,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ze=null,Be=null,st=null;y.depth&&(st=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ze=y.stencil?mf:Au,Be=y.stencil?Ru:wl);const it={colorFormat:n.RGBA8,depthFormat:st,scaleFactor:o};f=new XRWebGLBinding(i,n),p=f.createProjectionLayer(it),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),x=new Wa(p.textureWidth,p.textureHeight,{format:io,type:Gs,depthTexture:new yb(p.textureWidth,p.textureHeight,Be,void 0,void 0,void 0,void 0,void 0,void 0,ze),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const gt=e.properties.get(x);gt.__ignoreDepthValues=p.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await i.requestReferenceSpace(s),K.setContext(i),K.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function fe(ge){for(let ze=0;ze<ge.removed.length;ze++){const Be=ge.removed[ze],st=C.indexOf(Be);st>=0&&(C[st]=null,w[st].disconnect(Be))}for(let ze=0;ze<ge.added.length;ze++){const Be=ge.added[ze];let st=C.indexOf(Be);if(st===-1){for(let gt=0;gt<w.length;gt++)if(gt>=C.length){C.push(Be),st=gt;break}else if(C[gt]===null){C[gt]=Be,st=gt;break}if(st===-1)break}const it=w[st];it&&it.connect(Be)}}const ye=new de,ve=new de;function X(ge,ze,Be){ye.setFromMatrixPosition(ze.matrixWorld),ve.setFromMatrixPosition(Be.matrixWorld);const st=ye.distanceTo(ve),it=ze.projectionMatrix.elements,gt=Be.projectionMatrix.elements,yt=it[14]/(it[10]-1),je=it[14]/(it[10]+1),Y=(it[9]+1)/it[5],Fe=(it[9]-1)/it[5],Me=(it[8]-1)/it[0],et=(gt[8]+1)/gt[0],Ve=yt*Me,lt=yt*et,J=st/(-Me+et),Q=J*-Me;ze.matrixWorld.decompose(ge.position,ge.quaternion,ge.scale),ge.translateX(Q),ge.translateZ(J),ge.matrixWorld.compose(ge.position,ge.quaternion,ge.scale),ge.matrixWorldInverse.copy(ge.matrixWorld).invert();const xe=yt+J,B=je+J,O=Ve-Q,ee=lt+(st-Q),he=Y*je/B*xe,le=Fe*je/B*xe;ge.projectionMatrix.makePerspective(O,ee,he,le,xe,B),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert()}function ne(ge,ze){ze===null?ge.matrixWorld.copy(ge.matrix):ge.matrixWorld.multiplyMatrices(ze.matrixWorld,ge.matrix),ge.matrixWorldInverse.copy(ge.matrixWorld).invert()}this.updateCamera=function(ge){if(i===null)return;b.texture!==null&&(ge.near=b.depthNear,ge.far=b.depthFar),M.near=D.near=P.near=ge.near,M.far=D.far=P.far=ge.far,(I!==M.near||V!==M.far)&&(i.updateRenderState({depthNear:M.near,depthFar:M.far}),I=M.near,V=M.far,P.near=I,P.far=V,D.near=I,D.far=V,P.updateProjectionMatrix(),D.updateProjectionMatrix(),ge.updateProjectionMatrix());const ze=ge.parent,Be=M.cameras;ne(M,ze);for(let st=0;st<Be.length;st++)ne(Be[st],ze);Be.length===2?X(M,P,D):M.projectionMatrix.copy(P.projectionMatrix),F(ge,M,ze)};function F(ge,ze,Be){Be===null?ge.matrix.copy(ze.matrixWorld):(ge.matrix.copy(Be.matrixWorld),ge.matrix.invert(),ge.matrix.multiply(ze.matrixWorld)),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.updateMatrixWorld(!0),ge.projectionMatrix.copy(ze.projectionMatrix),ge.projectionMatrixInverse.copy(ze.projectionMatrixInverse),ge.isPerspectiveCamera&&(ge.fov=Th*2*Math.atan(1/ge.projectionMatrix.elements[5]),ge.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ge){l=ge,p!==null&&(p.fixedFoveation=ge),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ge)},this.hasDepthSensing=function(){return b.texture!==null};let ce=null;function se(ge,ze){if(c=ze.getViewerPose(u||a),v=ze,c!==null){const Be=c.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let st=!1;Be.length!==M.cameras.length&&(M.cameras.length=0,st=!0);for(let gt=0;gt<Be.length;gt++){const yt=Be[gt];let je=null;if(m!==null)je=m.getViewport(yt);else{const Fe=f.getViewSubImage(p,yt);je=Fe.viewport,gt===0&&(e.setRenderTargetTextures(x,Fe.colorTexture,p.ignoreDepthValues?void 0:Fe.depthStencilTexture),e.setRenderTarget(x))}let Y=L[gt];Y===void 0&&(Y=new Mr,Y.layers.enable(gt),Y.viewport=new Gn,L[gt]=Y),Y.matrix.fromArray(yt.transform.matrix),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.projectionMatrix.fromArray(yt.projectionMatrix),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert(),Y.viewport.set(je.x,je.y,je.width,je.height),gt===0&&(M.matrix.copy(Y.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),st===!0&&M.cameras.push(Y)}const it=i.enabledFeatures;if(it&&it.includes("depth-sensing")){const gt=f.getDepthInformation(Be[0]);gt&&gt.isValid&&gt.texture&&b.init(e,gt,i.renderState)}}for(let Be=0;Be<w.length;Be++){const st=C[Be],it=w[Be];st!==null&&it!==void 0&&it.update(st,ze,u||a)}b.render(e,M),ce&&ce(ge,ze),ze.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ze}),v=null}const K=new O8;K.setAnimationLoop(se),this.setAnimationLoop=function(ge){ce=ge},this.dispose=function(){}}}const hc=new ma,Moe=new yn;function Toe(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,A8(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,x,w,C){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(y,g):g.isMeshToonMaterial?(o(y,g),f(y,g)):g.isMeshPhongMaterial?(o(y,g),c(y,g)):g.isMeshStandardMaterial?(o(y,g),p(y,g),g.isMeshPhysicalMaterial&&m(y,g,C)):g.isMeshMatcapMaterial?(o(y,g),v(y,g)):g.isMeshDepthMaterial?o(y,g):g.isMeshDistanceMaterial?(o(y,g),b(y,g)):g.isMeshNormalMaterial?o(y,g):g.isLineBasicMaterial?(a(y,g),g.isLineDashedMaterial&&s(y,g)):g.isPointsMaterial?l(y,g,x,w):g.isSpriteMaterial?u(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===lo&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===lo&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const x=e.get(g),w=x.envMap,C=x.envMapRotation;if(w&&(y.envMap.value=w,hc.copy(C),hc.x*=-1,hc.y*=-1,hc.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(hc.y*=-1,hc.z*=-1),y.envMapRotation.value.setFromMatrix4(Moe.makeRotationFromEuler(hc)),y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap){y.lightMap.value=g.lightMap;const R=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=g.lightMapIntensity*R,n(g.lightMap,y.lightMapTransform)}g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function a(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function s(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,x,w){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*x,y.scale.value=w*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function f(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function p(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),e.get(g).envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,x){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===lo&&y.clearcoatNormalScale.value.negate())),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=x.texture,y.transmissionSamplerSize.value.set(x.width,x.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function b(y,g){const x=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(x.matrixWorld),y.nearDistance.value=x.shadow.camera.near,y.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Poe(t,e,n,r){let i={},o={},a=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,w){const C=w.program;r.uniformBlockBinding(x,C)}function u(x,w){let C=i[x.id];C===void 0&&(v(x),C=c(x),i[x.id]=C,x.addEventListener("dispose",y));const R=w.program;r.updateUBOMapping(x,R);const E=e.render.frame;o[x.id]!==E&&(p(x),o[x.id]=E)}function c(x){const w=f();x.__bindingPointIndex=w;const C=t.createBuffer(),R=x.__size,E=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,C),t.bufferData(t.UNIFORM_BUFFER,R,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,C),C}function f(){for(let x=0;x<s;x++)if(a.indexOf(x)===-1)return a.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const w=i[x.id],C=x.uniforms,R=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let E=0,P=C.length;E<P;E++){const D=Array.isArray(C[E])?C[E]:[C[E]];for(let L=0,M=D.length;L<M;L++){const I=D[L];if(m(I,E,L,R)===!0){const V=I.__offset,Z=Array.isArray(I.value)?I.value:[I.value];let j=0;for(let fe=0;fe<Z.length;fe++){const ye=Z[fe],ve=b(ye);typeof ye=="number"||typeof ye=="boolean"?(I.__data[0]=ye,t.bufferSubData(t.UNIFORM_BUFFER,V+j,I.__data)):ye.isMatrix3?(I.__data[0]=ye.elements[0],I.__data[1]=ye.elements[1],I.__data[2]=ye.elements[2],I.__data[3]=0,I.__data[4]=ye.elements[3],I.__data[5]=ye.elements[4],I.__data[6]=ye.elements[5],I.__data[7]=0,I.__data[8]=ye.elements[6],I.__data[9]=ye.elements[7],I.__data[10]=ye.elements[8],I.__data[11]=0):(ye.toArray(I.__data,j),j+=ve.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,V,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(x,w,C,R){const E=x.value,P=w+"_"+C;if(R[P]===void 0)return typeof E=="number"||typeof E=="boolean"?R[P]=E:R[P]=E.clone(),!0;{const D=R[P];if(typeof E=="number"||typeof E=="boolean"){if(D!==E)return R[P]=E,!0}else if(D.equals(E)===!1)return D.copy(E),!0}return!1}function v(x){const w=x.uniforms;let C=0;const R=16;for(let P=0,D=w.length;P<D;P++){const L=Array.isArray(w[P])?w[P]:[w[P]];for(let M=0,I=L.length;M<I;M++){const V=L[M],Z=Array.isArray(V.value)?V.value:[V.value];for(let j=0,fe=Z.length;j<fe;j++){const ye=Z[j],ve=b(ye),X=C%R;X!==0&&R-X<ve.boundary&&(C+=R-X),V.__data=new Float32Array(ve.storage/Float32Array.BYTES_PER_ELEMENT),V.__offset=C,C+=ve.storage}}}const E=C%R;return E>0&&(C+=R-E),x.__size=C,x.__cache={},this}function b(x){const w={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(w.boundary=4,w.storage=4):x.isVector2?(w.boundary=8,w.storage=8):x.isVector3||x.isColor?(w.boundary=16,w.storage=12):x.isVector4?(w.boundary=16,w.storage=16):x.isMatrix3?(w.boundary=48,w.storage=48):x.isMatrix4?(w.boundary=64,w.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),w}function y(x){const w=x.target;w.removeEventListener("dispose",y);const C=a.indexOf(w.__bindingPointIndex);a.splice(C,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete o[w.id]}function g(){for(const x in i)t.deleteBuffer(i[x]);a=[],i={},o={}}return{bind:l,update:u,dispose:g}}class CT{constructor(e={}){const{canvas:n=M8(),context:r=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=a;const m=new Uint32Array(4),v=new Int32Array(4);let b=null,y=null;const g=[],x=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ka,this._useLegacyLights=!1,this.toneMapping=js,this.toneMappingExposure=1;const w=this;let C=!1,R=0,E=0,P=null,D=-1,L=null;const M=new Gn,I=new Gn;let V=null;const Z=new $t(0);let j=0,fe=n.width,ye=n.height,ve=1,X=null,ne=null;const F=new Gn(0,0,fe,ye),ce=new Gn(0,0,fe,ye);let se=!1;const K=new mv;let ge=!1,ze=!1,Be=null;const st=new yn,it=new vt,gt=new de,yt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function je(){return P===null?ve:1}let Y=r;function Fe(A,z){for(let q=0;q<A.length;q++){const re=A[q],oe=n.getContext(re,z);if(oe!==null)return oe}return null}try{const A={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${_f}`),n.addEventListener("webglcontextlost",nt,!1),n.addEventListener("webglcontextrestored",Pe,!1),n.addEventListener("webglcontextcreationerror",dt,!1),Y===null){const z=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&z.shift(),Y=Fe(z,A),Y===null)throw Fe(z)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Y instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(A){throw console.error("THREE.WebGLRenderer: "+A.message),A}let Me,et,Ve,lt,J,Q,xe,B,O,ee,he,le,Ee,qe,Ke,be,Ye,at,tt,ft,De,Le,H,me;function He(){Me=new Ure(Y),et=new Ore(Y,Me,e),Me.init(et),Le=new U8(Y,Me,et),Ve=new xoe(Y,Me,et),lt=new Hre(Y),J=new soe,Q=new boe(Y,Me,Ve,J,et,Le,lt),xe=new kre(w),B=new Fre(w),O=new Kee(Y,et),H=new Are(Y,Me,O,et),ee=new zre(Y,O,lt,H),he=new Wre(Y,ee,O,lt),tt=new Gre(Y,et,Q),be=new Dre(J),le=new aoe(w,xe,B,Me,et,H,be),Ee=new Toe(w,J),qe=new uoe,Ke=new moe(Me,et),at=new Rre(w,xe,B,Ve,he,p,l),Ye=new yoe(w,he,et),me=new Poe(Y,lt,et,Ve),ft=new Ire(Y,Me,lt,et),De=new Bre(Y,Me,lt,et),lt.programs=le.programs,w.capabilities=et,w.extensions=Me,w.properties=J,w.renderLists=qe,w.shadowMap=Ye,w.state=Ve,w.info=lt}He();const ct=new Coe(w,Y);this.xr=ct,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const A=Me.get("WEBGL_lose_context");A&&A.loseContext()},this.forceContextRestore=function(){const A=Me.get("WEBGL_lose_context");A&&A.restoreContext()},this.getPixelRatio=function(){return ve},this.setPixelRatio=function(A){A!==void 0&&(ve=A,this.setSize(fe,ye,!1))},this.getSize=function(A){return A.set(fe,ye)},this.setSize=function(A,z,q=!0){if(ct.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}fe=A,ye=z,n.width=Math.floor(A*ve),n.height=Math.floor(z*ve),q===!0&&(n.style.width=A+"px",n.style.height=z+"px"),this.setViewport(0,0,A,z)},this.getDrawingBufferSize=function(A){return A.set(fe*ve,ye*ve).floor()},this.setDrawingBufferSize=function(A,z,q){fe=A,ye=z,ve=q,n.width=Math.floor(A*q),n.height=Math.floor(z*q),this.setViewport(0,0,A,z)},this.getCurrentViewport=function(A){return A.copy(M)},this.getViewport=function(A){return A.copy(F)},this.setViewport=function(A,z,q,re){A.isVector4?F.set(A.x,A.y,A.z,A.w):F.set(A,z,q,re),Ve.viewport(M.copy(F).multiplyScalar(ve).round())},this.getScissor=function(A){return A.copy(ce)},this.setScissor=function(A,z,q,re){A.isVector4?ce.set(A.x,A.y,A.z,A.w):ce.set(A,z,q,re),Ve.scissor(I.copy(ce).multiplyScalar(ve).round())},this.getScissorTest=function(){return se},this.setScissorTest=function(A){Ve.setScissorTest(se=A)},this.setOpaqueSort=function(A){X=A},this.setTransparentSort=function(A){ne=A},this.getClearColor=function(A){return A.copy(at.getClearColor())},this.setClearColor=function(){at.setClearColor.apply(at,arguments)},this.getClearAlpha=function(){return at.getClearAlpha()},this.setClearAlpha=function(){at.setClearAlpha.apply(at,arguments)},this.clear=function(A=!0,z=!0,q=!0){let re=0;if(A){let oe=!1;if(P!==null){const Ie=P.texture.format;oe=Ie===fT||Ie===cT||Ie===uT}if(oe){const Ie=P.texture.type,we=Ie===Gs||Ie===wl||Ie===hb||Ie===Ru||Ie===sT||Ie===lT,pe=at.getClearColor(),G=at.getClearAlpha(),Re=pe.r,Ae=pe.g,We=pe.b;we?(m[0]=Re,m[1]=Ae,m[2]=We,m[3]=G,Y.clearBufferuiv(Y.COLOR,0,m)):(v[0]=Re,v[1]=Ae,v[2]=We,v[3]=G,Y.clearBufferiv(Y.COLOR,0,v))}else re|=Y.COLOR_BUFFER_BIT}z&&(re|=Y.DEPTH_BUFFER_BIT),q&&(re|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",nt,!1),n.removeEventListener("webglcontextrestored",Pe,!1),n.removeEventListener("webglcontextcreationerror",dt,!1),qe.dispose(),Ke.dispose(),J.dispose(),xe.dispose(),B.dispose(),he.dispose(),H.dispose(),me.dispose(),le.dispose(),ct.dispose(),ct.removeEventListener("sessionstart",bt),ct.removeEventListener("sessionend",xt),Be&&(Be.dispose(),Be=null),Et.stop()};function nt(A){A.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Pe(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const A=lt.autoReset,z=Ye.enabled,q=Ye.autoUpdate,re=Ye.needsUpdate,oe=Ye.type;He(),lt.autoReset=A,Ye.enabled=z,Ye.autoUpdate=q,Ye.needsUpdate=re,Ye.type=oe}function dt(A){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",A.statusMessage)}function te(A){const z=A.target;z.removeEventListener("dispose",te),ue(z)}function ue(A){ae(A),J.remove(A)}function ae(A){const z=J.get(A).programs;z!==void 0&&(z.forEach(function(q){le.releaseProgram(q)}),A.isShaderMaterial&&le.releaseShaderCache(A))}this.renderBufferDirect=function(A,z,q,re,oe,Ie){z===null&&(z=yt);const we=oe.isMesh&&oe.matrixWorld.determinant()<0,pe=N(A,z,q,re,oe);Ve.setMaterial(re,we);let G=q.index,Re=1;if(re.wireframe===!0){if(G=ee.getWireframeAttribute(q),G===void 0)return;Re=2}const Ae=q.drawRange,We=q.attributes.position;let Ue=Ae.start*Re,ie=(Ae.start+Ae.count)*Re;Ie!==null&&(Ue=Math.max(Ue,Ie.start*Re),ie=Math.min(ie,(Ie.start+Ie.count)*Re)),G!==null?(Ue=Math.max(Ue,0),ie=Math.min(ie,G.count)):We!=null&&(Ue=Math.max(Ue,0),ie=Math.min(ie,We.count));const Oe=ie-Ue;if(Oe<0||Oe===1/0)return;H.setup(oe,re,pe,q,G);let Ze,Ge=ft;if(G!==null&&(Ze=O.get(G),Ge=De,Ge.setIndex(Ze)),oe.isMesh)re.wireframe===!0?(Ve.setLineWidth(re.wireframeLinewidth*je()),Ge.setMode(Y.LINES)):Ge.setMode(Y.TRIANGLES);else if(oe.isLine){let $e=re.linewidth;$e===void 0&&($e=1),Ve.setLineWidth($e*je()),oe.isLineSegments?Ge.setMode(Y.LINES):oe.isLineLoop?Ge.setMode(Y.LINE_LOOP):Ge.setMode(Y.LINE_STRIP)}else oe.isPoints?Ge.setMode(Y.POINTS):oe.isSprite&&Ge.setMode(Y.TRIANGLES);if(oe.isBatchedMesh)Ge.renderMultiDraw(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount);else if(oe.isInstancedMesh)Ge.renderInstances(Ue,Oe,oe.count);else if(q.isInstancedBufferGeometry){const $e=q._maxInstanceCount!==void 0?q._maxInstanceCount:1/0,At=Math.min(q.instanceCount,$e);Ge.renderInstances(Ue,Oe,At)}else Ge.render(Ue,Oe)};function Ne(A,z,q){A.transparent===!0&&A.side===Ua&&A.forceSinglePass===!1?(A.side=lo,A.needsUpdate=!0,Ht(A,z,q),A.side=Ol,A.needsUpdate=!0,Ht(A,z,q),A.side=Ua):Ht(A,z,q)}this.compile=function(A,z,q=null){q===null&&(q=A),y=Ke.get(q),y.init(),x.push(y),q.traverseVisible(function(oe){oe.isLight&&oe.layers.test(z.layers)&&(y.pushLight(oe),oe.castShadow&&y.pushShadow(oe))}),A!==q&&A.traverseVisible(function(oe){oe.isLight&&oe.layers.test(z.layers)&&(y.pushLight(oe),oe.castShadow&&y.pushShadow(oe))}),y.setupLights(w._useLegacyLights);const re=new Set;return A.traverse(function(oe){const Ie=oe.material;if(Ie)if(Array.isArray(Ie))for(let we=0;we<Ie.length;we++){const pe=Ie[we];Ne(pe,q,oe),re.add(pe)}else Ne(Ie,q,oe),re.add(Ie)}),x.pop(),y=null,re},this.compileAsync=function(A,z,q=null){const re=this.compile(A,z,q);return new Promise(oe=>{function Ie(){if(re.forEach(function(we){J.get(we).currentProgram.isReady()&&re.delete(we)}),re.size===0){oe(A);return}setTimeout(Ie,10)}Me.get("KHR_parallel_shader_compile")!==null?Ie():setTimeout(Ie,10)})};let rt=null;function wt(A){rt&&rt(A)}function bt(){Et.stop()}function xt(){Et.start()}const Et=new O8;Et.setAnimationLoop(wt),typeof self<"u"&&Et.setContext(self),this.setAnimationLoop=function(A){rt=A,ct.setAnimationLoop(A),A===null?Et.stop():Et.start()},ct.addEventListener("sessionstart",bt),ct.addEventListener("sessionend",xt),this.render=function(A,z){if(z!==void 0&&z.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;A.matrixWorldAutoUpdate===!0&&A.updateMatrixWorld(),z.parent===null&&z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),ct.enabled===!0&&ct.isPresenting===!0&&(ct.cameraAutoUpdate===!0&&ct.updateCamera(z),z=ct.getCamera()),A.isScene===!0&&A.onBeforeRender(w,A,z,P),y=Ke.get(A,x.length),y.init(),x.push(y),st.multiplyMatrices(z.projectionMatrix,z.matrixWorldInverse),K.setFromProjectionMatrix(st),ze=this.localClippingEnabled,ge=be.init(this.clippingPlanes,ze),b=qe.get(A,g.length),b.init(),g.push(b),Ut(A,z,0,w.sortObjects),b.finish(),w.sortObjects===!0&&b.sort(X,ne),this.info.render.frame++,ge===!0&&be.beginShadows();const q=y.state.shadowsArray;if(Ye.render(q,A,z),ge===!0&&be.endShadows(),this.info.autoReset===!0&&this.info.reset(),(ct.enabled===!1||ct.isPresenting===!1||ct.hasDepthSensing()===!1)&&at.render(b,A),y.setupLights(w._useLegacyLights),z.isArrayCamera){const re=z.cameras;for(let oe=0,Ie=re.length;oe<Ie;oe++){const we=re[oe];mn(b,A,we,we.viewport)}}else mn(b,A,z);P!==null&&(Q.updateMultisampleRenderTarget(P),Q.updateRenderTargetMipmap(P)),A.isScene===!0&&A.onAfterRender(w,A,z),H.resetDefaultState(),D=-1,L=null,x.pop(),x.length>0?y=x[x.length-1]:y=null,g.pop(),g.length>0?b=g[g.length-1]:b=null};function Ut(A,z,q,re){if(A.visible===!1)return;if(A.layers.test(z.layers)){if(A.isGroup)q=A.renderOrder;else if(A.isLOD)A.autoUpdate===!0&&A.update(z);else if(A.isLight)y.pushLight(A),A.castShadow&&y.pushShadow(A);else if(A.isSprite){if(!A.frustumCulled||K.intersectsSprite(A)){re&&gt.setFromMatrixPosition(A.matrixWorld).applyMatrix4(st);const we=he.update(A),pe=A.material;pe.visible&&b.push(A,we,pe,q,gt.z,null)}}else if((A.isMesh||A.isLine||A.isPoints)&&(!A.frustumCulled||K.intersectsObject(A))){const we=he.update(A),pe=A.material;if(re&&(A.boundingSphere!==void 0?(A.boundingSphere===null&&A.computeBoundingSphere(),gt.copy(A.boundingSphere.center)):(we.boundingSphere===null&&we.computeBoundingSphere(),gt.copy(we.boundingSphere.center)),gt.applyMatrix4(A.matrixWorld).applyMatrix4(st)),Array.isArray(pe)){const G=we.groups;for(let Re=0,Ae=G.length;Re<Ae;Re++){const We=G[Re],Ue=pe[We.materialIndex];Ue&&Ue.visible&&b.push(A,we,Ue,q,gt.z,We)}}else pe.visible&&b.push(A,we,pe,q,gt.z,null)}}const Ie=A.children;for(let we=0,pe=Ie.length;we<pe;we++)Ut(Ie[we],z,q,re)}function mn(A,z,q,re){const oe=A.opaque,Ie=A.transmissive,we=A.transparent;y.setupLightsView(q),ge===!0&&be.setGlobalState(w.clippingPlanes,q),Ie.length>0&&Xt(oe,Ie,z,q),re&&Ve.viewport(M.copy(re)),oe.length>0&&rn(oe,z,q),Ie.length>0&&rn(Ie,z,q),we.length>0&&rn(we,z,q),Ve.buffers.depth.setTest(!0),Ve.buffers.depth.setMask(!0),Ve.buffers.color.setMask(!0),Ve.setPolygonOffset(!1)}function Xt(A,z,q,re){if((q.isScene===!0?q.overrideMaterial:null)!==null)return;const Ie=et.isWebGL2;Be===null&&(Be=new Wa(1,1,{generateMipmaps:!0,type:Me.has("EXT_color_buffer_half_float")?so:Gs,minFilter:zs,samples:Ie?4:0})),w.getDrawingBufferSize(it),Ie?Be.setSize(it.x,it.y):Be.setSize(Ox(it.x),Ox(it.y));const we=w.getRenderTarget();w.setRenderTarget(Be),w.getClearColor(Z),j=w.getClearAlpha(),j<1&&w.setClearColor(16777215,.5),w.clear();const pe=w.toneMapping;w.toneMapping=js,rn(A,q,re),Q.updateMultisampleRenderTarget(Be),Q.updateRenderTargetMipmap(Be);let G=!1;for(let Re=0,Ae=z.length;Re<Ae;Re++){const We=z[Re],Ue=We.object,ie=We.geometry,Oe=We.material,Ze=We.group;if(Oe.side===Ua&&Ue.layers.test(re.layers)){const Ge=Oe.side;Oe.side=lo,Oe.needsUpdate=!0,hn(Ue,q,re,ie,Oe,Ze),Oe.side=Ge,Oe.needsUpdate=!0,G=!0}}G===!0&&(Q.updateMultisampleRenderTarget(Be),Q.updateRenderTargetMipmap(Be)),w.setRenderTarget(we),w.setClearColor(Z,j),w.toneMapping=pe}function rn(A,z,q){const re=z.isScene===!0?z.overrideMaterial:null;for(let oe=0,Ie=A.length;oe<Ie;oe++){const we=A[oe],pe=we.object,G=we.geometry,Re=re===null?we.material:re,Ae=we.group;pe.layers.test(q.layers)&&hn(pe,z,q,G,Re,Ae)}}function hn(A,z,q,re,oe,Ie){A.onBeforeRender(w,z,q,re,oe,Ie),A.modelViewMatrix.multiplyMatrices(q.matrixWorldInverse,A.matrixWorld),A.normalMatrix.getNormalMatrix(A.modelViewMatrix),oe.onBeforeRender(w,z,q,re,A,Ie),oe.transparent===!0&&oe.side===Ua&&oe.forceSinglePass===!1?(oe.side=lo,oe.needsUpdate=!0,w.renderBufferDirect(q,z,re,oe,A,Ie),oe.side=Ol,oe.needsUpdate=!0,w.renderBufferDirect(q,z,re,oe,A,Ie),oe.side=Ua):w.renderBufferDirect(q,z,re,oe,A,Ie),A.onAfterRender(w,z,q,re,oe,Ie)}function Ht(A,z,q){z.isScene!==!0&&(z=yt);const re=J.get(A),oe=y.state.lights,Ie=y.state.shadowsArray,we=oe.state.version,pe=le.getParameters(A,oe.state,Ie,z,q),G=le.getProgramCacheKey(pe);let Re=re.programs;re.environment=A.isMeshStandardMaterial?z.environment:null,re.fog=z.fog,re.envMap=(A.isMeshStandardMaterial?B:xe).get(A.envMap||re.environment),re.envMapRotation=re.environment!==null&&A.envMap===null?z.environmentRotation:A.envMapRotation,Re===void 0&&(A.addEventListener("dispose",te),Re=new Map,re.programs=Re);let Ae=Re.get(G);if(Ae!==void 0){if(re.currentProgram===Ae&&re.lightsStateVersion===we)return _t(A,pe),Ae}else pe.uniforms=le.getUniforms(A),A.onBuild(q,pe,w),A.onBeforeCompile(pe,w),Ae=le.acquireProgram(pe,G),Re.set(G,Ae),re.uniforms=pe.uniforms;const We=re.uniforms;return(!A.isShaderMaterial&&!A.isRawShaderMaterial||A.clipping===!0)&&(We.clippingPlanes=be.uniform),_t(A,pe),re.needsLights=$(A),re.lightsStateVersion=we,re.needsLights&&(We.ambientLightColor.value=oe.state.ambient,We.lightProbe.value=oe.state.probe,We.directionalLights.value=oe.state.directional,We.directionalLightShadows.value=oe.state.directionalShadow,We.spotLights.value=oe.state.spot,We.spotLightShadows.value=oe.state.spotShadow,We.rectAreaLights.value=oe.state.rectArea,We.ltc_1.value=oe.state.rectAreaLTC1,We.ltc_2.value=oe.state.rectAreaLTC2,We.pointLights.value=oe.state.point,We.pointLightShadows.value=oe.state.pointShadow,We.hemisphereLights.value=oe.state.hemi,We.directionalShadowMap.value=oe.state.directionalShadowMap,We.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,We.spotShadowMap.value=oe.state.spotShadowMap,We.spotLightMatrix.value=oe.state.spotLightMatrix,We.spotLightMap.value=oe.state.spotLightMap,We.pointShadowMap.value=oe.state.pointShadowMap,We.pointShadowMatrix.value=oe.state.pointShadowMatrix),re.currentProgram=Ae,re.uniformsList=null,Ae}function ln(A){if(A.uniformsList===null){const z=A.currentProgram.getUniforms();A.uniformsList=A1.seqWithValue(z.seq,A.uniforms)}return A.uniformsList}function _t(A,z){const q=J.get(A);q.outputColorSpace=z.outputColorSpace,q.batching=z.batching,q.instancing=z.instancing,q.instancingColor=z.instancingColor,q.instancingMorph=z.instancingMorph,q.skinning=z.skinning,q.morphTargets=z.morphTargets,q.morphNormals=z.morphNormals,q.morphColors=z.morphColors,q.morphTargetsCount=z.morphTargetsCount,q.numClippingPlanes=z.numClippingPlanes,q.numIntersection=z.numClipIntersection,q.vertexAlphas=z.vertexAlphas,q.vertexTangents=z.vertexTangents,q.toneMapping=z.toneMapping}function N(A,z,q,re,oe){z.isScene!==!0&&(z=yt),Q.resetTextureUnits();const Ie=z.fog,we=re.isMeshStandardMaterial?z.environment:null,pe=P===null?w.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:Fl,G=(re.isMeshStandardMaterial?B:xe).get(re.envMap||we),Re=re.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,Ae=!!q.attributes.tangent&&(!!re.normalMap||re.anisotropy>0),We=!!q.morphAttributes.position,Ue=!!q.morphAttributes.normal,ie=!!q.morphAttributes.color;let Oe=js;re.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(Oe=w.toneMapping);const Ze=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,Ge=Ze!==void 0?Ze.length:0,$e=J.get(re),At=y.state.lights;if(ge===!0&&(ze===!0||A!==L)){const Qt=A===L&&re.id===D;be.setState(re,A,Qt)}let Pt=!1;re.version===$e.__version?($e.needsLights&&$e.lightsStateVersion!==At.state.version||$e.outputColorSpace!==pe||oe.isBatchedMesh&&$e.batching===!1||!oe.isBatchedMesh&&$e.batching===!0||oe.isInstancedMesh&&$e.instancing===!1||!oe.isInstancedMesh&&$e.instancing===!0||oe.isSkinnedMesh&&$e.skinning===!1||!oe.isSkinnedMesh&&$e.skinning===!0||oe.isInstancedMesh&&$e.instancingColor===!0&&oe.instanceColor===null||oe.isInstancedMesh&&$e.instancingColor===!1&&oe.instanceColor!==null||oe.isInstancedMesh&&$e.instancingMorph===!0&&oe.morphTexture===null||oe.isInstancedMesh&&$e.instancingMorph===!1&&oe.morphTexture!==null||$e.envMap!==G||re.fog===!0&&$e.fog!==Ie||$e.numClippingPlanes!==void 0&&($e.numClippingPlanes!==be.numPlanes||$e.numIntersection!==be.numIntersection)||$e.vertexAlphas!==Re||$e.vertexTangents!==Ae||$e.morphTargets!==We||$e.morphNormals!==Ue||$e.morphColors!==ie||$e.toneMapping!==Oe||et.isWebGL2===!0&&$e.morphTargetsCount!==Ge)&&(Pt=!0):(Pt=!0,$e.__version=re.version);let Vt=$e.currentProgram;Pt===!0&&(Vt=Ht(re,z,oe));let un=!1,nn=!1,Kt=!1;const Lt=Vt.getUniforms(),qt=$e.uniforms;if(Ve.useProgram(Vt.program)&&(un=!0,nn=!0,Kt=!0),re.id!==D&&(D=re.id,nn=!0),un||L!==A){Lt.setValue(Y,"projectionMatrix",A.projectionMatrix),Lt.setValue(Y,"viewMatrix",A.matrixWorldInverse);const Qt=Lt.map.cameraPosition;Qt!==void 0&&Qt.setValue(Y,gt.setFromMatrixPosition(A.matrixWorld)),et.logarithmicDepthBuffer&&Lt.setValue(Y,"logDepthBufFC",2/(Math.log(A.far+1)/Math.LN2)),(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial)&&Lt.setValue(Y,"isOrthographic",A.isOrthographicCamera===!0),L!==A&&(L=A,nn=!0,Kt=!0)}if(oe.isSkinnedMesh){Lt.setOptional(Y,oe,"bindMatrix"),Lt.setOptional(Y,oe,"bindMatrixInverse");const Qt=oe.skeleton;Qt&&(et.floatVertexTextures?(Qt.boneTexture===null&&Qt.computeBoneTexture(),Lt.setValue(Y,"boneTexture",Qt.boneTexture,Q)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}oe.isBatchedMesh&&(Lt.setOptional(Y,oe,"batchingTexture"),Lt.setValue(Y,"batchingTexture",oe._matricesTexture,Q));const Rn=q.morphAttributes;if((Rn.position!==void 0||Rn.normal!==void 0||Rn.color!==void 0&&et.isWebGL2===!0)&&tt.update(oe,q,Vt),(nn||$e.receiveShadow!==oe.receiveShadow)&&($e.receiveShadow=oe.receiveShadow,Lt.setValue(Y,"receiveShadow",oe.receiveShadow)),re.isMeshGouraudMaterial&&re.envMap!==null&&(qt.envMap.value=G,qt.flipEnvMap.value=G.isCubeTexture&&G.isRenderTargetTexture===!1?-1:1),nn&&(Lt.setValue(Y,"toneMappingExposure",w.toneMappingExposure),$e.needsLights&&W(qt,Kt),Ie&&re.fog===!0&&Ee.refreshFogUniforms(qt,Ie),Ee.refreshMaterialUniforms(qt,re,ve,ye,Be),A1.upload(Y,ln($e),qt,Q)),re.isShaderMaterial&&re.uniformsNeedUpdate===!0&&(A1.upload(Y,ln($e),qt,Q),re.uniformsNeedUpdate=!1),re.isSpriteMaterial&&Lt.setValue(Y,"center",oe.center),Lt.setValue(Y,"modelViewMatrix",oe.modelViewMatrix),Lt.setValue(Y,"normalMatrix",oe.normalMatrix),Lt.setValue(Y,"modelMatrix",oe.matrixWorld),re.isShaderMaterial||re.isRawShaderMaterial){const Qt=re.uniformsGroups;for(let sn=0,_n=Qt.length;sn<_n;sn++)if(et.isWebGL2){const Jr=Qt[sn];me.update(Jr,Vt),me.bind(Jr,Vt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Vt}function W(A,z){A.ambientLightColor.needsUpdate=z,A.lightProbe.needsUpdate=z,A.directionalLights.needsUpdate=z,A.directionalLightShadows.needsUpdate=z,A.pointLights.needsUpdate=z,A.pointLightShadows.needsUpdate=z,A.spotLights.needsUpdate=z,A.spotLightShadows.needsUpdate=z,A.rectAreaLights.needsUpdate=z,A.hemisphereLights.needsUpdate=z}function $(A){return A.isMeshLambertMaterial||A.isMeshToonMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isShadowMaterial||A.isShaderMaterial&&A.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(A,z,q){J.get(A.texture).__webglTexture=z,J.get(A.depthTexture).__webglTexture=q;const re=J.get(A);re.__hasExternalTextures=!0,re.__autoAllocateDepthBuffer=q===void 0,re.__autoAllocateDepthBuffer||Me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),re.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(A,z){const q=J.get(A);q.__webglFramebuffer=z,q.__useDefaultFramebuffer=z===void 0},this.setRenderTarget=function(A,z=0,q=0){P=A,R=z,E=q;let re=!0,oe=null,Ie=!1,we=!1;if(A){const G=J.get(A);G.__useDefaultFramebuffer!==void 0?(Ve.bindFramebuffer(Y.FRAMEBUFFER,null),re=!1):G.__webglFramebuffer===void 0?Q.setupRenderTarget(A):G.__hasExternalTextures&&Q.rebindTextures(A,J.get(A.texture).__webglTexture,J.get(A.depthTexture).__webglTexture);const Re=A.texture;(Re.isData3DTexture||Re.isDataArrayTexture||Re.isCompressedArrayTexture)&&(we=!0);const Ae=J.get(A).__webglFramebuffer;A.isWebGLCubeRenderTarget?(Array.isArray(Ae[z])?oe=Ae[z][q]:oe=Ae[z],Ie=!0):et.isWebGL2&&A.samples>0&&Q.useMultisampledRTT(A)===!1?oe=J.get(A).__webglMultisampledFramebuffer:Array.isArray(Ae)?oe=Ae[q]:oe=Ae,M.copy(A.viewport),I.copy(A.scissor),V=A.scissorTest}else M.copy(F).multiplyScalar(ve).floor(),I.copy(ce).multiplyScalar(ve).floor(),V=se;if(Ve.bindFramebuffer(Y.FRAMEBUFFER,oe)&&et.drawBuffers&&re&&Ve.drawBuffers(A,oe),Ve.viewport(M),Ve.scissor(I),Ve.setScissorTest(V),Ie){const G=J.get(A.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+z,G.__webglTexture,q)}else if(we){const G=J.get(A.texture),Re=z||0;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,G.__webglTexture,q||0,Re)}D=-1},this.readRenderTargetPixels=function(A,z,q,re,oe,Ie,we){if(!(A&&A.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pe=J.get(A).__webglFramebuffer;if(A.isWebGLCubeRenderTarget&&we!==void 0&&(pe=pe[we]),pe){Ve.bindFramebuffer(Y.FRAMEBUFFER,pe);try{const G=A.texture,Re=G.format,Ae=G.type;if(Re!==io&&Le.convert(Re)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const We=Ae===so&&(Me.has("EXT_color_buffer_half_float")||et.isWebGL2&&Me.has("EXT_color_buffer_float"));if(Ae!==Gs&&Le.convert(Ae)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ae===oi&&(et.isWebGL2||Me.has("OES_texture_float")||Me.has("WEBGL_color_buffer_float")))&&!We){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}z>=0&&z<=A.width-re&&q>=0&&q<=A.height-oe&&Y.readPixels(z,q,re,oe,Le.convert(Re),Le.convert(Ae),Ie)}finally{const G=P!==null?J.get(P).__webglFramebuffer:null;Ve.bindFramebuffer(Y.FRAMEBUFFER,G)}}},this.copyFramebufferToTexture=function(A,z,q=0){const re=Math.pow(2,-q),oe=Math.floor(z.image.width*re),Ie=Math.floor(z.image.height*re);Q.setTexture2D(z,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,q,0,0,A.x,A.y,oe,Ie),Ve.unbindTexture()},this.copyTextureToTexture=function(A,z,q,re=0){const oe=z.image.width,Ie=z.image.height,we=Le.convert(q.format),pe=Le.convert(q.type);Q.setTexture2D(q,0),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,q.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,q.unpackAlignment),z.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,re,A.x,A.y,oe,Ie,we,pe,z.image.data):z.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,re,A.x,A.y,z.mipmaps[0].width,z.mipmaps[0].height,we,z.mipmaps[0].data):Y.texSubImage2D(Y.TEXTURE_2D,re,A.x,A.y,we,pe,z.image),re===0&&q.generateMipmaps&&Y.generateMipmap(Y.TEXTURE_2D),Ve.unbindTexture()},this.copyTextureToTexture3D=function(A,z,q,re,oe=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ie=Math.round(A.max.x-A.min.x),we=Math.round(A.max.y-A.min.y),pe=A.max.z-A.min.z+1,G=Le.convert(re.format),Re=Le.convert(re.type);let Ae;if(re.isData3DTexture)Q.setTexture3D(re,0),Ae=Y.TEXTURE_3D;else if(re.isDataArrayTexture||re.isCompressedArrayTexture)Q.setTexture2DArray(re,0),Ae=Y.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,re.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,re.unpackAlignment);const We=Y.getParameter(Y.UNPACK_ROW_LENGTH),Ue=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),ie=Y.getParameter(Y.UNPACK_SKIP_PIXELS),Oe=Y.getParameter(Y.UNPACK_SKIP_ROWS),Ze=Y.getParameter(Y.UNPACK_SKIP_IMAGES),Ge=q.isCompressedTexture?q.mipmaps[oe]:q.image;Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Ge.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Ge.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,A.min.x),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,A.min.y),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,A.min.z),q.isDataTexture||q.isData3DTexture?Y.texSubImage3D(Ae,oe,z.x,z.y,z.z,Ie,we,pe,G,Re,Ge.data):re.isCompressedArrayTexture?Y.compressedTexSubImage3D(Ae,oe,z.x,z.y,z.z,Ie,we,pe,G,Ge.data):Y.texSubImage3D(Ae,oe,z.x,z.y,z.z,Ie,we,pe,G,Re,Ge),Y.pixelStorei(Y.UNPACK_ROW_LENGTH,We),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Ue),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,ie),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,Oe),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Ze),oe===0&&re.generateMipmaps&&Y.generateMipmap(Ae),Ve.unbindTexture()},this.initTexture=function(A){A.isCubeTexture?Q.setTextureCube(A,0):A.isData3DTexture?Q.setTexture3D(A,0):A.isDataArrayTexture||A.isCompressedArrayTexture?Q.setTexture2DArray(A,0):Q.setTexture2D(A,0),Ve.unbindTexture()},this.resetState=function(){R=0,E=0,P=null,Ve.reset(),H.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Bs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===gb?"display-p3":"srgb",n.unpackColorSpace=ir.workingColorSpace===dv?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class B8 extends CT{}B8.prototype.isWebGL1Renderer=!0;class bb{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new $t(e),this.density=n}clone(){return new bb(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class wb{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new $t(e),this.near=n,this.far=r}clone(){return new wb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Rh extends Zn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ma,this.environmentRotation=new ma,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Sb{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Ig,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=da()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return T8("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=da()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=da()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const yo=new de;class ua{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)yo.fromBufferAttribute(this,n),yo.applyMatrix4(e),this.setXYZ(n,yo.x,yo.y,yo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)yo.fromBufferAttribute(this,n),yo.applyNormalMatrix(e),this.setXYZ(n,yo.x,yo.y,yo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)yo.fromBufferAttribute(this,n),yo.transformDirection(e),this.setXYZ(n,yo.x,yo.y,yo.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Eo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Pn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Eo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Eo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Eo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Eo(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),o=Pn(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new sr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ua(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class MT extends Bi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new $t(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let gd;const Fp=new de,vd=new de,yd=new de,xd=new vt,Up=new vt,H8=new yn,w0=new de,zp=new de,S0=new de,xD=new vt,s_=new vt,bD=new vt;class V8 extends Zn{constructor(e=new MT){if(super(),this.isSprite=!0,this.type="Sprite",gd===void 0){gd=new On;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Sb(n,5);gd.setIndex([0,1,2,0,2,3]),gd.setAttribute("position",new ua(r,3,0,!1)),gd.setAttribute("uv",new ua(r,2,3,!1))}this.geometry=gd,this.material=e,this.center=new vt(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vd.setFromMatrixScale(this.matrixWorld),H8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),yd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&vd.multiplyScalar(-yd.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;_0(w0.set(-.5,-.5,0),yd,a,vd,i,o),_0(zp.set(.5,-.5,0),yd,a,vd,i,o),_0(S0.set(.5,.5,0),yd,a,vd,i,o),xD.set(0,0),s_.set(1,0),bD.set(1,1);let s=e.ray.intersectTriangle(w0,zp,S0,!1,Fp);if(s===null&&(_0(zp.set(-.5,.5,0),yd,a,vd,i,o),s_.set(0,1),s=e.ray.intersectTriangle(w0,S0,zp,!1,Fp),s===null))return;const l=e.ray.origin.distanceTo(Fp);l<e.near||l>e.far||n.push({distance:l,point:Fp.clone(),uv:sa.getInterpolation(Fp,w0,zp,S0,xD,s_,bD,new vt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function _0(t,e,n,r,i,o){xd.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Up.x=o*xd.x-i*xd.y,Up.y=i*xd.x+o*xd.y):Up.copy(xd),t.copy(e),t.x+=Up.x,t.y+=Up.y,t.applyMatrix4(H8)}const E0=new de,wD=new de;class j8 extends Zn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){E0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(E0);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){E0.setFromMatrixPosition(e.matrixWorld),wD.setFromMatrixPosition(this.matrixWorld);const r=E0.distanceTo(wD)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const SD=new de,_D=new Gn,ED=new Gn,Roe=new de,CD=new yn,C0=new de,l_=new Ai,MD=new yn,u_=new Ef;class G8 extends Wr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=x2,this.bindMatrix=new yn,this.bindMatrixInverse=new yn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ri),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,C0),this.boundingBox.expandByPoint(C0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ai),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,C0),this.boundingSphere.expandByPoint(C0)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),l_.copy(this.boundingSphere),l_.applyMatrix4(i),e.ray.intersectsSphere(l_)!==!1&&(MD.copy(i).invert(),u_.copy(e.ray).applyMatrix4(MD),!(this.boundingBox!==null&&u_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,u_)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===x2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===i8?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;_D.fromBufferAttribute(i.attributes.skinIndex,e),ED.fromBufferAttribute(i.attributes.skinWeight,e),SD.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=ED.getComponent(o);if(a!==0){const s=_D.getComponent(o);CD.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(Roe.copy(SD).applyMatrix4(CD),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class TT extends Zn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Iu extends Pr{constructor(e=null,n=1,r=1,i,o,a,s,l,u=Yr,c=Yr,f,p){super(null,a,s,l,u,c,i,o,f,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TD=new yn,Aoe=new yn;class _b{constructor(e=[],n=[]){this.uuid=da(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new yn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new yn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:Aoe;TD.multiplyMatrices(s,n[o]),TD.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new _b(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Iu(n,e,e,io,oi);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new TT),this.bones.push(a),this.boneInverses.push(new yn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Ah extends sr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const bd=new yn,PD=new yn,M0=[],RD=new Ri,Ioe=new yn,Bp=new Wr,Hp=new Ai;class W8 extends Wr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Ah(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Ioe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ri),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,bd),RD.copy(e.boundingBox).applyMatrix4(bd),this.boundingBox.union(RD)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ai),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,bd),Hp.copy(e.boundingSphere).applyMatrix4(bd),this.boundingSphere.union(Hp)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,a=e*o+1;for(let s=0;s<r.length;s++)r[s]=i[a+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Bp.geometry=this.geometry,Bp.material=this.material,Bp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Hp.copy(this.boundingSphere),Hp.applyMatrix4(r),e.ray.intersectsSphere(Hp)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,bd),PD.multiplyMatrices(r,bd),Bp.matrixWorld=PD,Bp.raycast(e,M0);for(let a=0,s=M0.length;a<s;a++){const l=M0[a];l.instanceId=o,l.object=this,n.push(l)}M0.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Ah(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Iu(new Float32Array(i*this.count),i,this.count,pb,oi));const o=this.morphTexture.source.data.data;let a=0;for(let u=0;u<r.length;u++)a+=r[u];const s=this.geometry.morphTargetsRelative?1:1-a,l=i*e;o[l]=s,o.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function Ooe(t,e){return t.z-e.z}function Doe(t,e){return e.z-t.z}class koe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n}reset(){this.list.length=0,this.index=0}}const wd="batchId",tu=new yn,AD=new yn,Loe=new yn,ID=new yn,c_=new mv,T0=new Ri,pc=new Ai,Vp=new de,f_=new koe,Ji=new Wr,P0=[];function Noe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class $8 extends Wr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new On,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Iu(n,e,e,io,oi);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const l=e.getAttribute(s),{array:u,itemSize:c,normalized:f}=l,p=new u.constructor(r*c),m=new l.constructor(p,c,f);m.setUsage(l.usage),n.setAttribute(s,m)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(o):new Uint16Array(o);n.setIndex(new sr(s,1))}const a=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(wd,new sr(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(wd))throw new Error(`BatchedMesh: Geometry cannot use attribute "${wd}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===wd)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ri);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,tu),this.getBoundingBoxAt(i,T0).applyMatrix4(tu),n.union(T0))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ai);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,tu),this.getBoundingSphereAt(i,pc).applyMatrix4(tu),n.union(pc))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const a=this._reservedRanges,s=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=a[a.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const u=e.getIndex(),c=u!==null;if(c&&(r===-1?i.indexCount=u.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data;f.push(!0),p.push(!0);const b=this._geometryCount;this._geometryCount++,Loe.toArray(v,b*16),m.needsUpdate=!0,a.push(i),s.push({start:c?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Ri,sphereInitialized:!1,sphere:new Ai});const y=this.geometry.getAttribute(wd);for(let g=0;g<i.vertexCount;g++)y.setX(i.vertexStart+g,b);return y.needsUpdate=!0,this.setGeometryAt(b,e),b}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._reservedRanges[e];if(i&&a.count>s.indexCount||n.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.vertexCount;for(const m in r.attributes){if(m===wd)continue;const v=n.getAttribute(m),b=r.getAttribute(m);Noe(v,b,l);const y=v.itemSize;for(let g=v.count,x=u;g<x;g++){const w=l+g;for(let C=0;C<y;C++)b.setComponent(w,C,0)}b.needsUpdate=!0}if(i){const m=s.indexStart;for(let v=0;v<a.count;v++)o.setX(m+v,l+a.getX(v));for(let v=a.count,b=s.indexCount;v<b;v++)o.setX(m+v,l);o.needsUpdate=!0}const c=this._bounds[e];n.boundingBox!==null?(c.box.copy(n.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,n.boundingSphere!==null?(c.sphere.copy(n.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const f=this._drawRanges[e],p=n.getAttribute("position");return f.count=i?a.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.box,a=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const s=a.index,l=a.attributes.position,u=this._drawRanges[e];for(let c=u.start,f=u.start+u.count;c<f;c++){let p=c;s&&(p=s.getX(p)),o.expandByPoint(Vp.fromBufferAttribute(l,p))}i.boxInitialized=!0}return n.copy(o),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,T0),T0.getCenter(o.center);const s=a.index,l=a.attributes.position,u=this._drawRanges[e];let c=0;for(let f=u.start,p=u.start+u.count;f<p;f++){let m=f;s&&(m=s.getX(m)),Vp.fromBufferAttribute(l,m),c=Math.max(c,o.center.distanceToSquared(Vp))}o.radius=Math.sqrt(c),i.sphereInitialized=!0}return n.copy(o),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,o=this._drawRanges,a=this._geometryCount,s=this.matrixWorld,l=this.geometry;Ji.material=this.material,Ji.geometry.index=l.index,Ji.geometry.attributes=l.attributes,Ji.geometry.boundingBox===null&&(Ji.geometry.boundingBox=new Ri),Ji.geometry.boundingSphere===null&&(Ji.geometry.boundingSphere=new Ai);for(let u=0;u<a;u++){if(!r[u]||!i[u])continue;const c=o[u];Ji.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(u,Ji.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Ji.geometry.boundingBox),this.getBoundingSphereAt(u,Ji.geometry.boundingSphere),Ji.raycast(e,P0);for(let f=0,p=P0.length;f<p;f++){const m=P0[f];m.object=this,m.batchId=u,n.push(m)}P0.length=0}Ji.material=null,Ji.geometry.index=null,Ji.geometry.attributes={},Ji.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._active,u=this._visibility,c=this._multiDrawStarts,f=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(ID.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),c_.setFromProjectionMatrix(ID,e.coordinateSystem));let v=0;if(this.sortObjects){AD.copy(this.matrixWorld).invert(),Vp.setFromMatrixPosition(r.matrixWorld).applyMatrix4(AD);for(let g=0,x=u.length;g<x;g++)if(u[g]&&l[g]){this.getMatrixAt(g,tu),this.getBoundingSphereAt(g,pc).applyMatrix4(tu);let w=!1;if(m&&(w=!c_.intersectsSphere(pc)),!w){const C=Vp.distanceTo(pc.center);f_.push(p[g],C)}}const b=f_.list,y=this.customSort;y===null?b.sort(o.transparent?Doe:Ooe):y.call(this,b,r);for(let g=0,x=b.length;g<x;g++){const w=b[g];c[v]=w.start*s,f[v]=w.count,v++}f_.reset()}else for(let b=0,y=u.length;b<y;b++)if(u[b]&&l[b]){let g=!1;if(m&&(this.getMatrixAt(b,tu),this.getBoundingSphereAt(b,pc).applyMatrix4(tu),g=!c_.intersectsSphere(pc)),!g){const x=p[b];c[v]=x.start*s,f[v]=x.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class Oo extends Bi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new $t(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const OD=new de,DD=new de,kD=new yn,d_=new Ef,R0=new Ai;let Bu=class extends Zn{constructor(e=new On,n=new Oo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)OD.fromBufferAttribute(n,i-1),DD.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=OD.distanceTo(DD);e.setAttribute("lineDistance",new tn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),R0.copy(r.boundingSphere),R0.applyMatrix4(i),R0.radius+=o,e.ray.intersectsSphere(R0)===!1)return;kD.copy(i).invert(),d_.copy(e.ray).applyMatrix4(kD);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=new de,c=new de,f=new de,p=new de,m=this.isLineSegments?2:1,v=r.index,y=r.attributes.position;if(v!==null){const g=Math.max(0,a.start),x=Math.min(v.count,a.start+a.count);for(let w=g,C=x-1;w<C;w+=m){const R=v.getX(w),E=v.getX(w+1);if(u.fromBufferAttribute(y,R),c.fromBufferAttribute(y,E),d_.distanceSqToSegment(u,c,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(p);D<e.near||D>e.far||n.push({distance:D,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,a.start),x=Math.min(y.count,a.start+a.count);for(let w=g,C=x-1;w<C;w+=m){if(u.fromBufferAttribute(y,w),c.fromBufferAttribute(y,w+1),d_.distanceSqToSegment(u,c,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||n.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}};const LD=new de,ND=new de;class qs extends Bu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)LD.fromBufferAttribute(n,i),ND.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+LD.distanceTo(ND);e.setAttribute("lineDistance",new tn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class K8 extends Bu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class PT extends Bi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new $t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const FD=new yn,Y2=new Ef,A0=new Ai,I0=new de;class X8 extends Zn{constructor(e=new On,n=new PT){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),A0.copy(r.boundingSphere),A0.applyMatrix4(i),A0.radius+=o,e.ray.intersectsSphere(A0)===!1)return;FD.copy(i).invert(),Y2.copy(e.ray).applyMatrix4(FD);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,f=r.attributes.position;if(u!==null){const p=Math.max(0,a.start),m=Math.min(u.count,a.start+a.count);for(let v=p,b=m;v<b;v++){const y=u.getX(v);I0.fromBufferAttribute(f,y),UD(I0,y,l,i,e,n,this)}}else{const p=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count);for(let v=p,b=m;v<b;v++)I0.fromBufferAttribute(f,v),UD(I0,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function UD(t,e,n,r,i,o,a){const s=Y2.distanceSqToPoint(t);if(s<n){const l=new de;Y2.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}class Foe extends Pr{constructor(e,n,r,i,o,a,s,l,u){super(e,n,r,i,o,a,s,l,u),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:or,this.magFilter=o!==void 0?o:or,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Uoe extends Pr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Yr,this.minFilter=Yr,this.generateMipmaps=!1,this.needsUpdate=!0}}class Eb extends Pr{constructor(e,n,r,i,o,a,s,l,u,c,f,p){super(null,a,s,l,u,c,i,o,f,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class zoe extends Eb{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ro}}class Boe extends Eb{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,$s),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class q8 extends Pr{constructor(e,n,r,i,o,a,s,l,u){super(e,n,r,i,o,a,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class bs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-a,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const c=r[i],p=r[i+1]-c,m=(a-c)/p;return(i+m)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new vt:new de);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new de,i=[],o=[],a=[],s=new de,l=new yn;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new de)}o[0]=new de,a[0]=new de;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),p<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let m=1;m<=e;m++){if(o[m]=o[m-1].clone(),a[m]=a[m-1].clone(),s.crossVectors(i[m-1],i[m]),s.length()>Number.EPSILON){s.normalize();const v=Math.acos(Gr(i[m-1].dot(i[m]),-1,1));o[m].applyMatrix4(l.makeRotationAxis(s,v))}a[m].crossVectors(i[m],o[m])}if(n===!0){let m=Math.acos(Gr(o[0].dot(o[e]),-1,1));m/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(m=-m);for(let v=1;v<=e;v++)o[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),a[v].crossVectors(i[v],o[v])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Cb extends bs{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new vt){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*c-m*f+this.aX,u=p*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Y8 extends Cb{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function RT(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,u){i(a,s,u*(s-o),u*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,u,c,f){let p=(a-o)/u-(s-o)/(u+c)+(s-a)/c,m=(s-a)/c-(l-a)/(c+f)+(l-s)/f;p*=c,m*=c,i(a,s,p,m)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const O0=new de,h_=new RT,p_=new RT,m_=new RT;class Z8 extends bs{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new de){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%o]:(O0.subVectors(i[0],i[1]).add(i[0]),u=O0);const f=i[s%o],p=i[(s+1)%o];if(this.closed||s+2<o?c=i[(s+2)%o]:(O0.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=O0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),m),b=Math.pow(f.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(c),m);b<1e-4&&(b=1),v<1e-4&&(v=b),y<1e-4&&(y=b),h_.initNonuniformCatmullRom(u.x,f.x,p.x,c.x,v,b,y),p_.initNonuniformCatmullRom(u.y,f.y,p.y,c.y,v,b,y),m_.initNonuniformCatmullRom(u.z,f.z,p.z,c.z,v,b,y)}else this.curveType==="catmullrom"&&(h_.initCatmullRom(u.x,f.x,p.x,c.x,this.tension),p_.initCatmullRom(u.y,f.y,p.y,c.y,this.tension),m_.initCatmullRom(u.z,f.z,p.z,c.z,this.tension));return r.set(h_.calc(l),p_.calc(l),m_.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new de().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function zD(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function Hoe(t,e){const n=1-t;return n*n*e}function Voe(t,e){return 2*(1-t)*t*e}function joe(t,e){return t*t*e}function Tm(t,e,n,r){return Hoe(t,e)+Voe(t,n)+joe(t,r)}function Goe(t,e){const n=1-t;return n*n*n*e}function Woe(t,e){const n=1-t;return 3*n*n*t*e}function $oe(t,e){return 3*(1-t)*t*t*e}function Koe(t,e){return t*t*t*e}function Pm(t,e,n,r,i){return Goe(t,e)+Woe(t,n)+$oe(t,r)+Koe(t,i)}class AT extends bs{constructor(e=new vt,n=new vt,r=new vt,i=new vt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new vt){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Pm(e,i.x,o.x,a.x,s.x),Pm(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class J8 extends bs{constructor(e=new de,n=new de,r=new de,i=new de){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new de){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Pm(e,i.x,o.x,a.x,s.x),Pm(e,i.y,o.y,a.y,s.y),Pm(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class IT extends bs{constructor(e=new vt,n=new vt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new vt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new vt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Q8 extends bs{constructor(e=new de,n=new de){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new de){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new de){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OT extends bs{constructor(e=new vt,n=new vt,r=new vt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new vt){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Tm(e,i.x,o.x,a.x),Tm(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DT extends bs{constructor(e=new de,n=new de,r=new de){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new de){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Tm(e,i.x,o.x,a.x),Tm(e,i.y,o.y,a.y),Tm(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kT extends bs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new vt){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],u=i[a],c=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(zD(s,l.x,u.x,c.x,f.x),zD(s,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new vt().fromArray(i))}return this}}var Dx=Object.freeze({__proto__:null,ArcCurve:Y8,CatmullRomCurve3:Z8,CubicBezierCurve:AT,CubicBezierCurve3:J8,EllipseCurve:Cb,LineCurve:IT,LineCurve3:Q8,QuadraticBezierCurve:OT,QuadraticBezierCurve3:DT,SplineCurve:kT});class e7 extends bs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Dx[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),u=l===0?0:1-a/l;return s.getPointAt(u,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Dx[i.type]().fromJSON(i))}return this}}class Lg extends e7{constructor(e){super(),this.type="Path",this.currentPoint=new vt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new IT(this.currentPoint.clone(),new vt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new OT(this.currentPoint.clone(),new vt(e,n),new vt(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new AT(this.currentPoint.clone(),new vt(e,n),new vt(r,i),new vt(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new kT(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const u=new Cb(e,n,r,i,o,a,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class gv extends On{constructor(e=[new vt(0,-.5),new vt(.5,0),new vt(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Gr(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],u=[],c=1/n,f=new de,p=new vt,m=new de,v=new de,b=new de;let y=0,g=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:y=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-y,m.z=g*0,b.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:y=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=b.x,m.y+=b.y,m.z+=b.z,m.normalize(),l.push(m.x,m.y,m.z),b.copy(v)}for(let x=0;x<=n;x++){const w=r+x*c*i,C=Math.sin(w),R=Math.cos(w);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*C,f.y=e[E].y,f.z=e[E].x*R,a.push(f.x,f.y,f.z),p.x=x/n,p.y=E/(e.length-1),s.push(p.x,p.y);const P=l[3*E+0]*C,D=l[3*E+1],L=l[3*E+0]*R;u.push(P,D,L)}}for(let x=0;x<n;x++)for(let w=0;w<e.length-1;w++){const C=w+x*e.length,R=C,E=C+e.length,P=C+e.length+1,D=C+1;o.push(R,E,D),o.push(P,D,E)}this.setIndex(o),this.setAttribute("position",new tn(a,3)),this.setAttribute("uv",new tn(s,2)),this.setAttribute("normal",new tn(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gv(e.points,e.segments,e.phiStart,e.phiLength)}}class Mb extends gv{constructor(e=1,n=1,r=4,i=8){const o=new Lg;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new Mb(e.radius,e.length,e.capSegments,e.radialSegments)}}class Tb extends On{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],u=new de,c=new vt;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=n;f++,p+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),a.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(a[p]/e+1)/2,c.y=(a[p+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new tn(a,3)),this.setAttribute("normal",new tn(s,3)),this.setAttribute("uv",new tn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tb(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class jh extends On{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),o=Math.floor(o);const c=[],f=[],p=[],m=[];let v=0;const b=[],y=r/2;let g=0;x(),a===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new tn(f,3)),this.setAttribute("normal",new tn(p,3)),this.setAttribute("uv",new tn(m,2));function x(){const C=new de,R=new de;let E=0;const P=(n-e)/r;for(let D=0;D<=o;D++){const L=[],M=D/o,I=M*(n-e)+e;for(let V=0;V<=i;V++){const Z=V/i,j=Z*l+s,fe=Math.sin(j),ye=Math.cos(j);R.x=I*fe,R.y=-M*r+y,R.z=I*ye,f.push(R.x,R.y,R.z),C.set(fe,P,ye).normalize(),p.push(C.x,C.y,C.z),m.push(Z,1-M),L.push(v++)}b.push(L)}for(let D=0;D<i;D++)for(let L=0;L<o;L++){const M=b[L][D],I=b[L+1][D],V=b[L+1][D+1],Z=b[L][D+1];c.push(M,I,Z),c.push(I,V,Z),E+=6}u.addGroup(g,E,0),g+=E}function w(C){const R=v,E=new vt,P=new de;let D=0;const L=C===!0?e:n,M=C===!0?1:-1;for(let V=1;V<=i;V++)f.push(0,y*M,0),p.push(0,M,0),m.push(.5,.5),v++;const I=v;for(let V=0;V<=i;V++){const j=V/i*l+s,fe=Math.cos(j),ye=Math.sin(j);P.x=L*ye,P.y=y*M,P.z=L*fe,f.push(P.x,P.y,P.z),p.push(0,M,0),E.x=fe*.5+.5,E.y=ye*.5*M+.5,m.push(E.x,E.y),v++}for(let V=0;V<i;V++){const Z=R+V,j=I+V;C===!0?c.push(j,j+1,Z):c.push(j+1,j,Z),D+=3}u.addGroup(g,D,C===!0?1:2),g+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Pb extends jh{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new Pb(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ku extends On{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),u(r),c(),this.setAttribute("position",new tn(o,3)),this.setAttribute("normal",new tn(o.slice(),3)),this.setAttribute("uv",new tn(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(x){const w=new de,C=new de,R=new de;for(let E=0;E<n.length;E+=3)m(n[E+0],w),m(n[E+1],C),m(n[E+2],R),l(w,C,R,x)}function l(x,w,C,R){const E=R+1,P=[];for(let D=0;D<=E;D++){P[D]=[];const L=x.clone().lerp(C,D/E),M=w.clone().lerp(C,D/E),I=E-D;for(let V=0;V<=I;V++)V===0&&D===E?P[D][V]=L:P[D][V]=L.clone().lerp(M,V/I)}for(let D=0;D<E;D++)for(let L=0;L<2*(E-D)-1;L++){const M=Math.floor(L/2);L%2===0?(p(P[D][M+1]),p(P[D+1][M]),p(P[D][M])):(p(P[D][M+1]),p(P[D+1][M+1]),p(P[D+1][M]))}}function u(x){const w=new de;for(let C=0;C<o.length;C+=3)w.x=o[C+0],w.y=o[C+1],w.z=o[C+2],w.normalize().multiplyScalar(x),o[C+0]=w.x,o[C+1]=w.y,o[C+2]=w.z}function c(){const x=new de;for(let w=0;w<o.length;w+=3){x.x=o[w+0],x.y=o[w+1],x.z=o[w+2];const C=y(x)/2/Math.PI+.5,R=g(x)/Math.PI+.5;a.push(C,1-R)}v(),f()}function f(){for(let x=0;x<a.length;x+=6){const w=a[x+0],C=a[x+2],R=a[x+4],E=Math.max(w,C,R),P=Math.min(w,C,R);E>.9&&P<.1&&(w<.2&&(a[x+0]+=1),C<.2&&(a[x+2]+=1),R<.2&&(a[x+4]+=1))}}function p(x){o.push(x.x,x.y,x.z)}function m(x,w){const C=x*3;w.x=e[C+0],w.y=e[C+1],w.z=e[C+2]}function v(){const x=new de,w=new de,C=new de,R=new de,E=new vt,P=new vt,D=new vt;for(let L=0,M=0;L<o.length;L+=9,M+=6){x.set(o[L+0],o[L+1],o[L+2]),w.set(o[L+3],o[L+4],o[L+5]),C.set(o[L+6],o[L+7],o[L+8]),E.set(a[M+0],a[M+1]),P.set(a[M+2],a[M+3]),D.set(a[M+4],a[M+5]),R.copy(x).add(w).add(C).divideScalar(3);const I=y(R);b(E,M+0,x,I),b(P,M+2,w,I),b(D,M+4,C,I)}}function b(x,w,C,R){R<0&&x.x===1&&(a[w]=x.x-1),C.x===0&&C.z===0&&(a[w]=R/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function g(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ku(e.vertices,e.indices,e.radius,e.details)}}class Rb extends Ku{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Rb(e.radius,e.detail)}}const D0=new de,k0=new de,g_=new de,L0=new sa;class LT extends On{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(tf*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){a?(u[0]=a.getX(v),u[1]=a.getX(v+1),u[2]=a.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:b,b:y,c:g}=L0;if(b.fromBufferAttribute(s,u[0]),y.fromBufferAttribute(s,u[1]),g.fromBufferAttribute(s,u[2]),L0.getNormal(g_),f[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const w=(x+1)%3,C=f[x],R=f[w],E=L0[c[x]],P=L0[c[w]],D=`${C}_${R}`,L=`${R}_${C}`;L in p&&p[L]?(g_.dot(p[L].normal)<=o&&(m.push(E.x,E.y,E.z),m.push(P.x,P.y,P.z)),p[L]=null):D in p||(p[D]={index0:u[x],index1:u[w],normal:g_.clone()})}}for(const v in p)if(p[v]){const{index0:b,index1:y}=p[v];D0.fromBufferAttribute(s,b),k0.fromBufferAttribute(s,y),m.push(D0.x,D0.y,D0.z),m.push(k0.x,k0.y,k0.z)}this.setAttribute("position",new tn(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class rf extends Lg{constructor(e){super(e),this.uuid=da(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Lg().fromJSON(i))}return this}}const Xoe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=t7(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,u,c,f,p,m;if(r&&(o=Qoe(t,e,o,n)),t.length>80*n){s=u=t[0],l=c=t[1];for(let v=n;v<i;v+=n)f=t[v],p=t[v+1],f<s&&(s=f),p<l&&(l=p),f>u&&(u=f),p>c&&(c=p);m=Math.max(u-s,c-l),m=m!==0?32767/m:0}return Ng(o,a,n,s,l,m,0),a}};function t7(t,e,n,r,i){let o,a;if(i===cae(t,e,n,r)>0)for(o=e;o<n;o+=r)a=BD(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=BD(o,t[o],t[o+1],a);return a&&Ab(a,a.next)&&(Ug(a),a=a.next),a}function gf(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Ab(n,n.next)||Dr(n.prev,n,n.next)===0)){if(Ug(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Ng(t,e,n,r,i,o,a){if(!t)return;!a&&o&&iae(t,r,i,o);let s=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,o?Yoe(t,r,i,o):qoe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Ug(t),t=u.next,s=u.next;continue}if(t=u,t===s){a?a===1?(t=Zoe(gf(t),e,n),Ng(t,e,n,r,i,o,2)):a===2&&Joe(t,e,n,r,i,o):Ng(gf(t),e,n,r,i,o,1);break}}}function qoe(t){const e=t.prev,n=t,r=t.next;if(Dr(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,u=r.y,c=i<o?i<a?i:a:o<a?o:a,f=s<l?s<u?s:u:l<u?l:u,p=i>o?i>a?i:a:o>a?o:a,m=s>l?s>u?s:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=c&&v.x<=p&&v.y>=f&&v.y<=m&&th(i,s,o,l,a,u,v.x,v.y)&&Dr(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Yoe(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Dr(i,o,a)>=0)return!1;const s=i.x,l=o.x,u=a.x,c=i.y,f=o.y,p=a.y,m=s<l?s<u?s:u:l<u?l:u,v=c<f?c<p?c:p:f<p?f:p,b=s>l?s>u?s:u:l>u?l:u,y=c>f?c>p?c:p:f>p?f:p,g=Z2(m,v,e,n,r),x=Z2(b,y,e,n,r);let w=t.prevZ,C=t.nextZ;for(;w&&w.z>=g&&C&&C.z<=x;){if(w.x>=m&&w.x<=b&&w.y>=v&&w.y<=y&&w!==i&&w!==a&&th(s,c,l,f,u,p,w.x,w.y)&&Dr(w.prev,w,w.next)>=0||(w=w.prevZ,C.x>=m&&C.x<=b&&C.y>=v&&C.y<=y&&C!==i&&C!==a&&th(s,c,l,f,u,p,C.x,C.y)&&Dr(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;w&&w.z>=g;){if(w.x>=m&&w.x<=b&&w.y>=v&&w.y<=y&&w!==i&&w!==a&&th(s,c,l,f,u,p,w.x,w.y)&&Dr(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;C&&C.z<=x;){if(C.x>=m&&C.x<=b&&C.y>=v&&C.y<=y&&C!==i&&C!==a&&th(s,c,l,f,u,p,C.x,C.y)&&Dr(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Zoe(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!Ab(i,o)&&n7(i,r,r.next,o)&&Fg(i,o)&&Fg(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),Ug(r),Ug(r.next),r=t=o),r=r.next}while(r!==t);return gf(r)}function Joe(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&sae(a,s)){let l=r7(a,s);a=gf(a,a.next),l=gf(l,l.next),Ng(a,e,n,r,i,o,0),Ng(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function Qoe(t,e,n,r){const i=[];let o,a,s,l,u;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,u=t7(t,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(aae(u));for(i.sort(eae),o=0;o<i.length;o++)n=tae(i[o],n);return n}function eae(t,e){return t.x-e.x}function tae(t,e){const n=nae(t,e);if(!n)return e;const r=r7(n,t);return gf(r,r.next),gf(n,n.next)}function nae(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const p=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=o&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,u=i.y;let c=1/0,f;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&th(a<u?o:r,a,l,u,a<u?r:o,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(o-n.x),Fg(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&rae(i,n)))&&(i=n,c=f)),n=n.next;while(n!==s);return i}function rae(t,e){return Dr(t.prev,t,e.prev)<0&&Dr(e.next,t,t.next)<0}function iae(t,e,n,r){let i=t;do i.z===0&&(i.z=Z2(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,oae(i)}function oae(t){let e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ,!!r);e++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return t}function Z2(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function aae(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function th(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function sae(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!lae(t,e)&&(Fg(t,e)&&Fg(e,t)&&uae(t,e)&&(Dr(t.prev,t,e.prev)||Dr(t,e.prev,e))||Ab(t,e)&&Dr(t.prev,t,t.next)>0&&Dr(e.prev,e,e.next)>0)}function Dr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ab(t,e){return t.x===e.x&&t.y===e.y}function n7(t,e,n,r){const i=F0(Dr(t,e,n)),o=F0(Dr(t,e,r)),a=F0(Dr(n,r,t)),s=F0(Dr(n,r,e));return!!(i!==o&&a!==s||i===0&&N0(t,n,e)||o===0&&N0(t,r,e)||a===0&&N0(n,t,r)||s===0&&N0(n,e,r))}function N0(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function F0(t){return t>0?1:t<0?-1:0}function lae(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&n7(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Fg(t,e){return Dr(t.prev,t,t.next)<0?Dr(t,e,t.next)>=0&&Dr(t,t.prev,e)>=0:Dr(t,e,t.prev)<0||Dr(t,t.next,e)<0}function uae(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function r7(t,e){const n=new J2(t.i,t.x,t.y),r=new J2(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function BD(t,e,n,r){const i=new J2(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ug(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function J2(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function cae(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class Ws{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Ws.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];HD(e),VD(r,e);let a=e.length;n.forEach(HD);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,VD(r,n[l]);const s=Xoe.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function HD(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function VD(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Ib extends On{constructor(e=new rf([new vt(.5,.5),new vt(-.5,.5),new vt(-.5,-.5),new vt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];a(u)}this.setAttribute("position",new tn(i,3)),this.setAttribute("uv",new tn(o,2)),this.computeVertexNormals();function a(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:fae;let w,C=!1,R,E,P,D;g&&(w=g.getSpacedPoints(c),C=!0,p=!1,R=g.computeFrenetFrames(c,!1),E=new de,P=new de,D=new de),p||(y=0,m=0,v=0,b=0);const L=s.extractPoints(u);let M=L.shape;const I=L.holes;if(!Ws.isClockWise(M)){M=M.reverse();for(let Y=0,Fe=I.length;Y<Fe;Y++){const Me=I[Y];Ws.isClockWise(Me)&&(I[Y]=Me.reverse())}}const Z=Ws.triangulateShape(M,I),j=M;for(let Y=0,Fe=I.length;Y<Fe;Y++){const Me=I[Y];M=M.concat(Me)}function fe(Y,Fe,Me){return Fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Y.clone().addScaledVector(Fe,Me)}const ye=M.length,ve=Z.length;function X(Y,Fe,Me){let et,Ve,lt;const J=Y.x-Fe.x,Q=Y.y-Fe.y,xe=Me.x-Y.x,B=Me.y-Y.y,O=J*J+Q*Q,ee=J*B-Q*xe;if(Math.abs(ee)>Number.EPSILON){const he=Math.sqrt(O),le=Math.sqrt(xe*xe+B*B),Ee=Fe.x-Q/he,qe=Fe.y+J/he,Ke=Me.x-B/le,be=Me.y+xe/le,Ye=((Ke-Ee)*B-(be-qe)*xe)/(J*B-Q*xe);et=Ee+J*Ye-Y.x,Ve=qe+Q*Ye-Y.y;const at=et*et+Ve*Ve;if(at<=2)return new vt(et,Ve);lt=Math.sqrt(at/2)}else{let he=!1;J>Number.EPSILON?xe>Number.EPSILON&&(he=!0):J<-Number.EPSILON?xe<-Number.EPSILON&&(he=!0):Math.sign(Q)===Math.sign(B)&&(he=!0),he?(et=-Q,Ve=J,lt=Math.sqrt(O)):(et=J,Ve=Q,lt=Math.sqrt(O/2))}return new vt(et/lt,Ve/lt)}const ne=[];for(let Y=0,Fe=j.length,Me=Fe-1,et=Y+1;Y<Fe;Y++,Me++,et++)Me===Fe&&(Me=0),et===Fe&&(et=0),ne[Y]=X(j[Y],j[Me],j[et]);const F=[];let ce,se=ne.concat();for(let Y=0,Fe=I.length;Y<Fe;Y++){const Me=I[Y];ce=[];for(let et=0,Ve=Me.length,lt=Ve-1,J=et+1;et<Ve;et++,lt++,J++)lt===Ve&&(lt=0),J===Ve&&(J=0),ce[et]=X(Me[et],Me[lt],Me[J]);F.push(ce),se=se.concat(ce)}for(let Y=0;Y<y;Y++){const Fe=Y/y,Me=m*Math.cos(Fe*Math.PI/2),et=v*Math.sin(Fe*Math.PI/2)+b;for(let Ve=0,lt=j.length;Ve<lt;Ve++){const J=fe(j[Ve],ne[Ve],et);st(J.x,J.y,-Me)}for(let Ve=0,lt=I.length;Ve<lt;Ve++){const J=I[Ve];ce=F[Ve];for(let Q=0,xe=J.length;Q<xe;Q++){const B=fe(J[Q],ce[Q],et);st(B.x,B.y,-Me)}}}const K=v+b;for(let Y=0;Y<ye;Y++){const Fe=p?fe(M[Y],se[Y],K):M[Y];C?(P.copy(R.normals[0]).multiplyScalar(Fe.x),E.copy(R.binormals[0]).multiplyScalar(Fe.y),D.copy(w[0]).add(P).add(E),st(D.x,D.y,D.z)):st(Fe.x,Fe.y,0)}for(let Y=1;Y<=c;Y++)for(let Fe=0;Fe<ye;Fe++){const Me=p?fe(M[Fe],se[Fe],K):M[Fe];C?(P.copy(R.normals[Y]).multiplyScalar(Me.x),E.copy(R.binormals[Y]).multiplyScalar(Me.y),D.copy(w[Y]).add(P).add(E),st(D.x,D.y,D.z)):st(Me.x,Me.y,f/c*Y)}for(let Y=y-1;Y>=0;Y--){const Fe=Y/y,Me=m*Math.cos(Fe*Math.PI/2),et=v*Math.sin(Fe*Math.PI/2)+b;for(let Ve=0,lt=j.length;Ve<lt;Ve++){const J=fe(j[Ve],ne[Ve],et);st(J.x,J.y,f+Me)}for(let Ve=0,lt=I.length;Ve<lt;Ve++){const J=I[Ve];ce=F[Ve];for(let Q=0,xe=J.length;Q<xe;Q++){const B=fe(J[Q],ce[Q],et);C?st(B.x,B.y+w[c-1].y,w[c-1].x+Me):st(B.x,B.y,f+Me)}}}ge(),ze();function ge(){const Y=i.length/3;if(p){let Fe=0,Me=ye*Fe;for(let et=0;et<ve;et++){const Ve=Z[et];it(Ve[2]+Me,Ve[1]+Me,Ve[0]+Me)}Fe=c+y*2,Me=ye*Fe;for(let et=0;et<ve;et++){const Ve=Z[et];it(Ve[0]+Me,Ve[1]+Me,Ve[2]+Me)}}else{for(let Fe=0;Fe<ve;Fe++){const Me=Z[Fe];it(Me[2],Me[1],Me[0])}for(let Fe=0;Fe<ve;Fe++){const Me=Z[Fe];it(Me[0]+ye*c,Me[1]+ye*c,Me[2]+ye*c)}}r.addGroup(Y,i.length/3-Y,0)}function ze(){const Y=i.length/3;let Fe=0;Be(j,Fe),Fe+=j.length;for(let Me=0,et=I.length;Me<et;Me++){const Ve=I[Me];Be(Ve,Fe),Fe+=Ve.length}r.addGroup(Y,i.length/3-Y,1)}function Be(Y,Fe){let Me=Y.length;for(;--Me>=0;){const et=Me;let Ve=Me-1;Ve<0&&(Ve=Y.length-1);for(let lt=0,J=c+y*2;lt<J;lt++){const Q=ye*lt,xe=ye*(lt+1),B=Fe+et+Q,O=Fe+Ve+Q,ee=Fe+Ve+xe,he=Fe+et+xe;gt(B,O,ee,he)}}}function st(Y,Fe,Me){l.push(Y),l.push(Fe),l.push(Me)}function it(Y,Fe,Me){yt(Y),yt(Fe),yt(Me);const et=i.length/3,Ve=x.generateTopUV(r,i,et-3,et-2,et-1);je(Ve[0]),je(Ve[1]),je(Ve[2])}function gt(Y,Fe,Me,et){yt(Y),yt(Fe),yt(et),yt(Fe),yt(Me),yt(et);const Ve=i.length/3,lt=x.generateSideWallUV(r,i,Ve-6,Ve-3,Ve-2,Ve-1);je(lt[0]),je(lt[1]),je(lt[3]),je(lt[1]),je(lt[2]),je(lt[3])}function yt(Y){i.push(l[Y*3+0]),i.push(l[Y*3+1]),i.push(l[Y*3+2])}function je(Y){o.push(Y.x),o.push(Y.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return dae(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Dx[i.type]().fromJSON(i)),new Ib(r,e.options)}}const fae={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new vt(o,a),new vt(s,l),new vt(u,c)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],b=e[o*3],y=e[o*3+1],g=e[o*3+2];return Math.abs(s-c)<Math.abs(a-u)?[new vt(a,1-l),new vt(u,1-f),new vt(p,1-v),new vt(b,1-g)]:[new vt(s,1-l),new vt(c,1-f),new vt(m,1-v),new vt(y,1-g)]}};function dae(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class vv extends Ku{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new vv(e.radius,e.detail)}}class yv extends Ku{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new yv(e.radius,e.detail)}}class Ob extends On{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],c=[];let f=e;const p=(n-e)/i,m=new de,v=new vt;for(let b=0;b<=i;b++){for(let y=0;y<=r;y++){const g=o+y/r*a;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,c.push(v.x,v.y)}f+=p}for(let b=0;b<i;b++){const y=b*(r+1);for(let g=0;g<r;g++){const x=g+y,w=x,C=x+r+1,R=x+r+2,E=x+1;s.push(w,C,E),s.push(C,R,E)}}this.setIndex(s),this.setAttribute("position",new tn(l,3)),this.setAttribute("normal",new tn(u,3)),this.setAttribute("uv",new tn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ob(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Db extends On{constructor(e=new rf([new vt(0,.5),new vt(-.5,-.5),new vt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new tn(i,3)),this.setAttribute("normal",new tn(o,3)),this.setAttribute("uv",new tn(a,2));function u(c){const f=i.length/3,p=c.extractPoints(n);let m=p.shape;const v=p.holes;Ws.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const x=v[y];Ws.isClockWise(x)===!0&&(v[y]=x.reverse())}const b=Ws.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const x=v[y];m=m.concat(x)}for(let y=0,g=m.length;y<g;y++){const x=m[y];i.push(x.x,x.y,0),o.push(0,0,1),a.push(x.x,x.y)}for(let y=0,g=b.length;y<g;y++){const x=b[y],w=x[0]+f,C=x[1]+f,R=x[2]+f;r.push(w,C,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return hae(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new Db(r,e.curveSegments)}}function hae(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class xv extends On{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let u=0;const c=[],f=new de,p=new de,m=[],v=[],b=[],y=[];for(let g=0;g<=r;g++){const x=[],w=g/r;let C=0;g===0&&a===0?C=.5/n:g===r&&l===Math.PI&&(C=-.5/n);for(let R=0;R<=n;R++){const E=R/n;f.x=-e*Math.cos(i+E*o)*Math.sin(a+w*s),f.y=e*Math.cos(a+w*s),f.z=e*Math.sin(i+E*o)*Math.sin(a+w*s),v.push(f.x,f.y,f.z),p.copy(f).normalize(),b.push(p.x,p.y,p.z),y.push(E+C,1-w),x.push(u++)}c.push(x)}for(let g=0;g<r;g++)for(let x=0;x<n;x++){const w=c[g][x+1],C=c[g][x],R=c[g+1][x],E=c[g+1][x+1];(g!==0||a>0)&&m.push(w,C,E),(g!==r-1||l<Math.PI)&&m.push(C,R,E)}this.setIndex(m),this.setAttribute("position",new tn(v,3)),this.setAttribute("normal",new tn(b,3)),this.setAttribute("uv",new tn(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class kb extends Ku{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new kb(e.radius,e.detail)}}class Lb extends On{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],u=[],c=new de,f=new de,p=new de;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const b=v/i*o,y=m/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(b),f.y=(e+n*Math.cos(y))*Math.sin(b),f.z=n*Math.sin(y),s.push(f.x,f.y,f.z),c.x=e*Math.cos(b),c.y=e*Math.sin(b),p.subVectors(f,c).normalize(),l.push(p.x,p.y,p.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const b=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,x=(i+1)*m+v;a.push(b,y,x),a.push(y,g,x)}this.setIndex(a),this.setAttribute("position",new tn(s,3)),this.setAttribute("normal",new tn(l,3)),this.setAttribute("uv",new tn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Nb extends On{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],c=[],f=new de,p=new de,m=new de,v=new de,b=new de,y=new de,g=new de;for(let w=0;w<=r;++w){const C=w/r*o*Math.PI*2;x(C,o,a,e,m),x(C+.01,o,a,e,v),y.subVectors(v,m),g.addVectors(v,m),b.crossVectors(y,g),g.crossVectors(b,y),b.normalize(),g.normalize();for(let R=0;R<=i;++R){const E=R/i*Math.PI*2,P=-n*Math.cos(E),D=n*Math.sin(E);f.x=m.x+(P*g.x+D*b.x),f.y=m.y+(P*g.y+D*b.y),f.z=m.z+(P*g.z+D*b.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),u.push(p.x,p.y,p.z),c.push(w/r),c.push(R/i)}}for(let w=1;w<=r;w++)for(let C=1;C<=i;C++){const R=(i+1)*(w-1)+(C-1),E=(i+1)*w+(C-1),P=(i+1)*w+C,D=(i+1)*(w-1)+C;s.push(R,E,D),s.push(E,P,D)}this.setIndex(s),this.setAttribute("position",new tn(l,3)),this.setAttribute("normal",new tn(u,3)),this.setAttribute("uv",new tn(c,2));function x(w,C,R,E,P){const D=Math.cos(w),L=Math.sin(w),M=R/C*w,I=Math.cos(M);P.x=E*(2+I)*.5*D,P.y=E*(2+I)*L*.5,P.z=E*Math.sin(M)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Fb extends On{constructor(e=new DT(new de(-1,-1,0),new de(-1,1,0),new de(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new de,l=new de,u=new vt;let c=new de;const f=[],p=[],m=[],v=[];b(),this.setIndex(v),this.setAttribute("position",new tn(f,3)),this.setAttribute("normal",new tn(p,3)),this.setAttribute("uv",new tn(m,2));function b(){for(let w=0;w<n;w++)y(w);y(o===!1?n:0),x(),g()}function y(w){c=e.getPointAt(w/n,c);const C=a.normals[w],R=a.binormals[w];for(let E=0;E<=i;E++){const P=E/i*Math.PI*2,D=Math.sin(P),L=-Math.cos(P);l.x=L*C.x+D*R.x,l.y=L*C.y+D*R.y,l.z=L*C.z+D*R.z,l.normalize(),p.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,f.push(s.x,s.y,s.z)}}function g(){for(let w=1;w<=n;w++)for(let C=1;C<=i;C++){const R=(i+1)*(w-1)+(C-1),E=(i+1)*w+(C-1),P=(i+1)*w+C,D=(i+1)*(w-1)+C;v.push(R,E,D),v.push(E,P,D)}}function x(){for(let w=0;w<=n;w++)for(let C=0;C<=i;C++)u.x=w/n,u.y=C/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Fb(new Dx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class NT extends On{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new de,o=new de;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],p=f.start,m=f.count;for(let v=p,b=p+m;v<b;v+=3)for(let y=0;y<3;y++){const g=s.getX(v+y),x=s.getX(v+(y+1)%3);i.fromBufferAttribute(a,g),o.fromBufferAttribute(a,x),jD(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;i.fromBufferAttribute(a,c),o.fromBufferAttribute(a,f),jD(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new tn(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function jD(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var GD=Object.freeze({__proto__:null,BoxGeometry:Cf,CapsuleGeometry:Mb,CircleGeometry:Tb,ConeGeometry:Pb,CylinderGeometry:jh,DodecahedronGeometry:Rb,EdgesGeometry:LT,ExtrudeGeometry:Ib,IcosahedronGeometry:vv,LatheGeometry:gv,OctahedronGeometry:yv,PlaneGeometry:Hh,PolyhedronGeometry:Ku,RingGeometry:Ob,ShapeGeometry:Db,SphereGeometry:xv,TetrahedronGeometry:kb,TorusGeometry:Lb,TorusKnotGeometry:Nb,TubeGeometry:Fb,WireframeGeometry:NT});class i7 extends Bi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new $t(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class o7 extends Ko{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class FT extends Bi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new $t(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wu,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ma,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class a7 extends FT{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new vt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Gr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new $t(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new $t(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new $t(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class s7 extends Bi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new $t(16777215),this.specular=new $t(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wu,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ma,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class l7 extends Bi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new $t(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wu,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class u7 extends Bi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wu,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class c7 extends Bi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new $t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wu,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ma,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class f7 extends Bi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new $t(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wu,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class d7 extends Oo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Wc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function h7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function p7(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function Q2(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function UT(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function pae(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],c=u.getValueSize(),f=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<n||v>=r)){f.push(u.times[m]);for(let b=0;b<c;++b)p.push(u.values[m*c+b])}}f.length!==0&&(u.times=Wc(f,u.times.constructor),u.values=Wc(p,u.values.constructor),a.push(u))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function mae(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===s.name&&g.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=s.times.length-1;let b;if(o<=s.times[0]){const g=c,x=f-c;b=s.values.slice(g,x)}else if(o>=s.times[v]){const g=v*f+c,x=g+f-c;b=s.values.slice(g,x)}else{const g=s.createInterpolant(),x=c,w=f-c;g.evaluate(o),b=g.resultBuffer.slice(x,w)}l==="quaternion"&&new Pi().fromArray(b).normalize().conjugate().toArray(b);const y=u.times.length;for(let g=0;g<y;++g){const x=g*m+p;if(l==="quaternion")Pi.multiplyQuaternionsFlat(u.values,x,b,0,u.values,x);else{const w=m-p*2;for(let C=0;C<w;++C)u.values[x+C]-=b[C]}}}return t.blendMode=hT,t}const gae={convertArray:Wc,isTypedArray:h7,getKeyframeOrder:p7,sortedArray:Q2,flattenJSON:UT,subclip:pae,makeClipAdditive:mae};class bv{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class m7 extends bv{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Hc,endingEnd:Hc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case Vc:o=e,s=2*n-r;break;case Tg:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Vc:a=e,l=2*r-n;break;case Tg:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=o*c,this._offsetNext=a*c}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),b=v*v,y=b*v,g=-p*y+2*p*b-p*v,x=(1+p)*y+(-1.5-2*p)*b+(-.5+p)*v+1,w=(-1-m)*y+(1.5+m)*b+.5*v,C=m*y-m*b;for(let R=0;R!==s;++R)o[R]=g*a[c+R]+x*a[u+R]+w*a[l+R]+C*a[f+R];return o}}class zT extends bv{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-n)/(i-n),f=1-c;for(let p=0;p!==s;++p)o[p]=a[u+p]*f+a[l+p]*c;return o}}class g7 extends bv{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ws{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wc(n,this.TimeBufferType),this.values=Wc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Wc(e.times,Array),values:Wc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new g7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new m7(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Cg:n=this.InterpolantFactoryMethodDiscrete;break;case Mg:n=this.InterpolantFactoryMethodLinear;break;case R1:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Cg;case this.InterpolantFactoryMethodLinear:return Mg;case this.InterpolantFactoryMethodSmooth:return R1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&h7(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===R1,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const f=s*r,p=f-r,m=f+r;for(let v=0;v!==r;++v){const b=n[f+v];if(b!==n[p+v]||b!==n[m+v]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const f=s*r,p=a*r;for(let m=0;m!==r;++m)n[p+m]=n[f+m]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,u=0;u!==r;++u)n[l+u]=n[s+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ws.prototype.TimeBufferType=Float32Array;ws.prototype.ValueBufferType=Float32Array;ws.prototype.DefaultInterpolation=Mg;class Mf extends ws{}Mf.prototype.ValueTypeName="bool";Mf.prototype.ValueBufferType=Array;Mf.prototype.DefaultInterpolation=Cg;Mf.prototype.InterpolantFactoryMethodLinear=void 0;Mf.prototype.InterpolantFactoryMethodSmooth=void 0;class BT extends ws{}BT.prototype.ValueTypeName="color";class zg extends ws{}zg.prototype.ValueTypeName="number";class v7 extends bv{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let c=u+s;u!==c;u+=4)Pi.slerpFlat(o,0,a,u-s,a,u,l);return o}}class Gh extends ws{InterpolantFactoryMethodLinear(e){return new v7(this.times,this.values,this.getValueSize(),e)}}Gh.prototype.ValueTypeName="quaternion";Gh.prototype.DefaultInterpolation=Mg;Gh.prototype.InterpolantFactoryMethodSmooth=void 0;class Tf extends ws{}Tf.prototype.ValueTypeName="string";Tf.prototype.ValueBufferType=Array;Tf.prototype.DefaultInterpolation=Cg;Tf.prototype.InterpolantFactoryMethodLinear=void 0;Tf.prototype.InterpolantFactoryMethodSmooth=void 0;class Bg extends ws{}Bg.prototype.ValueTypeName="vector";class Hg{constructor(e,n=-1,r,i=mb){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=da(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(yae(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(ws.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],u=[];l.push((s+o-1)%o,s,(s+1)%o),u.push(0,1,0);const c=p7(l);l=Q2(l,1,c),u=Q2(u,1,c),!i&&l[0]===0&&(l.push(o),u.push(u[0])),a.push(new zg(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(o);if(c&&c.length>1){const f=c[1];let p=i[f];p||(i[f]=p=[]),p.push(u)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,v,b){if(m.length!==0){const y=[],g=[];UT(m,y,g,v),y.length!==0&&b.push(new f(p,y,g))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const p=u[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let b=0;b<p[v].morphTargets.length;b++)m[p[v].morphTargets[b]]=-1;for(const b in m){const y=[],g=[];for(let x=0;x!==p[v].morphTargets.length;++x){const w=p[v];y.push(w.time),g.push(w.morphTarget===b?1:0)}i.push(new zg(".morphTargetInfluence["+b+"]",y,g))}l=m.length*a}else{const m=".bones["+n[f].name+"]";r(Bg,m+".position",p,"pos",i),r(Gh,m+".quaternion",p,"rot",i),r(Bg,m+".scale",p,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function vae(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zg;case"vector":case"vector2":case"vector3":case"vector4":return Bg;case"color":return BT;case"quaternion":return Gh;case"bool":case"boolean":return Mf;case"string":return Tf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function yae(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=vae(t.type);if(t.times===void 0){const n=[],r=[];UT(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Sl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class HT{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){s++,o===!1&&i.onStart!==void 0&&i.onStart(c,a,s),o=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,p=u.length;f<p;f+=2){const m=u[f],v=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return v}return null}}}const y7=new HT;class qo{constructor(e){this.manager=e!==void 0?e:y7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}qo.DEFAULT_MATERIAL_NAME="__DEFAULT";const cl={};class xae extends Error{constructor(e,n){super(e),this.response=n}}class Dl extends qo{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Sl.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(cl[e]!==void 0){cl[e].push({onLoad:n,onProgress:r,onError:i});return}cl[e]=[],cl[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=cl[e],f=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let b=0;const y=new ReadableStream({start(g){x();function x(){f.read().then(({done:w,value:C})=>{if(w)g.close();else{b+=C.byteLength;const R=new ProgressEvent("progress",{lengthComputable:v,loaded:b,total:m});for(let E=0,P=c.length;E<P;E++){const D=c[E];D.onProgress&&D.onProgress(R)}g.enqueue(C),x()}})}}});return new Response(y)}else throw new xae(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{Sl.add(e,u);const c=cl[e];delete cl[e];for(let f=0,p=c.length;f<p;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=cl[e];if(c===void 0)throw this.manager.itemError(e),u;delete cl[e];for(let f=0,p=c.length;f<p;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class bae extends qo{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Dl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Hg.parse(e[r]);n.push(i)}return n}}class wae extends qo{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new Eb,l=new Dl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let u=0;function c(f){l.load(e[f],function(p){const m=o.parse(p,!0);a[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(s.minFilter=or),s.image=a,s.format=m.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)c(f);else l.load(e,function(f){const p=o.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){a[v]={mipmaps:[]};for(let b=0;b<p.mipmapCount;b++)a[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+b]),a[v].format=p.format,a[v].width=p.width,a[v].height=p.height}s.image=a}else s.image.width=p.width,s.image.height=p.height,s.mipmaps=p.mipmaps;p.mipmapCount===1&&(s.minFilter=or),s.format=p.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class Vg extends qo{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Sl.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=Dg("img");function l(){c(),Sl.add(e,this),n&&n(this),o.manager.itemEnd(e)}function u(f){c(),i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class x7 extends qo{constructor(e){super(e)}load(e,n,r,i){const o=new pv;o.colorSpace=ka;const a=new Vg(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(u){a.load(e[u],function(c){o.images[u]=c,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return o}}class VT extends qo{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Iu,s=new Dl(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let u;try{u=o.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:ro,a.wrapT=u.wrapT!==void 0?u.wrapT:ro,a.magFilter=u.magFilter!==void 0?u.magFilter:or,a.minFilter=u.minFilter!==void 0?u.minFilter:or,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=zs),u.mipmapCount===1&&(a.minFilter=or),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u)},r,i),a}}class Sae extends qo{constructor(e){super(e)}load(e,n,r,i){const o=new Pr,a=new Vg(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Xu extends Zn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new $t(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class b7 extends Xu{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new $t(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const v_=new yn,WD=new de,$D=new de;class jT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new vt(512,512),this.map=null,this.mapPass=null,this.matrix=new yn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new mv,this._frameExtents=new vt(1,1),this._viewportCount=1,this._viewports=[new Gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;WD.setFromMatrixPosition(e.matrixWorld),n.position.copy(WD),$D.setFromMatrixPosition(e.target.matrixWorld),n.lookAt($D),n.updateMatrixWorld(),v_.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(v_),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(v_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class _ae extends jT{constructor(){super(new Mr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Th*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class w7 extends Xu{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new _ae}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const KD=new yn,jp=new de,y_=new de;class Eae extends jT{constructor(){super(new Mr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new vt(4,2),this._viewportCount=6,this._viewports=[new Gn(2,1,1,1),new Gn(0,1,1,1),new Gn(3,1,1,1),new Gn(1,1,1,1),new Gn(3,0,1,1),new Gn(1,0,1,1)],this._cubeDirections=[new de(1,0,0),new de(-1,0,0),new de(0,0,1),new de(0,0,-1),new de(0,1,0),new de(0,-1,0)],this._cubeUps=[new de(0,1,0),new de(0,1,0),new de(0,1,0),new de(0,1,0),new de(0,0,1),new de(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),jp.setFromMatrixPosition(e.matrixWorld),r.position.copy(jp),y_.copy(r.position),y_.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(y_),r.updateMatrixWorld(),i.makeTranslation(-jp.x,-jp.y,-jp.z),KD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(KD)}}class S7 extends Xu{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Eae}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Cae extends jT{constructor(){super(new ps(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _7 extends Xu{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.shadow=new Cae}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class E7 extends Xu{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class C7 extends Xu{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class M7{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new de)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class T7 extends Xu{constructor(e=new M7,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Ub extends qo{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new Dl(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=Ub.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new $t().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new $t().setHex(a.value);break;case"v2":i.uniforms[o].value=new vt().fromArray(a.value);break;case"v3":i.uniforms[o].value=new de().fromArray(a.value);break;case"v4":i.uniforms[o].value=new Gn().fromArray(a.value);break;case"m3":i.uniforms[o].value=new Tn().fromArray(a.value);break;case"m4":i.uniforms[o].value=new yn().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new vt().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new vt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:i7,SpriteMaterial:MT,RawShaderMaterial:o7,ShaderMaterial:Ko,PointsMaterial:PT,MeshPhysicalMaterial:a7,MeshStandardMaterial:FT,MeshPhongMaterial:s7,MeshToonMaterial:l7,MeshNormalMaterial:u7,MeshLambertMaterial:c7,MeshDepthMaterial:_T,MeshDistanceMaterial:ET,MeshBasicMaterial:$u,MeshMatcapMaterial:f7,LineDashedMaterial:d7,LineBasicMaterial:Oo,Material:Bi};return new n[e]}}class eM{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class GT extends On{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class P7 extends qo{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Dl(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const y=m.interleavedBuffers[v],g=o(m,y.buffer),x=Zd(y.type,g),w=new Sb(x,y.stride);return w.uuid=y.uuid,n[v]=w,w}function o(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return r[v]=g,g}const a=e.isInstancedBufferGeometry?new GT:new On,s=e.data.index;if(s!==void 0){const m=Zd(s.type,s.array);a.setIndex(new sr(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let b;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);b=new ua(y,v.itemSize,v.offset,v.normalized)}else{const y=Zd(v.type,v.array),g=v.isInstancedBufferAttribute?Ah:sr;b=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(b.name=v.name),v.usage!==void 0&&b.setUsage(v.usage),a.setAttribute(m,b)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],b=[];for(let y=0,g=v.length;y<g;y++){const x=v[y];let w;if(x.isInterleavedBufferAttribute){const C=i(e.data,x.data);w=new ua(C,x.itemSize,x.offset,x.normalized)}else{const C=Zd(x.type,x.array);w=new sr(C,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),b.push(w)}a.morphAttributes[m]=b}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,v=f.length;m!==v;++m){const b=f[m];a.addGroup(b.start,b.count,b.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new de;p.center!==void 0&&m.fromArray(p.center),a.boundingSphere=new Ai(m,p.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Mae extends qo{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?eM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new Dl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?eM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new Dl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,o,l,s,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const p in a)if(a[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new rf().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new _b().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new P7;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in GD?s=GD[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new Ub;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=Hg.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(c)}else return l.data?{data:Zd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new HT(n);o=new Vg(l),o.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],p=f.url;if(Array.isArray(p)){const m=[];for(let v=0,b=p.length;v<b;v++){const y=p[v],g=s(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Iu(g.data,g.width,g.height)))}i[f.uuid]=new jc(m)}else{const m=s(f.url);i[f.uuid]=new jc(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:Zd(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new Vg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,p=u.length;f<p;f++){const m=u[f],v=await o(m);v!==null&&(v instanceof HTMLImageElement?c.push(v):c.push(new Iu(v.data,v.width,v.height)))}r[l.uuid]=new jc(c)}else{const c=await o(l.url);r[l.uuid]=new jc(c)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],u=l.data;let c;Array.isArray(u)?(c=new pv,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Iu:c=new Pr,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,Tae)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],XD),c.wrapT=r(s.wrap[1],XD)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,qD)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,qD)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,n,r,i,o){let a;function s(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,b=p.length;v<b;v++){const y=p[v];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let c,f;switch(e.type){case"Scene":a=new Rh,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new $t(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new wb(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new bb(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Mr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new ps(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new E7(e.color,e.intensity);break;case"DirectionalLight":a=new _7(e.color,e.intensity);break;case"PointLight":a=new S7(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new C7(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new w7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new b7(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new T7().fromJSON(e);break;case"SkinnedMesh":c=s(e.geometry),f=l(e.material),a=new G8(c,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=l(e.material),a=new Wr(c,f);break;case"InstancedMesh":c=s(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;a=new W8(c,f,p),a.instanceMatrix=new Ah(new Float32Array(m.array),16),v!==void 0&&(a.instanceColor=new Ah(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=l(e.material),a=new $8(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=c,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(b=>{const y=new Ri;y.min.fromArray(b.boxMin),y.max.fromArray(b.boxMax);const g=new Ai;return g.radius=b.sphereRadius,g.center.fromArray(b.sphereCenter),{boxInitialized:b.boxInitialized,box:y,sphereInitialized:b.sphereInitialized,sphere:g}}),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=u(e.matricesTexture.uuid);break;case"LOD":a=new j8;break;case"Line":a=new Bu(s(e.geometry),l(e.material));break;case"LineLoop":a=new K8(s(e.geometry),l(e.material));break;case"LineSegments":a=new qs(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new X8(s(e.geometry),l(e.material));break;case"Sprite":a=new V8(l(e.material));break;case"Group":a=new eh;break;case"Bone":a=new TT;break;default:a=new Zn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)a.add(this.parseObject(p[m],n,r,i,o))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];a.animations.push(o[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],b=a.getObjectByProperty("uuid",v.object);b!==void 0&&a.addLevel(b,v.distance,v.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Tae={UVMapping:db,CubeReflectionMapping:$s,CubeRefractionMapping:zu,EquirectangularReflectionMapping:Mh,EquirectangularRefractionMapping:Sg,CubeUVReflectionMapping:Bh},XD={RepeatWrapping:_g,ClampToEdgeWrapping:ro,MirroredRepeatWrapping:Eg},qD={NearestFilter:Yr,NearestMipmapNearestFilter:Ax,NearestMipmapLinearFilter:Ic,LinearFilter:or,LinearMipmapNearestFilter:Cm,LinearMipmapLinearFilter:zs};class Pae extends qo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Sl.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(u=>{n&&n(u),o.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(u){return Sl.add(e,u),n&&n(u),o.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Sl.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Sl.add(e,l),o.manager.itemStart(e)}}let U0;class WT{static getContext(){return U0===void 0&&(U0=new(window.AudioContext||window.webkitAudioContext)),U0}static setContext(e){U0=e}}class Rae extends qo{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Dl(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);WT.getContext().decodeAudioData(u,function(f){n(f)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const YD=new yn,ZD=new yn,mc=new yn;class Aae{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Mr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Mr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,mc.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(tf*n.fov*.5)/n.zoom;let s,l;ZD.elements[12]=-i,YD.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,mc.elements[0]=2*n.near/(l-s),mc.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(mc),s=-a*n.aspect-o,l=a*n.aspect-o,mc.elements[0]=2*n.near/(l-s),mc.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(mc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ZD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(YD)}}class $T{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=JD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=JD();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function JD(){return(typeof performance>"u"?Date:performance).now()}const gc=new de,QD=new Pi,Iae=new de,vc=new de;class Oae extends Zn{constructor(){super(),this.type="AudioListener",this.context=WT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new $T}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(gc,QD,Iae),vc.set(0,0,-1).applyQuaternion(QD),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(gc.x,i),n.positionY.linearRampToValueAtTime(gc.y,i),n.positionZ.linearRampToValueAtTime(gc.z,i),n.forwardX.linearRampToValueAtTime(vc.x,i),n.forwardY.linearRampToValueAtTime(vc.y,i),n.forwardZ.linearRampToValueAtTime(vc.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(gc.x,gc.y,gc.z),n.setOrientation(vc.x,vc.y,vc.z,r.x,r.y,r.z)}}class R7 extends Zn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const yc=new de,ek=new Pi,Dae=new de,xc=new de;class kae extends R7{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(yc,ek,Dae),xc.set(0,0,1).applyQuaternion(ek);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(yc.x,r),n.positionY.linearRampToValueAtTime(yc.y,r),n.positionZ.linearRampToValueAtTime(yc.z,r),n.orientationX.linearRampToValueAtTime(xc.x,r),n.orientationY.linearRampToValueAtTime(xc.y,r),n.orientationZ.linearRampToValueAtTime(xc.z,r)}else n.setPosition(yc.x,yc.y,yc.z),n.setOrientation(xc.x,xc.y,xc.z)}}class Lae{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class A7{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){Pi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;Pi.multiplyQuaternionsFlat(e,a,e,n,e,r),Pi.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const KT="\\[\\]\\.:\\/",Nae=new RegExp("["+KT+"]","g"),XT="[^"+KT+"]",Fae="[^"+KT.replace("\\.","")+"]",Uae=/((?:WC+[\/:])*)/.source.replace("WC",XT),zae=/(WCOD+)?/.source.replace("WCOD",Fae),Bae=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",XT),Hae=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",XT),Vae=new RegExp("^"+Uae+zae+Bae+Hae+"$"),jae=["material","materials","bones","map"];class Gae{constructor(e,n,r){const i=r||qn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class qn{constructor(e,n,r){this.path=n,this.parsedPath=r||qn.parseTrackName(n),this.node=qn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new qn.Composite(e,n,r):new qn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Nae,"")}static parseTrackName(e){const n=Vae.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);jae.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=qn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}qn.Composite=Gae;qn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};qn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};qn.prototype.GetterByBindingType=[qn.prototype._getValue_direct,qn.prototype._getValue_array,qn.prototype._getValue_arrayElement,qn.prototype._getValue_toArray];qn.prototype.SetterByBindingTypeAndVersioning=[[qn.prototype._setValue_direct,qn.prototype._setValue_direct_setNeedsUpdate,qn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_array,qn.prototype._setValue_array_setNeedsUpdate,qn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_arrayElement,qn.prototype._setValue_arrayElement_setNeedsUpdate,qn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_fromArray,qn.prototype._setValue_fromArray_setNeedsUpdate,qn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Wae{constructor(){this.isAnimationObjectGroup=!0,this.uuid=da(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const p=arguments[c],m=p.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(p);for(let b=0,y=a;b!==y;++b)o[b].push(new qn(p,r[b],i[b]))}else if(v<u){s=e[v];const b=--u,y=e[b];n[y.uuid]=v,e[v]=y,n[m]=b,e[b]=p;for(let g=0,x=a;g!==x;++g){const w=o[g],C=w[b];let R=w[v];w[v]=C,R===void 0&&(R=new qn(p,r[g],i[g])),w[b]=R}}else e[v]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],u=l.uuid,c=n[u];if(c!==void 0&&c>=o){const f=o++,p=e[f];n[p.uuid]=c,e[c]=p,n[u]=f,e[f]=l;for(let m=0,v=i;m!==v;++m){const b=r[m],y=b[f],g=b[c];b[c]=y,b[f]=g}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<o){const p=--o,m=e[p],v=--a,b=e[v];n[m.uuid]=f,e[f]=m,n[b.uuid]=p,e[p]=b,e.pop();for(let y=0,g=i;y!==g;++y){const x=r[y],w=x[p],C=x[v];x[f]=w,x[p]=C,x.pop()}}else{const p=--a,m=e[p];p>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let v=0,b=i;v!==b;++v){const y=r[v];y[f]=y[p],y.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(f);for(let p=c,m=l.length;p!==m;++p){const v=l[p];f[p]=new qn(v,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],u=e[s];n[u]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class I7{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:Hc,endingEnd:Hc};for(let u=0;u!==a;++u){const c=o[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=h8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=o,l[1]=o+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case hT:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);break;case mb:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===p8;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===d8){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Vc,i.endingEnd=Vc):(e?i.endingStart=this.zeroSlopeAtStart?Vc:Hc:i.endingStart=Tg,n?i.endingEnd=this.zeroSlopeAtEnd?Vc:Hc:i.endingEnd=Tg)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const $ae=new Float32Array(1);class Kae extends Xs{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==o;++f){const p=i[f],m=p.name;let v=c[m];if(v!==void 0)++v.referenceCount,a[f]=v;else{if(v=a[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const b=n&&n._propertyBindings[f].binding.parsedPath;v=new A7(qn.create(r,m,b),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),a[f]=v}s[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new zT(new Float32Array(2),new Float32Array(2),1,$ae),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?Hg.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=mb),l!==void 0){const f=l.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const c=new I7(this,a,n,r);return this._bindAction(c,u),this._addInactiveAction(c,s,o),c}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?Hg.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const u=a[s];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class qT{constructor(e){this.value=e}clone(){return new qT(this.value.clone===void 0?this.value:this.value.clone())}}let Xae=0;class qae extends Xs{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Xae++}),this.name="",this.usage=Ig,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class kx extends Sb{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Yae{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const tk=new yn;class YT{constructor(e,n,r=0,i=1/0){this.ray=new Ef(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new nf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return tk.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(tk),this}intersectObject(e,n=!0,r=[]){return tM(e,this,r,n),r.sort(nk),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)tM(e[i],this,r,n);return r.sort(nk),r}}function nk(t,e){return t.distance-e.distance}function tM(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,a=i.length;o<a;o++)tM(i[o],e,n,!0)}}class nM{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Gr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Zae{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const rk=new vt;class Jae{constructor(e=new vt(1/0,1/0),n=new vt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=rk.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,rk).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ik=new de,z0=new de;class O7{constructor(e=new de,n=new de){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){ik.subVectors(e,this.start),z0.subVectors(this.end,this.start);const r=z0.dot(z0);let o=z0.dot(ik)/r;return n&&(o=Gr(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ok=new de;class Qae extends Zn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new On,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const u=a/l*Math.PI*2,c=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new tn(i,3));const o=new Oo({fog:!1,toneMapped:!1});this.cone=new qs(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),ok.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ok),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const nu=new de,B0=new yn,x_=new yn;class ese extends qs{constructor(e){const n=D7(e),r=new On,i=[],o=[],a=new $t(0,0,1),s=new $t(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new tn(i,3)),r.setAttribute("color",new tn(o,3));const l=new Oo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");x_.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(B0.multiplyMatrices(x_,s.matrixWorld),nu.setFromMatrixPosition(B0),i.setXYZ(a,nu.x,nu.y,nu.z),B0.multiplyMatrices(x_,s.parent.matrixWorld),nu.setFromMatrixPosition(B0),i.setXYZ(a+1,nu.x,nu.y,nu.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function D7(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,D7(t.children[n]));return e}class tse extends Wr{constructor(e,n,r){const i=new xv(n,4,2),o=new $u({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nse=new de,ak=new $t,sk=new $t;class rse extends Zn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new yv(n);i.rotateY(Math.PI*.5),this.material=new $u({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new sr(a,3)),this.add(new Wr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");ak.copy(this.light.color),sk.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?ak:sk;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(nse.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ise extends qs{constructor(e=10,n=10,r=4473924,i=8947848){r=new $t(r),i=new $t(i);const o=n/2,a=e/n,s=e/2,l=[],u=[];for(let p=0,m=0,v=-s;p<=n;p++,v+=a){l.push(-s,0,v,s,0,v),l.push(v,0,-s,v,0,s);const b=p===o?r:i;b.toArray(u,m),m+=3,b.toArray(u,m),m+=3,b.toArray(u,m),m+=3,b.toArray(u,m),m+=3}const c=new On;c.setAttribute("position",new tn(l,3)),c.setAttribute("color",new tn(u,3));const f=new Oo({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ose extends qs{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new $t(o),a=new $t(a);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const p=f/n*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;s.push(0,0,0),s.push(m,0,v);const b=f&1?o:a;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let f=0;f<r;f++){const p=f&1?o:a,m=e-e/r*f;for(let v=0;v<i;v++){let b=v/i*(Math.PI*2),y=Math.sin(b)*m,g=Math.cos(b)*m;s.push(y,0,g),l.push(p.r,p.g,p.b),b=(v+1)/i*(Math.PI*2),y=Math.sin(b)*m,g=Math.cos(b)*m,s.push(y,0,g),l.push(p.r,p.g,p.b)}}const u=new On;u.setAttribute("position",new tn(s,3)),u.setAttribute("color",new tn(l,3));const c=new Oo({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const lk=new de,H0=new de,uk=new de;class ase extends Zn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new On;i.setAttribute("position",new tn([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Oo({fog:!1,toneMapped:!1});this.lightPlane=new Bu(i,o),this.add(this.lightPlane),i=new On,i.setAttribute("position",new tn([0,0,0,0,0,1],3)),this.targetLine=new Bu(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),lk.setFromMatrixPosition(this.light.matrixWorld),H0.setFromMatrixPosition(this.light.target.matrixWorld),uk.subVectors(H0,lk),this.lightPlane.lookAt(H0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(H0),this.targetLine.scale.z=uk.length()}}const V0=new de,Fr=new hv;class sse extends qs{constructor(e){const n=new On,r=new Oo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(v,b){l(v),l(b)}function l(v){i.push(0,0,0),o.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}n.setAttribute("position",new tn(i,3)),n.setAttribute("color",new tn(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new $t(16755200),c=new $t(16711680),f=new $t(43775),p=new $t(16777215),m=new $t(3355443);this.setColors(u,c,f,p,m)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Fr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Xr("c",n,e,Fr,0,0,-1),Xr("t",n,e,Fr,0,0,1),Xr("n1",n,e,Fr,-r,-i,-1),Xr("n2",n,e,Fr,r,-i,-1),Xr("n3",n,e,Fr,-r,i,-1),Xr("n4",n,e,Fr,r,i,-1),Xr("f1",n,e,Fr,-r,-i,1),Xr("f2",n,e,Fr,r,-i,1),Xr("f3",n,e,Fr,-r,i,1),Xr("f4",n,e,Fr,r,i,1),Xr("u1",n,e,Fr,r*.7,i*1.1,-1),Xr("u2",n,e,Fr,-r*.7,i*1.1,-1),Xr("u3",n,e,Fr,0,i*2,-1),Xr("cf1",n,e,Fr,-r,0,1),Xr("cf2",n,e,Fr,r,0,1),Xr("cf3",n,e,Fr,0,-i,1),Xr("cf4",n,e,Fr,0,i,1),Xr("cn1",n,e,Fr,-r,0,-1),Xr("cn2",n,e,Fr,r,0,-1),Xr("cn3",n,e,Fr,0,-i,-1),Xr("cn4",n,e,Fr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xr(t,e,n,r,i,o,a){V0.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],V0.x,V0.y,V0.z)}}const j0=new Ri;class lse extends qs{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new On;o.setIndex(new sr(r,1)),o.setAttribute("position",new sr(i,3)),super(o,new Oo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&j0.setFromObject(this.object),j0.isEmpty())return;const n=j0.min,r=j0.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class use extends qs{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new On;o.setIndex(new sr(r,1)),o.setAttribute("position",new tn(i,3)),super(o,new Oo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class cse extends Bu{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new On;a.setAttribute("position",new tn(o,3)),a.computeBoundingSphere(),super(a,new Oo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new On;l.setAttribute("position",new tn(s,3)),l.computeBoundingSphere(),this.add(new Wr(l,new $u({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ck=new de;let G0,b_;class fse extends Zn{constructor(e=new de(0,0,1),n=new de(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",G0===void 0&&(G0=new On,G0.setAttribute("position",new tn([0,0,0,0,1,0],3)),b_=new jh(0,.5,1,5,1),b_.translate(0,-.5,0)),this.position.copy(n),this.line=new Bu(G0,new Oo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Wr(b_,new $u({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ck.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(ck,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class dse extends qs{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new On;i.setAttribute("position",new tn(n,3)),i.setAttribute("color",new tn(r,3));const o=new Oo({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new $t,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hse{constructor(){this.type="ShapePath",this.color=new $t,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Lg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const x=[];for(let w=0,C=g.length;w<C;w++){const R=g[w],E=new rf;E.curves=R.curves,x.push(E)}return x}function r(g,x){const w=x.length;let C=!1;for(let R=w-1,E=0;E<w;R=E++){let P=x[R],D=x[E],L=D.x-P.x,M=D.y-P.y;if(Math.abs(M)>Number.EPSILON){if(M<0&&(P=x[E],L=-L,D=x[R],M=-M),g.y<P.y||g.y>D.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const I=M*(g.x-P.x)-L*(g.y-P.y);if(I===0)return!0;if(I<0)continue;C=!C}}else{if(g.y!==P.y)continue;if(D.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=D.x)return!0}}return C}const i=Ws.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const u=[];if(o.length===1)return s=o[0],l=new rf,l.curves=s.curves,u.push(l),u;let c=!i(o[0].getPoints());c=e?!c:c;const f=[],p=[];let m=[],v=0,b;p[v]=void 0,m[v]=[];for(let g=0,x=o.length;g<x;g++)s=o[g],b=s.getPoints(),a=i(b),a=e?!a:a,a?(!c&&p[v]&&v++,p[v]={s:new rf,p:b},p[v].s.curves=s.curves,c&&v++,m[v]=[]):m[v].push({h:s,p:b[0]});if(!p[0])return n(o);if(p.length>1){let g=!1,x=0;for(let w=0,C=p.length;w<C;w++)f[w]=[];for(let w=0,C=p.length;w<C;w++){const R=m[w];for(let E=0;E<R.length;E++){const P=R[E];let D=!0;for(let L=0;L<p.length;L++)r(P.p,p[L].p)&&(w!==L&&x++,D?(D=!1,f[L].push(P)):g=!0);D&&f[w].push(P)}}x>0&&g===!1&&(m=f)}let y;for(let g=0,x=p.length;g<x;g++){l=p[g].s,u.push(l),y=m[g];for(let w=0,C=y.length;w<C;w++)l.holes.push(y[w].h)}return u}}class pse extends Wa{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:_f}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=_f);const mse=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:oT,AddEquation:du,AddOperation:ZF,AdditiveAnimationBlendMode:hT,AdditiveBlending:p2,AgXToneMapping:n8,AlphaFormat:s8,AlwaysCompare:E8,AlwaysDepth:GF,AlwaysStencilFunc:W2,AmbientLight:E7,AnimationAction:I7,AnimationClip:Hg,AnimationLoader:bae,AnimationMixer:Kae,AnimationObjectGroup:Wae,AnimationUtils:gae,ArcCurve:Y8,ArrayCamera:z8,ArrowHelper:fse,AttachedBindMode:x2,Audio:R7,AudioAnalyser:Lae,AudioContext:WT,AudioListener:Oae,AudioLoader:Rae,AxesHelper:dse,BackSide:lo,BasicDepthPacking:m8,BasicShadowMap:MF,BatchedMesh:$8,Bone:TT,BooleanKeyframeTrack:Mf,Box2:Jae,Box3:Ri,Box3Helper:use,BoxGeometry:Cf,BoxHelper:lse,BufferAttribute:sr,BufferGeometry:On,BufferGeometryLoader:P7,ByteType:o8,Cache:Sl,Camera:hv,CameraHelper:sse,CanvasTexture:q8,CapsuleGeometry:Mb,CatmullRomCurve3:Z8,CineonToneMapping:e8,CircleGeometry:Tb,ClampToEdgeWrapping:ro,Clock:$T,Color:$t,ColorKeyframeTrack:BT,ColorManagement:ir,CompressedArrayTexture:zoe,CompressedCubeTexture:Boe,CompressedTexture:Eb,CompressedTextureLoader:wae,ConeGeometry:Pb,ConstantAlphaFactor:HF,ConstantColorFactor:zF,CubeCamera:I8,CubeReflectionMapping:$s,CubeRefractionMapping:zu,CubeTexture:pv,CubeTextureLoader:x7,CubeUVReflectionMapping:Bh,CubicBezierCurve:AT,CubicBezierCurve3:J8,CubicInterpolant:m7,CullFaceBack:h2,CullFaceFront:CF,CullFaceFrontBack:TQ,CullFaceNone:EF,Curve:bs,CurvePath:e7,CustomBlending:TF,CustomToneMapping:t8,CylinderGeometry:jh,Cylindrical:Zae,Data3DTexture:yT,DataArrayTexture:vb,DataTexture:Iu,DataTextureLoader:VT,DataUtils:Gc,DecrementStencilOp:UQ,DecrementWrapStencilOp:BQ,DefaultLoadingManager:y7,DepthFormat:Au,DepthStencilFormat:mf,DepthTexture:yb,DetachedBindMode:i8,DirectionalLight:_7,DirectionalLightHelper:ase,DiscreteInterpolant:g7,DisplayP3ColorSpace:gb,DodecahedronGeometry:Rb,DoubleSide:Ua,DstAlphaFactor:kF,DstColorFactor:NF,DynamicCopyUsage:tee,DynamicDrawUsage:qQ,DynamicReadUsage:JQ,EdgesGeometry:LT,EllipseCurve:Cb,EqualCompare:b8,EqualDepth:$F,EqualStencilFunc:GQ,EquirectangularReflectionMapping:Mh,EquirectangularRefractionMapping:Sg,Euler:ma,EventDispatcher:Xs,ExtrudeGeometry:Ib,FileLoader:Dl,Float16BufferAttribute:zee,Float32BufferAttribute:tn,FloatType:oi,Fog:wb,FogExp2:bb,FramebufferTexture:Uoe,FrontSide:Ol,Frustum:mv,GLBufferAttribute:Yae,GLSL1:ree,GLSL3:$2,GreaterCompare:w8,GreaterDepth:XF,GreaterEqualCompare:_8,GreaterEqualDepth:KF,GreaterEqualStencilFunc:XQ,GreaterStencilFunc:$Q,GridHelper:ise,Group:eh,HalfFloatType:so,HemisphereLight:b7,HemisphereLightHelper:rse,IcosahedronGeometry:vv,ImageBitmapLoader:Pae,ImageLoader:Vg,ImageUtils:vT,IncrementStencilOp:FQ,IncrementWrapStencilOp:zQ,InstancedBufferAttribute:Ah,InstancedBufferGeometry:GT,InstancedInterleavedBuffer:kx,InstancedMesh:W8,Int16BufferAttribute:Fee,Int32BufferAttribute:Uee,Int8BufferAttribute:kee,IntType:aT,InterleavedBuffer:Sb,InterleavedBufferAttribute:ua,Interpolant:bv,InterpolateDiscrete:Cg,InterpolateLinear:Mg,InterpolateSmooth:R1,InvertStencilOp:HQ,KeepStencilOp:Tc,KeyframeTrack:ws,LOD:j8,LatheGeometry:gv,Layers:nf,LessCompare:x8,LessDepth:WF,LessEqualCompare:pT,LessEqualDepth:wg,LessEqualStencilFunc:WQ,LessStencilFunc:jQ,Light:Xu,LightProbe:T7,Line:Bu,Line3:O7,LineBasicMaterial:Oo,LineCurve:IT,LineCurve3:Q8,LineDashedMaterial:d7,LineLoop:K8,LineSegments:qs,LinearDisplayP3ColorSpace:dv,LinearFilter:or,LinearInterpolant:zT,LinearMipMapLinearFilter:IQ,LinearMipMapNearestFilter:AQ,LinearMipmapLinearFilter:zs,LinearMipmapNearestFilter:Cm,LinearSRGBColorSpace:Fl,LinearToneMapping:JF,LinearTransfer:Pg,Loader:qo,LoaderUtils:eM,LoadingManager:HT,LoopOnce:d8,LoopPingPong:p8,LoopRepeat:h8,LuminanceAlphaFormat:u8,LuminanceFormat:l8,MOUSE:Cc,Material:Bi,MaterialLoader:Ub,MathUtils:gT,Matrix3:Tn,Matrix4:yn,MaxEquation:y2,Mesh:Wr,MeshBasicMaterial:$u,MeshDepthMaterial:_T,MeshDistanceMaterial:ET,MeshLambertMaterial:c7,MeshMatcapMaterial:f7,MeshNormalMaterial:u7,MeshPhongMaterial:s7,MeshPhysicalMaterial:a7,MeshStandardMaterial:FT,MeshToonMaterial:l7,MinEquation:v2,MirroredRepeatWrapping:Eg,MixOperation:YF,MultiplyBlending:g2,MultiplyOperation:fv,NearestFilter:Yr,NearestMipMapLinearFilter:RQ,NearestMipMapNearestFilter:PQ,NearestMipmapLinearFilter:Ic,NearestMipmapNearestFilter:Ax,NeutralToneMapping:r8,NeverCompare:y8,NeverDepth:jF,NeverStencilFunc:VQ,NoBlending:Ml,NoColorSpace:gl,NoToneMapping:js,NormalAnimationBlendMode:mb,NormalBlending:ef,NotEqualCompare:S8,NotEqualDepth:qF,NotEqualStencilFunc:KQ,NumberKeyframeTrack:zg,Object3D:Zn,ObjectLoader:Mae,ObjectSpaceNormalMap:v8,OctahedronGeometry:yv,OneFactor:IF,OneMinusConstantAlphaFactor:VF,OneMinusConstantColorFactor:BF,OneMinusDstAlphaFactor:LF,OneMinusDstColorFactor:FF,OneMinusSrcAlphaFactor:Rx,OneMinusSrcColorFactor:DF,OrthographicCamera:ps,P3Primaries:Ag,PCFShadowMap:fb,PCFSoftShadowMap:Em,PMREMGenerator:X2,Path:Lg,PerspectiveCamera:Mr,Plane:Ds,PlaneGeometry:Hh,PlaneHelper:cse,PointLight:S7,PointLightHelper:tse,Points:X8,PointsMaterial:PT,PolarGridHelper:ose,PolyhedronGeometry:Ku,PositionalAudio:kae,PropertyBinding:qn,PropertyMixer:A7,QuadraticBezierCurve:OT,QuadraticBezierCurve3:DT,Quaternion:Pi,QuaternionKeyframeTrack:Gh,QuaternionLinearInterpolant:v7,RED_GREEN_RGTC2_Format:j2,RED_RGTC1_Format:f8,REVISION:_f,RGBADepthPacking:g8,RGBAFormat:io,RGBAIntegerFormat:fT,RGBA_ASTC_10x10_Format:F2,RGBA_ASTC_10x5_Format:k2,RGBA_ASTC_10x6_Format:L2,RGBA_ASTC_10x8_Format:N2,RGBA_ASTC_12x10_Format:U2,RGBA_ASTC_12x12_Format:z2,RGBA_ASTC_4x4_Format:M2,RGBA_ASTC_5x4_Format:T2,RGBA_ASTC_5x5_Format:P2,RGBA_ASTC_6x5_Format:R2,RGBA_ASTC_6x6_Format:A2,RGBA_ASTC_8x5_Format:I2,RGBA_ASTC_8x6_Format:O2,RGBA_ASTC_8x8_Format:D2,RGBA_BPTC_Format:P1,RGBA_ETC2_EAC_Format:C2,RGBA_PVRTC_2BPPV1_Format:_2,RGBA_PVRTC_4BPPV1_Format:S2,RGBA_S3TC_DXT1_Format:C1,RGBA_S3TC_DXT3_Format:M1,RGBA_S3TC_DXT5_Format:T1,RGB_BPTC_SIGNED_Format:B2,RGB_BPTC_UNSIGNED_Format:H2,RGB_ETC1_Format:dT,RGB_ETC2_Format:E2,RGB_PVRTC_2BPPV1_Format:w2,RGB_PVRTC_4BPPV1_Format:b2,RGB_S3TC_DXT1_Format:E1,RGFormat:c8,RGIntegerFormat:cT,RawShaderMaterial:o7,Ray:Ef,Raycaster:YT,Rec709Primaries:Rg,RectAreaLight:C7,RedFormat:pb,RedIntegerFormat:uT,ReinhardToneMapping:QF,RenderTarget:P8,RepeatWrapping:_g,ReplaceStencilOp:NQ,ReverseSubtractEquation:RF,RingGeometry:Ob,SIGNED_RED_GREEN_RGTC2_Format:G2,SIGNED_RED_RGTC1_Format:V2,SRGBColorSpace:ka,SRGBTransfer:dr,Scene:Rh,ShaderChunk:In,ShaderLib:fs,ShaderMaterial:Ko,ShadowMaterial:i7,Shape:rf,ShapeGeometry:Db,ShapePath:hse,ShapeUtils:Ws,ShortType:a8,Skeleton:_b,SkeletonHelper:ese,SkinnedMesh:G8,Source:jc,Sphere:Ai,SphereGeometry:xv,Spherical:nM,SphericalHarmonics3:M7,SplineCurve:kT,SpotLight:w7,SpotLightHelper:Qae,Sprite:V8,SpriteMaterial:MT,SrcAlphaFactor:Px,SrcAlphaSaturateFactor:UF,SrcColorFactor:OF,StaticCopyUsage:eee,StaticDrawUsage:Ig,StaticReadUsage:ZQ,StereoCamera:Aae,StreamCopyUsage:nee,StreamDrawUsage:YQ,StreamReadUsage:QQ,StringKeyframeTrack:Tf,SubtractEquation:PF,SubtractiveBlending:m2,TOUCH:Mc,TangentSpaceNormalMap:Wu,TetrahedronGeometry:kb,Texture:Pr,TextureLoader:Sae,TorusGeometry:Lb,TorusKnotGeometry:Nb,Triangle:sa,TriangleFanDrawMode:kQ,TriangleStripDrawMode:DQ,TrianglesDrawMode:OQ,TubeGeometry:Fb,UVMapping:db,Uint16BufferAttribute:xT,Uint32BufferAttribute:bT,Uint8BufferAttribute:Lee,Uint8ClampedBufferAttribute:Nee,Uniform:qT,UniformsGroup:qae,UniformsLib:Bt,UniformsUtils:kg,UnsignedByteType:Gs,UnsignedInt248Type:Ru,UnsignedIntType:wl,UnsignedShort4444Type:sT,UnsignedShort5551Type:lT,UnsignedShortType:hb,VSMShadowMap:os,Vector2:vt,Vector3:de,Vector4:Gn,VectorKeyframeTrack:Bg,VideoTexture:Foe,WebGL1Renderer:B8,WebGL3DRenderTarget:_ee,WebGLArrayRenderTarget:See,WebGLCoordinateSystem:Bs,WebGLCubeRenderTarget:wT,WebGLMultipleRenderTargets:pse,WebGLRenderTarget:Wa,WebGLRenderer:CT,WebGLUtils:U8,WebGPUCoordinateSystem:Og,WireframeGeometry:NT,WrapAroundEnding:Tg,ZeroCurvatureEnding:Hc,ZeroFactor:AF,ZeroSlopeEnding:Vc,ZeroStencilOp:LQ,_SRGBAFormat:Ix,createCanvasElement:M8},Symbol.toStringTag,{value:"Module"}));var k7={exports:{}},Pf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Pf.ConcurrentRoot=1;Pf.ContinuousEventPriority=4;Pf.DefaultEventPriority=16;Pf.DiscreteEventPriority=1;Pf.IdleEventPriority=536870912;Pf.LegacyRoot=0;k7.exports=Pf;var nh=k7.exports;function gse(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const p=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,o=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function m(){const v=c(e);if(!f(p,v)){const b=p;u(p=v,b)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?o(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const vse=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fk=vse?S.useEffect:S.useLayoutEffect;function L7(t){const e=typeof t=="function"?gse(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=S.useReducer(y=>y+1,0),a=e.getState(),s=S.useRef(a),l=S.useRef(r),u=S.useRef(i),c=S.useRef(!1),f=S.useRef();f.current===void 0&&(f.current=r(a));let p,m=!1;(s.current!==a||l.current!==r||u.current!==i||c.current)&&(p=r(a),m=!i(f.current,p)),fk(()=>{m&&(f.current=p),s.current=a,l.current=r,u.current=i,c.current=!1});const v=S.useRef(a);fk(()=>{const y=()=>{try{const x=e.getState(),w=l.current(x);u.current(f.current,w)||(s.current=x,f.current=w,o())}catch{c.current=!0,o()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const b=m?p:f.current;return S.useDebugValue(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var N7={exports:{}},F7={exports:{}},U7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ne){var F=X.length;X.push(ne);e:for(;0<F;){var ce=F-1>>>1,se=X[ce];if(0<i(se,ne))X[ce]=ne,X[F]=se,F=ce;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ne=X[0],F=X.pop();if(F!==ne){X[0]=F;e:for(var ce=0,se=X.length,K=se>>>1;ce<K;){var ge=2*(ce+1)-1,ze=X[ge],Be=ge+1,st=X[Be];if(0>i(ze,F))Be<se&&0>i(st,ze)?(X[ce]=st,X[Be]=F,ce=Be):(X[ce]=ze,X[ge]=F,ce=ge);else if(Be<se&&0>i(st,F))X[ce]=st,X[Be]=F,ce=Be;else break e}}return ne}function i(X,ne){var F=X.sortIndex-ne.sortIndex;return F!==0?F:X.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,p=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(X){for(var ne=n(u);ne!==null;){if(ne.callback===null)r(u);else if(ne.startTime<=X)r(u),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=n(u)}}function C(X){if(b=!1,w(X),!v)if(n(l)!==null)v=!0,ye(R);else{var ne=n(u);ne!==null&&ve(C,ne.startTime-X)}}function R(X,ne){v=!1,b&&(b=!1,g(D),D=-1),m=!0;var F=p;try{for(w(ne),f=n(l);f!==null&&(!(f.expirationTime>ne)||X&&!I());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,p=f.priorityLevel;var se=ce(f.expirationTime<=ne);ne=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(l)&&r(l),w(ne)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ge=n(u);ge!==null&&ve(C,ge.startTime-ne),K=!1}return K}finally{f=null,p=F,m=!1}}var E=!1,P=null,D=-1,L=5,M=-1;function I(){return!(t.unstable_now()-M<L)}function V(){if(P!==null){var X=t.unstable_now();M=X;var ne=!0;try{ne=P(!0,X)}finally{ne?Z():(E=!1,P=null)}}else E=!1}var Z;if(typeof x=="function")Z=function(){x(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,fe=j.port2;j.port1.onmessage=V,Z=function(){fe.postMessage(null)}}else Z=function(){y(V,0)};function ye(X){P=X,E||(E=!0,Z())}function ve(X,ne){D=y(function(){X(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ye(R))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(X){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var F=p;p=ne;try{return X()}finally{p=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ne){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var F=p;p=X;try{return ne()}finally{p=F}},t.unstable_scheduleCallback=function(X,ne,F){var ce=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ce+F:ce):F=ce,X){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=F+se,X={id:c++,callback:ne,priorityLevel:X,startTime:F,expirationTime:se,sortIndex:-1},F>ce?(X.sortIndex=F,e(u,X),n(l)===null&&X===n(u)&&(b?(g(D),D=-1):b=!0,ve(C,F-ce))):(X.sortIndex=se,e(l,X),v||m||(v=!0,ye(R))),X},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(X){var ne=p;return function(){var F=p;p=ne;try{return X.apply(this,arguments)}finally{p=F}}}})(U7);F7.exports=U7;var rM=F7.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yse=function(e){var n={},r=S,i=rM,o=Object.assign;function a(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,_=1;_<arguments.length;_++)h+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),R=Symbol.iterator;function E(d){return d===null||typeof d!="object"?null:(d=R&&d[R]||d["@@iterator"],typeof d=="function"?d:null)}function P(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case v:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case b:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case x:return h=d.displayName||null,h!==null?h:P(d.type)||"Memo";case w:h=d._payload,d=d._init;try{return P(d(h))}catch{}}return null}function D(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function L(d){var h=d,_=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(_=h.return),d=h.return;while(d)}return h.tag===3?_:null}function M(d){if(L(d)!==d)throw Error(a(188))}function I(d){var h=d.alternate;if(!h){if(h=L(d),h===null)throw Error(a(188));return h!==d?null:d}for(var _=d,T=h;;){var k=_.return;if(k===null)break;var U=k.alternate;if(U===null){if(T=k.return,T!==null){_=T;continue}break}if(k.child===U.child){for(U=k.child;U;){if(U===_)return M(k),d;if(U===T)return M(k),h;U=U.sibling}throw Error(a(188))}if(_.return!==T.return)_=k,T=U;else{for(var Se=!1,Xe=k.child;Xe;){if(Xe===_){Se=!0,_=k,T=U;break}if(Xe===T){Se=!0,T=k,_=U;break}Xe=Xe.sibling}if(!Se){for(Xe=U.child;Xe;){if(Xe===_){Se=!0,_=U,T=k;break}if(Xe===T){Se=!0,T=U,_=k;break}Xe=Xe.sibling}if(!Se)throw Error(a(189))}}if(_.alternate!==T)throw Error(a(190))}if(_.tag!==3)throw Error(a(188));return _.stateNode.current===_?d:h}function V(d){return d=I(d),d!==null?Z(d):null}function Z(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=Z(d);if(h!==null)return h;d=d.sibling}return null}function j(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=j(d);if(h!==null)return h}d=d.sibling}return null}var fe=Array.isArray,ye=e.getPublicInstance,ve=e.getRootHostContext,X=e.getChildHostContext,ne=e.prepareForCommit,F=e.resetAfterCommit,ce=e.createInstance,se=e.appendInitialChild,K=e.finalizeInitialChildren,ge=e.prepareUpdate,ze=e.shouldSetTextContent,Be=e.createTextInstance,st=e.scheduleTimeout,it=e.cancelTimeout,gt=e.noTimeout,yt=e.isPrimaryRenderer,je=e.supportsMutation,Y=e.supportsPersistence,Fe=e.supportsHydration,Me=e.getInstanceFromNode,et=e.preparePortalMount,Ve=e.getCurrentEventPriority,lt=e.detachDeletedInstance,J=e.supportsMicrotasks,Q=e.scheduleMicrotask,xe=e.supportsTestSelectors,B=e.findFiberRoot,O=e.getBoundingRect,ee=e.getTextContent,he=e.isHiddenSubtree,le=e.matchAccessibilityRole,Ee=e.setFocusIfFocusable,qe=e.setupIntersectionObserver,Ke=e.appendChild,be=e.appendChildToContainer,Ye=e.commitTextUpdate,at=e.commitMount,tt=e.commitUpdate,ft=e.insertBefore,De=e.insertInContainerBefore,Le=e.removeChild,H=e.removeChildFromContainer,me=e.resetTextContent,He=e.hideInstance,ct=e.hideTextInstance,nt=e.unhideInstance,Pe=e.unhideTextInstance,dt=e.clearContainer,te=e.cloneInstance,ue=e.createContainerChildSet,ae=e.appendChildToContainerChildSet,Ne=e.finalizeContainerChildren,rt=e.replaceContainerChildren,wt=e.cloneHiddenInstance,bt=e.cloneHiddenTextInstance,xt=e.canHydrateInstance,Et=e.canHydrateTextInstance,Ut=e.canHydrateSuspenseInstance,mn=e.isSuspenseInstancePending,Xt=e.isSuspenseInstanceFallback,rn=e.registerSuspenseInstanceRetry,hn=e.getNextHydratableSibling,Ht=e.getFirstHydratableChild,ln=e.getFirstHydratableChildWithinContainer,_t=e.getFirstHydratableChildWithinSuspenseInstance,N=e.hydrateInstance,W=e.hydrateTextInstance,$=e.hydrateSuspenseInstance,A=e.getNextHydratableInstanceAfterSuspenseInstance,z=e.commitHydratedContainer,q=e.commitHydratedSuspenseInstance,re=e.clearSuspenseBoundary,oe=e.clearSuspenseBoundaryFromContainer,Ie=e.shouldDeleteUnhydratedTailInstances,we=e.didNotMatchHydratedContainerTextInstance,pe=e.didNotMatchHydratedTextInstance,G;function Re(d){if(G===void 0)try{throw Error()}catch(_){var h=_.stack.trim().match(/\n( *(at )?)/);G=h&&h[1]||""}return`
`+G+d}var Ae=!1;function We(d,h){if(!d||Ae)return"";Ae=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ft){var T=Ft}Reflect.construct(d,[],h)}else{try{h.call()}catch(Ft){T=Ft}d.call(h.prototype)}else{try{throw Error()}catch(Ft){T=Ft}d()}}catch(Ft){if(Ft&&T&&typeof Ft.stack=="string"){for(var k=Ft.stack.split(`
`),U=T.stack.split(`
`),Se=k.length-1,Xe=U.length-1;1<=Se&&0<=Xe&&k[Se]!==U[Xe];)Xe--;for(;1<=Se&&0<=Xe;Se--,Xe--)if(k[Se]!==U[Xe]){if(Se!==1||Xe!==1)do if(Se--,Xe--,0>Xe||k[Se]!==U[Xe]){var mt=`
`+k[Se].replace(" at new "," at ");return d.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",d.displayName)),mt}while(1<=Se&&0<=Xe);break}}}finally{Ae=!1,Error.prepareStackTrace=_}return(d=d?d.displayName||d.name:"")?Re(d):""}var Ue=Object.prototype.hasOwnProperty,ie=[],Oe=-1;function Ze(d){return{current:d}}function Ge(d){0>Oe||(d.current=ie[Oe],ie[Oe]=null,Oe--)}function $e(d,h){Oe++,ie[Oe]=d.current,d.current=h}var At={},Pt=Ze(At),Vt=Ze(!1),un=At;function nn(d,h){var _=d.type.contextTypes;if(!_)return At;var T=d.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===h)return T.__reactInternalMemoizedMaskedChildContext;var k={},U;for(U in _)k[U]=h[U];return T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=k),k}function Kt(d){return d=d.childContextTypes,d!=null}function Lt(){Ge(Vt),Ge(Pt)}function qt(d,h,_){if(Pt.current!==At)throw Error(a(168));$e(Pt,h),$e(Vt,_)}function Rn(d,h,_){var T=d.stateNode;if(h=h.childContextTypes,typeof T.getChildContext!="function")return _;T=T.getChildContext();for(var k in T)if(!(k in h))throw Error(a(108,D(d)||"Unknown",k));return o({},_,T)}function Qt(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||At,un=Pt.current,$e(Pt,d),$e(Vt,Vt.current),!0}function sn(d,h,_){var T=d.stateNode;if(!T)throw Error(a(169));_?(d=Rn(d,h,un),T.__reactInternalMemoizedMergedChildContext=d,Ge(Vt),Ge(Pt),$e(Pt,d)):Ge(Vt),$e(Vt,_)}var _n=Math.clz32?Math.clz32:Rr,Jr=Math.log,gr=Math.LN2;function Rr(d){return d>>>=0,d===0?32:31-(Jr(d)/gr|0)|0}var Ka=64,ba=4194304;function It(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ce(d,h){var _=d.pendingLanes;if(_===0)return 0;var T=0,k=d.suspendedLanes,U=d.pingedLanes,Se=_&268435455;if(Se!==0){var Xe=Se&~k;Xe!==0?T=It(Xe):(U&=Se,U!==0&&(T=It(U)))}else Se=_&~k,Se!==0?T=It(Se):U!==0&&(T=It(U));if(T===0)return 0;if(h!==0&&h!==T&&!(h&k)&&(k=T&-T,U=h&-h,k>=U||k===16&&(U&4194240)!==0))return h;if(T&4&&(T|=_&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=T;0<h;)_=31-_n(h),k=1<<_,T|=d[_],h&=~k;return T}function Nt(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(d,h){for(var _=d.suspendedLanes,T=d.pingedLanes,k=d.expirationTimes,U=d.pendingLanes;0<U;){var Se=31-_n(U),Xe=1<<Se,mt=k[Se];mt===-1?(!(Xe&_)||Xe&T)&&(k[Se]=Nt(Xe,h)):mt<=h&&(d.expiredLanes|=Xe),U&=~Xe}}function er(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Ar(d){for(var h=[],_=0;31>_;_++)h.push(d);return h}function wa(d,h,_){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-_n(h),d[h]=_}function qu(d,h){var _=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var T=d.eventTimes;for(d=d.expirationTimes;0<_;){var k=31-_n(_),U=1<<k;h[k]=0,T[k]=-1,d[k]=-1,_&=~U}}function Yu(d,h){var _=d.entangledLanes|=h;for(d=d.entanglements;_;){var T=31-_n(_),k=1<<T;k&h|d[T]&h&&(d[T]|=h),_&=~k}}var jn=0;function Ev(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Wh=i.unstable_scheduleCallback,$h=i.unstable_cancelCallback,zb=i.unstable_shouldYield,Bb=i.unstable_requestPaint,$r=i.unstable_now,Xa=i.unstable_ImmediatePriority,Cv=i.unstable_UserBlockingPriority,Kh=i.unstable_NormalPriority,Hb=i.unstable_IdlePriority,Af=null,Yo=null;function Vb(d){if(Yo&&typeof Yo.onCommitFiberRoot=="function")try{Yo.onCommitFiberRoot(Af,d,void 0,(d.current.flags&128)===128)}catch{}}function jb(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var Sa=typeof Object.is=="function"?Object.is:jb,Ii=null,_a=!1,Zu=!1;function Mv(d){Ii===null?Ii=[d]:Ii.push(d)}function Gb(d){_a=!0,Mv(d)}function Ea(){if(!Zu&&Ii!==null){Zu=!0;var d=0,h=jn;try{var _=Ii;for(jn=1;d<_.length;d++){var T=_[d];do T=T(!0);while(T!==null)}Ii=null,_a=!1}catch(k){throw Ii!==null&&(Ii=Ii.slice(d+1)),Wh(Xa,Ea),k}finally{jn=h,Zu=!1}}return null}var Wb=s.ReactCurrentBatchConfig;function If(d,h){if(Sa(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var _=Object.keys(d),T=Object.keys(h);if(_.length!==T.length)return!1;for(T=0;T<_.length;T++){var k=_[T];if(!Ue.call(h,k)||!Sa(d[k],h[k]))return!1}return!0}function $b(d){switch(d.tag){case 5:return Re(d.type);case 16:return Re("Lazy");case 13:return Re("Suspense");case 19:return Re("SuspenseList");case 0:case 2:case 15:return d=We(d.type,!1),d;case 11:return d=We(d.type.render,!1),d;case 1:return d=We(d.type,!0),d;default:return""}}function Zo(d,h){if(d&&d.defaultProps){h=o({},h),d=d.defaultProps;for(var _ in d)h[_]===void 0&&(h[_]=d[_]);return h}return h}var Ju=Ze(null),Of=null,zl=null,Xh=null;function qh(){Xh=zl=Of=null}function Df(d,h,_){yt?($e(Ju,h._currentValue),h._currentValue=_):($e(Ju,h._currentValue2),h._currentValue2=_)}function kf(d){var h=Ju.current;Ge(Ju),yt?d._currentValue=h:d._currentValue2=h}function Lf(d,h,_){for(;d!==null;){var T=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),d===_)break;d=d.return}}function Bl(d,h){Of=d,Xh=zl=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(Jo=!0),d.firstContext=null)}function fo(d){var h=yt?d._currentValue:d._currentValue2;if(Xh!==d)if(d={context:d,memoizedValue:h,next:null},zl===null){if(Of===null)throw Error(a(308));zl=d,Of.dependencies={lanes:0,firstContext:d}}else zl=zl.next=d;return h}var Ca=null,Ss=!1;function Yh(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tv(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function qa(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function _s(d,h){var _=d.updateQueue;_!==null&&(_=_.shared,Qr!==null&&d.mode&1&&!(Ln&2)?(d=_.interleaved,d===null?(h.next=h,Ca===null?Ca=[_]:Ca.push(_)):(h.next=d.next,d.next=h),_.interleaved=h):(d=_.pending,d===null?h.next=h:(h.next=d.next,d.next=h),_.pending=h))}function Nf(d,h,_){if(h=h.updateQueue,h!==null&&(h=h.shared,(_&4194240)!==0)){var T=h.lanes;T&=d.pendingLanes,_|=T,h.lanes=_,Yu(d,_)}}function Pv(d,h){var _=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,_===T)){var k=null,U=null;if(_=_.firstBaseUpdate,_!==null){do{var Se={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};U===null?k=U=Se:U=U.next=Se,_=_.next}while(_!==null);U===null?k=U=h:U=U.next=h}else k=U=h;_={baseState:T.baseState,firstBaseUpdate:k,lastBaseUpdate:U,shared:T.shared,effects:T.effects},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=h:d.next=h,_.lastBaseUpdate=h}function Ff(d,h,_,T){var k=d.updateQueue;Ss=!1;var U=k.firstBaseUpdate,Se=k.lastBaseUpdate,Xe=k.shared.pending;if(Xe!==null){k.shared.pending=null;var mt=Xe,Ft=mt.next;mt.next=null,Se===null?U=Ft:Se.next=Ft,Se=mt;var Jt=d.alternate;Jt!==null&&(Jt=Jt.updateQueue,Xe=Jt.lastBaseUpdate,Xe!==Se&&(Xe===null?Jt.firstBaseUpdate=Ft:Xe.next=Ft,Jt.lastBaseUpdate=mt))}if(U!==null){var Cn=k.baseState;Se=0,Jt=Ft=mt=null,Xe=U;do{var gn=Xe.lane,lr=Xe.eventTime;if((T&gn)===gn){Jt!==null&&(Jt=Jt.next={eventTime:lr,lane:0,tag:Xe.tag,payload:Xe.payload,callback:Xe.callback,next:null});e:{var an=d,Wi=Xe;switch(gn=h,lr=_,Wi.tag){case 1:if(an=Wi.payload,typeof an=="function"){Cn=an.call(lr,Cn,gn);break e}Cn=an;break e;case 3:an.flags=an.flags&-65537|128;case 0:if(an=Wi.payload,gn=typeof an=="function"?an.call(lr,Cn,gn):an,gn==null)break e;Cn=o({},Cn,gn);break e;case 2:Ss=!0}}Xe.callback!==null&&Xe.lane!==0&&(d.flags|=64,gn=k.effects,gn===null?k.effects=[Xe]:gn.push(Xe))}else lr={eventTime:lr,lane:gn,tag:Xe.tag,payload:Xe.payload,callback:Xe.callback,next:null},Jt===null?(Ft=Jt=lr,mt=Cn):Jt=Jt.next=lr,Se|=gn;if(Xe=Xe.next,Xe===null){if(Xe=k.shared.pending,Xe===null)break;gn=Xe,Xe=gn.next,gn.next=null,k.lastBaseUpdate=gn,k.shared.pending=null}}while(!0);if(Jt===null&&(mt=Cn),k.baseState=mt,k.firstBaseUpdate=Ft,k.lastBaseUpdate=Jt,h=k.shared.interleaved,h!==null){k=h;do Se|=k.lane,k=k.next;while(k!==h)}else U===null&&(k.shared.lanes=0);Gf|=Se,d.lanes=Se,d.memoizedState=Cn}}function Rv(d,h,_){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var T=d[h],k=T.callback;if(k!==null){if(T.callback=null,T=_,typeof k!="function")throw Error(a(191,k));k.call(T)}}}var Rt=new r.Component().refs;function Te(d,h,_,T){h=d.memoizedState,_=_(T,h),_=_==null?h:o({},h,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}var Je={isMounted:function(d){return(d=d._reactInternals)?L(d)===d:!1},enqueueSetState:function(d,h,_){d=d._reactInternals;var T=mo(),k=jl(d),U=qa(T,k);U.payload=h,_!=null&&(U.callback=_),_s(d,U),h=Pa(d,k,T),h!==null&&Nf(h,d,k)},enqueueReplaceState:function(d,h,_){d=d._reactInternals;var T=mo(),k=jl(d),U=qa(T,k);U.tag=1,U.payload=h,_!=null&&(U.callback=_),_s(d,U),h=Pa(d,k,T),h!==null&&Nf(h,d,k)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var _=mo(),T=jl(d),k=qa(_,T);k.tag=2,h!=null&&(k.callback=h),_s(d,k),h=Pa(d,T,_),h!==null&&Nf(h,d,T)}};function ht(d,h,_,T,k,U,Se){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,U,Se):h.prototype&&h.prototype.isPureReactComponent?!If(_,T)||!If(k,U):!0}function St(d,h,_){var T=!1,k=At,U=h.contextType;return typeof U=="object"&&U!==null?U=fo(U):(k=Kt(h)?un:Pt.current,T=h.contextTypes,U=(T=T!=null)?nn(d,k):At),h=new h(_,U),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Je,d.stateNode=h,h._reactInternals=d,T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=k,d.__reactInternalMemoizedMaskedChildContext=U),h}function Tt(d,h,_,T){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(_,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(_,T),h.state!==d&&Je.enqueueReplaceState(h,h.state,null)}function Mt(d,h,_,T){var k=d.stateNode;k.props=_,k.state=d.memoizedState,k.refs=Rt,Yh(d);var U=h.contextType;typeof U=="object"&&U!==null?k.context=fo(U):(U=Kt(h)?un:Pt.current,k.context=nn(d,U)),k.state=d.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(Te(d,h,U,_),k.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(h=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),h!==k.state&&Je.enqueueReplaceState(k,k.state,null),Ff(d,_,k,T),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308)}var Ot=[],zt=0,en=null,cn=0,xn=[],Dn=0,zn=null,vr=1,ci="";function Do(d,h){Ot[zt++]=cn,Ot[zt++]=en,en=d,cn=h}function yi(d,h,_){xn[Dn++]=vr,xn[Dn++]=ci,xn[Dn++]=zn,zn=d;var T=vr;d=ci;var k=32-_n(T)-1;T&=~(1<<k),_+=1;var U=32-_n(h)+k;if(30<U){var Se=k-k%5;U=(T&(1<<Se)-1).toString(32),T>>=Se,k-=Se,vr=1<<32-_n(h)+k|_<<k|T,ci=U+d}else vr=1<<U|_<<k|T,ci=d}function Hi(d){d.return!==null&&(Do(d,1),yi(d,1,0))}function Zs(d){for(;d===en;)en=Ot[--zt],Ot[zt]=null,cn=Ot[--zt],Ot[zt]=null;for(;d===zn;)zn=xn[--Dn],xn[Dn]=null,ci=xn[--Dn],xn[Dn]=null,vr=xn[--Dn],xn[Dn]=null}var ho=null,Oi=null,rr=!1,Zh=!1,Ya=null;function fP(d,h){var _=Ra(5,null,null,0);_.elementType="DELETED",_.stateNode=h,_.return=d,h=d.deletions,h===null?(d.deletions=[_],d.flags|=16):h.push(_)}function dP(d,h){switch(d.tag){case 5:return h=xt(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,ho=d,Oi=Ht(h),!0):!1;case 6:return h=Et(h,d.pendingProps),h!==null?(d.stateNode=h,ho=d,Oi=null,!0):!1;case 13:if(h=Ut(h),h!==null){var _=zn!==null?{id:vr,overflow:ci}:null;return d.memoizedState={dehydrated:h,treeContext:_,retryLane:1073741824},_=Ra(18,null,null,0),_.stateNode=h,_.return=d,d.child=_,ho=d,Oi=null,!0}return!1;default:return!1}}function Kb(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Xb(d){if(rr){var h=Oi;if(h){var _=h;if(!dP(d,h)){if(Kb(d))throw Error(a(418));h=hn(_);var T=ho;h&&dP(d,h)?fP(T,_):(d.flags=d.flags&-4097|2,rr=!1,ho=d)}}else{if(Kb(d))throw Error(a(418));d.flags=d.flags&-4097|2,rr=!1,ho=d}}}function hP(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ho=d}function Jh(d){if(!Fe||d!==ho)return!1;if(!rr)return hP(d),rr=!0,!1;if(d.tag!==3&&(d.tag!==5||Ie(d.type)&&!ze(d.type,d.memoizedProps))){var h=Oi;if(h){if(Kb(d)){for(d=Oi;d;)d=hn(d);throw Error(a(418))}for(;h;)fP(d,h),h=hn(h)}}if(hP(d),d.tag===13){if(!Fe)throw Error(a(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));Oi=A(d)}else Oi=ho?hn(d.stateNode):null;return!0}function Uf(){Fe&&(Oi=ho=null,Zh=rr=!1)}function qb(d){Ya===null?Ya=[d]:Ya.push(d)}function Qh(d,h,_){if(d=_.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(a(309));var T=_.stateNode}if(!T)throw Error(a(147,d));var k=T,U=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===U?h.ref:(h=function(Se){var Xe=k.refs;Xe===Rt&&(Xe=k.refs={}),Se===null?delete Xe[U]:Xe[U]=Se},h._stringRef=U,h)}if(typeof d!="string")throw Error(a(284));if(!_._owner)throw Error(a(290,d))}return d}function Av(d,h){throw d=Object.prototype.toString.call(h),Error(a(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function pP(d){var h=d._init;return h(d._payload)}function mP(d){function h(ot,Qe){if(d){var ut=ot.deletions;ut===null?(ot.deletions=[Qe],ot.flags|=16):ut.push(Qe)}}function _(ot,Qe){if(!d)return null;for(;Qe!==null;)h(ot,Qe),Qe=Qe.sibling;return null}function T(ot,Qe){for(ot=new Map;Qe!==null;)Qe.key!==null?ot.set(Qe.key,Qe):ot.set(Qe.index,Qe),Qe=Qe.sibling;return ot}function k(ot,Qe){return ot=Wl(ot,Qe),ot.index=0,ot.sibling=null,ot}function U(ot,Qe,ut){return ot.index=ut,d?(ut=ot.alternate,ut!==null?(ut=ut.index,ut<Qe?(ot.flags|=2,Qe):ut):(ot.flags|=2,Qe)):(ot.flags|=1048576,Qe)}function Se(ot){return d&&ot.alternate===null&&(ot.flags|=2),ot}function Xe(ot,Qe,ut,Wt){return Qe===null||Qe.tag!==6?(Qe=Ow(ut,ot.mode,Wt),Qe.return=ot,Qe):(Qe=k(Qe,ut),Qe.return=ot,Qe)}function mt(ot,Qe,ut,Wt){var on=ut.type;return on===c?Jt(ot,Qe,ut.props.children,Wt,ut.key):Qe!==null&&(Qe.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===w&&pP(on)===Qe.type)?(Wt=k(Qe,ut.props),Wt.ref=Qh(ot,Qe,ut),Wt.return=ot,Wt):(Wt=sy(ut.type,ut.key,ut.props,null,ot.mode,Wt),Wt.ref=Qh(ot,Qe,ut),Wt.return=ot,Wt)}function Ft(ot,Qe,ut,Wt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==ut.containerInfo||Qe.stateNode.implementation!==ut.implementation?(Qe=Dw(ut,ot.mode,Wt),Qe.return=ot,Qe):(Qe=k(Qe,ut.children||[]),Qe.return=ot,Qe)}function Jt(ot,Qe,ut,Wt,on){return Qe===null||Qe.tag!==7?(Qe=oc(ut,ot.mode,Wt,on),Qe.return=ot,Qe):(Qe=k(Qe,ut),Qe.return=ot,Qe)}function Cn(ot,Qe,ut){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Qe=Ow(""+Qe,ot.mode,ut),Qe.return=ot,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case l:return ut=sy(Qe.type,Qe.key,Qe.props,null,ot.mode,ut),ut.ref=Qh(ot,null,Qe),ut.return=ot,ut;case u:return Qe=Dw(Qe,ot.mode,ut),Qe.return=ot,Qe;case w:var Wt=Qe._init;return Cn(ot,Wt(Qe._payload),ut)}if(fe(Qe)||E(Qe))return Qe=oc(Qe,ot.mode,ut,null),Qe.return=ot,Qe;Av(ot,Qe)}return null}function gn(ot,Qe,ut,Wt){var on=Qe!==null?Qe.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number")return on!==null?null:Xe(ot,Qe,""+ut,Wt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case l:return ut.key===on?mt(ot,Qe,ut,Wt):null;case u:return ut.key===on?Ft(ot,Qe,ut,Wt):null;case w:return on=ut._init,gn(ot,Qe,on(ut._payload),Wt)}if(fe(ut)||E(ut))return on!==null?null:Jt(ot,Qe,ut,Wt,null);Av(ot,ut)}return null}function lr(ot,Qe,ut,Wt,on){if(typeof Wt=="string"&&Wt!==""||typeof Wt=="number")return ot=ot.get(ut)||null,Xe(Qe,ot,""+Wt,on);if(typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case l:return ot=ot.get(Wt.key===null?ut:Wt.key)||null,mt(Qe,ot,Wt,on);case u:return ot=ot.get(Wt.key===null?ut:Wt.key)||null,Ft(Qe,ot,Wt,on);case w:var kn=Wt._init;return lr(ot,Qe,ut,kn(Wt._payload),on)}if(fe(Wt)||E(Wt))return ot=ot.get(ut)||null,Jt(Qe,ot,Wt,on,null);Av(Qe,Wt)}return null}function an(ot,Qe,ut,Wt){for(var on=null,kn=null,Mn=Qe,Jn=Qe=0,bi=null;Mn!==null&&Jn<ut.length;Jn++){Mn.index>Jn?(bi=Mn,Mn=null):bi=Mn.sibling;var Qn=gn(ot,Mn,ut[Jn],Wt);if(Qn===null){Mn===null&&(Mn=bi);break}d&&Mn&&Qn.alternate===null&&h(ot,Mn),Qe=U(Qn,Qe,Jn),kn===null?on=Qn:kn.sibling=Qn,kn=Qn,Mn=bi}if(Jn===ut.length)return _(ot,Mn),rr&&Do(ot,Jn),on;if(Mn===null){for(;Jn<ut.length;Jn++)Mn=Cn(ot,ut[Jn],Wt),Mn!==null&&(Qe=U(Mn,Qe,Jn),kn===null?on=Mn:kn.sibling=Mn,kn=Mn);return rr&&Do(ot,Jn),on}for(Mn=T(ot,Mn);Jn<ut.length;Jn++)bi=lr(Mn,ot,Jn,ut[Jn],Wt),bi!==null&&(d&&bi.alternate!==null&&Mn.delete(bi.key===null?Jn:bi.key),Qe=U(bi,Qe,Jn),kn===null?on=bi:kn.sibling=bi,kn=bi);return d&&Mn.forEach(function($l){return h(ot,$l)}),rr&&Do(ot,Jn),on}function Wi(ot,Qe,ut,Wt){var on=E(ut);if(typeof on!="function")throw Error(a(150));if(ut=on.call(ut),ut==null)throw Error(a(151));for(var kn=on=null,Mn=Qe,Jn=Qe=0,bi=null,Qn=ut.next();Mn!==null&&!Qn.done;Jn++,Qn=ut.next()){Mn.index>Jn?(bi=Mn,Mn=null):bi=Mn.sibling;var $l=gn(ot,Mn,Qn.value,Wt);if($l===null){Mn===null&&(Mn=bi);break}d&&Mn&&$l.alternate===null&&h(ot,Mn),Qe=U($l,Qe,Jn),kn===null?on=$l:kn.sibling=$l,kn=$l,Mn=bi}if(Qn.done)return _(ot,Mn),rr&&Do(ot,Jn),on;if(Mn===null){for(;!Qn.done;Jn++,Qn=ut.next())Qn=Cn(ot,Qn.value,Wt),Qn!==null&&(Qe=U(Qn,Qe,Jn),kn===null?on=Qn:kn.sibling=Qn,kn=Qn);return rr&&Do(ot,Jn),on}for(Mn=T(ot,Mn);!Qn.done;Jn++,Qn=ut.next())Qn=lr(Mn,ot,Jn,Qn.value,Wt),Qn!==null&&(d&&Qn.alternate!==null&&Mn.delete(Qn.key===null?Jn:Qn.key),Qe=U(Qn,Qe,Jn),kn===null?on=Qn:kn.sibling=Qn,kn=Qn);return d&&Mn.forEach(function(pz){return h(ot,pz)}),rr&&Do(ot,Jn),on}function Aa(ot,Qe,ut,Wt){if(typeof ut=="object"&&ut!==null&&ut.type===c&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case l:e:{for(var on=ut.key,kn=Qe;kn!==null;){if(kn.key===on){if(on=ut.type,on===c){if(kn.tag===7){_(ot,kn.sibling),Qe=k(kn,ut.props.children),Qe.return=ot,ot=Qe;break e}}else if(kn.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===w&&pP(on)===kn.type){_(ot,kn.sibling),Qe=k(kn,ut.props),Qe.ref=Qh(ot,kn,ut),Qe.return=ot,ot=Qe;break e}_(ot,kn);break}else h(ot,kn);kn=kn.sibling}ut.type===c?(Qe=oc(ut.props.children,ot.mode,Wt,ut.key),Qe.return=ot,ot=Qe):(Wt=sy(ut.type,ut.key,ut.props,null,ot.mode,Wt),Wt.ref=Qh(ot,Qe,ut),Wt.return=ot,ot=Wt)}return Se(ot);case u:e:{for(kn=ut.key;Qe!==null;){if(Qe.key===kn)if(Qe.tag===4&&Qe.stateNode.containerInfo===ut.containerInfo&&Qe.stateNode.implementation===ut.implementation){_(ot,Qe.sibling),Qe=k(Qe,ut.children||[]),Qe.return=ot,ot=Qe;break e}else{_(ot,Qe);break}else h(ot,Qe);Qe=Qe.sibling}Qe=Dw(ut,ot.mode,Wt),Qe.return=ot,ot=Qe}return Se(ot);case w:return kn=ut._init,Aa(ot,Qe,kn(ut._payload),Wt)}if(fe(ut))return an(ot,Qe,ut,Wt);if(E(ut))return Wi(ot,Qe,ut,Wt);Av(ot,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"?(ut=""+ut,Qe!==null&&Qe.tag===6?(_(ot,Qe.sibling),Qe=k(Qe,ut),Qe.return=ot,ot=Qe):(_(ot,Qe),Qe=Ow(ut,ot.mode,Wt),Qe.return=ot,ot=Qe),Se(ot)):_(ot,Qe)}return Aa}var zf=mP(!0),gP=mP(!1),ep={},Ma=Ze(ep),tp=Ze(ep),Bf=Ze(ep);function Es(d){if(d===ep)throw Error(a(174));return d}function Yb(d,h){$e(Bf,h),$e(tp,d),$e(Ma,ep),d=ve(h),Ge(Ma),$e(Ma,d)}function Hf(){Ge(Ma),Ge(tp),Ge(Bf)}function vP(d){var h=Es(Bf.current),_=Es(Ma.current);h=X(_,d.type,h),_!==h&&($e(tp,d),$e(Ma,h))}function Zb(d){tp.current===d&&(Ge(Ma),Ge(tp))}var Ir=Ze(0);function Iv(d){for(var h=d;h!==null;){if(h.tag===13){var _=h.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||mn(_)||Xt(_)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Jb=[];function Qb(){for(var d=0;d<Jb.length;d++){var h=Jb[d];yt?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Jb.length=0}var Ov=s.ReactCurrentDispatcher,Ta=s.ReactCurrentBatchConfig,Vf=0,Nr=null,Vi=null,xi=null,Dv=!1,np=!1,rp=0,zU=0;function ji(){throw Error(a(321))}function ew(d,h){if(h===null)return!1;for(var _=0;_<h.length&&_<d.length;_++)if(!Sa(d[_],h[_]))return!1;return!0}function tw(d,h,_,T,k,U){if(Vf=U,Nr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ov.current=d===null||d.memoizedState===null?jU:GU,d=_(T,k),np){U=0;do{if(np=!1,rp=0,25<=U)throw Error(a(301));U+=1,xi=Vi=null,h.updateQueue=null,Ov.current=WU,d=_(T,k)}while(np)}if(Ov.current=Uv,h=Vi!==null&&Vi.next!==null,Vf=0,xi=Vi=Nr=null,Dv=!1,h)throw Error(a(300));return d}function nw(){var d=rp!==0;return rp=0,d}function Js(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?Nr.memoizedState=xi=d:xi=xi.next=d,xi}function Cs(){if(Vi===null){var d=Nr.alternate;d=d!==null?d.memoizedState:null}else d=Vi.next;var h=xi===null?Nr.memoizedState:xi.next;if(h!==null)xi=h,Vi=d;else{if(d===null)throw Error(a(310));Vi=d,d={memoizedState:Vi.memoizedState,baseState:Vi.baseState,baseQueue:Vi.baseQueue,queue:Vi.queue,next:null},xi===null?Nr.memoizedState=xi=d:xi=xi.next=d}return xi}function Qu(d,h){return typeof h=="function"?h(d):h}function kv(d){var h=Cs(),_=h.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=d;var T=Vi,k=T.baseQueue,U=_.pending;if(U!==null){if(k!==null){var Se=k.next;k.next=U.next,U.next=Se}T.baseQueue=k=U,_.pending=null}if(k!==null){U=k.next,T=T.baseState;var Xe=Se=null,mt=null,Ft=U;do{var Jt=Ft.lane;if((Vf&Jt)===Jt)mt!==null&&(mt=mt.next={lane:0,action:Ft.action,hasEagerState:Ft.hasEagerState,eagerState:Ft.eagerState,next:null}),T=Ft.hasEagerState?Ft.eagerState:d(T,Ft.action);else{var Cn={lane:Jt,action:Ft.action,hasEagerState:Ft.hasEagerState,eagerState:Ft.eagerState,next:null};mt===null?(Xe=mt=Cn,Se=T):mt=mt.next=Cn,Nr.lanes|=Jt,Gf|=Jt}Ft=Ft.next}while(Ft!==null&&Ft!==U);mt===null?Se=T:mt.next=Xe,Sa(T,h.memoizedState)||(Jo=!0),h.memoizedState=T,h.baseState=Se,h.baseQueue=mt,_.lastRenderedState=T}if(d=_.interleaved,d!==null){k=d;do U=k.lane,Nr.lanes|=U,Gf|=U,k=k.next;while(k!==d)}else k===null&&(_.lanes=0);return[h.memoizedState,_.dispatch]}function Lv(d){var h=Cs(),_=h.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=d;var T=_.dispatch,k=_.pending,U=h.memoizedState;if(k!==null){_.pending=null;var Se=k=k.next;do U=d(U,Se.action),Se=Se.next;while(Se!==k);Sa(U,h.memoizedState)||(Jo=!0),h.memoizedState=U,h.baseQueue===null&&(h.baseState=U),_.lastRenderedState=U}return[U,T]}function yP(){}function xP(d,h){var _=Nr,T=Cs(),k=h(),U=!Sa(T.memoizedState,k);if(U&&(T.memoizedState=k,Jo=!0),T=T.queue,op(SP.bind(null,_,T,d),[d]),T.getSnapshot!==h||U||xi!==null&&xi.memoizedState.tag&1){if(_.flags|=2048,ip(9,wP.bind(null,_,T,k,h),void 0,null),Qr===null)throw Error(a(349));Vf&30||bP(_,h,k)}return k}function bP(d,h,_){d.flags|=16384,d={getSnapshot:h,value:_},h=Nr.updateQueue,h===null?(h={lastEffect:null,stores:null},Nr.updateQueue=h,h.stores=[d]):(_=h.stores,_===null?h.stores=[d]:_.push(d))}function wP(d,h,_,T){h.value=_,h.getSnapshot=T,_P(h)&&Pa(d,1,-1)}function SP(d,h,_){return _(function(){_P(h)&&Pa(d,1,-1)})}function _P(d){var h=d.getSnapshot;d=d.value;try{var _=h();return!Sa(d,_)}catch{return!0}}function rw(d){var h=Js();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:d},h.queue=d,d=d.dispatch=VU.bind(null,Nr,d),[h.memoizedState,d]}function ip(d,h,_,T){return d={tag:d,create:h,destroy:_,deps:T,next:null},h=Nr.updateQueue,h===null?(h={lastEffect:null,stores:null},Nr.updateQueue=h,h.lastEffect=d.next=d):(_=h.lastEffect,_===null?h.lastEffect=d.next=d:(T=_.next,_.next=d,d.next=T,h.lastEffect=d)),d}function EP(){return Cs().memoizedState}function Nv(d,h,_,T){var k=Js();Nr.flags|=d,k.memoizedState=ip(1|h,_,void 0,T===void 0?null:T)}function Fv(d,h,_,T){var k=Cs();T=T===void 0?null:T;var U=void 0;if(Vi!==null){var Se=Vi.memoizedState;if(U=Se.destroy,T!==null&&ew(T,Se.deps)){k.memoizedState=ip(h,_,U,T);return}}Nr.flags|=d,k.memoizedState=ip(1|h,_,U,T)}function iw(d,h){return Nv(8390656,8,d,h)}function op(d,h){return Fv(2048,8,d,h)}function CP(d,h){return Fv(4,2,d,h)}function MP(d,h){return Fv(4,4,d,h)}function TP(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function PP(d,h,_){return _=_!=null?_.concat([d]):null,Fv(4,4,TP.bind(null,h,d),_)}function ow(){}function RP(d,h){var _=Cs();h=h===void 0?null:h;var T=_.memoizedState;return T!==null&&h!==null&&ew(h,T[1])?T[0]:(_.memoizedState=[d,h],d)}function AP(d,h){var _=Cs();h=h===void 0?null:h;var T=_.memoizedState;return T!==null&&h!==null&&ew(h,T[1])?T[0]:(d=d(),_.memoizedState=[d,h],d)}function BU(d,h){var _=jn;jn=_!==0&&4>_?_:4,d(!0);var T=Ta.transition;Ta.transition={};try{d(!1),h()}finally{jn=_,Ta.transition=T}}function IP(){return Cs().memoizedState}function HU(d,h,_){var T=jl(d);_={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null},OP(d)?DP(h,_):(kP(d,h,_),_=mo(),d=Pa(d,T,_),d!==null&&LP(d,h,T))}function VU(d,h,_){var T=jl(d),k={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null};if(OP(d))DP(h,k);else{kP(d,h,k);var U=d.alternate;if(d.lanes===0&&(U===null||U.lanes===0)&&(U=h.lastRenderedReducer,U!==null))try{var Se=h.lastRenderedState,Xe=U(Se,_);if(k.hasEagerState=!0,k.eagerState=Xe,Sa(Xe,Se))return}catch{}finally{}_=mo(),d=Pa(d,T,_),d!==null&&LP(d,h,T)}}function OP(d){var h=d.alternate;return d===Nr||h!==null&&h===Nr}function DP(d,h){np=Dv=!0;var _=d.pending;_===null?h.next=h:(h.next=_.next,_.next=h),d.pending=h}function kP(d,h,_){Qr!==null&&d.mode&1&&!(Ln&2)?(d=h.interleaved,d===null?(_.next=_,Ca===null?Ca=[h]:Ca.push(h)):(_.next=d.next,d.next=_),h.interleaved=_):(d=h.pending,d===null?_.next=_:(_.next=d.next,d.next=_),h.pending=_)}function LP(d,h,_){if(_&4194240){var T=h.lanes;T&=d.pendingLanes,_|=T,h.lanes=_,Yu(d,_)}}var Uv={readContext:fo,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useInsertionEffect:ji,useLayoutEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useMutableSource:ji,useSyncExternalStore:ji,useId:ji,unstable_isNewReconciler:!1},jU={readContext:fo,useCallback:function(d,h){return Js().memoizedState=[d,h===void 0?null:h],d},useContext:fo,useEffect:iw,useImperativeHandle:function(d,h,_){return _=_!=null?_.concat([d]):null,Nv(4194308,4,TP.bind(null,h,d),_)},useLayoutEffect:function(d,h){return Nv(4194308,4,d,h)},useInsertionEffect:function(d,h){return Nv(4,2,d,h)},useMemo:function(d,h){var _=Js();return h=h===void 0?null:h,d=d(),_.memoizedState=[d,h],d},useReducer:function(d,h,_){var T=Js();return h=_!==void 0?_(h):h,T.memoizedState=T.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},T.queue=d,d=d.dispatch=HU.bind(null,Nr,d),[T.memoizedState,d]},useRef:function(d){var h=Js();return d={current:d},h.memoizedState=d},useState:rw,useDebugValue:ow,useDeferredValue:function(d){var h=rw(d),_=h[0],T=h[1];return iw(function(){var k=Ta.transition;Ta.transition={};try{T(d)}finally{Ta.transition=k}},[d]),_},useTransition:function(){var d=rw(!1),h=d[0];return d=BU.bind(null,d[1]),Js().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,_){var T=Nr,k=Js();if(rr){if(_===void 0)throw Error(a(407));_=_()}else{if(_=h(),Qr===null)throw Error(a(349));Vf&30||bP(T,h,_)}k.memoizedState=_;var U={value:_,getSnapshot:h};return k.queue=U,iw(SP.bind(null,T,U,d),[d]),T.flags|=2048,ip(9,wP.bind(null,T,U,_,h),void 0,null),_},useId:function(){var d=Js(),h=Qr.identifierPrefix;if(rr){var _=ci,T=vr;_=(T&~(1<<32-_n(T)-1)).toString(32)+_,h=":"+h+"R"+_,_=rp++,0<_&&(h+="H"+_.toString(32)),h+=":"}else _=zU++,h=":"+h+"r"+_.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},GU={readContext:fo,useCallback:RP,useContext:fo,useEffect:op,useImperativeHandle:PP,useInsertionEffect:CP,useLayoutEffect:MP,useMemo:AP,useReducer:kv,useRef:EP,useState:function(){return kv(Qu)},useDebugValue:ow,useDeferredValue:function(d){var h=kv(Qu),_=h[0],T=h[1];return op(function(){var k=Ta.transition;Ta.transition={};try{T(d)}finally{Ta.transition=k}},[d]),_},useTransition:function(){var d=kv(Qu)[0],h=Cs().memoizedState;return[d,h]},useMutableSource:yP,useSyncExternalStore:xP,useId:IP,unstable_isNewReconciler:!1},WU={readContext:fo,useCallback:RP,useContext:fo,useEffect:op,useImperativeHandle:PP,useInsertionEffect:CP,useLayoutEffect:MP,useMemo:AP,useReducer:Lv,useRef:EP,useState:function(){return Lv(Qu)},useDebugValue:ow,useDeferredValue:function(d){var h=Lv(Qu),_=h[0],T=h[1];return op(function(){var k=Ta.transition;Ta.transition={};try{T(d)}finally{Ta.transition=k}},[d]),_},useTransition:function(){var d=Lv(Qu)[0],h=Cs().memoizedState;return[d,h]},useMutableSource:yP,useSyncExternalStore:xP,useId:IP,unstable_isNewReconciler:!1};function aw(d,h){try{var _="",T=h;do _+=$b(T),T=T.return;while(T);var k=_}catch(U){k=`
Error generating stack: `+U.message+`
`+U.stack}return{value:d,source:h,stack:k}}function sw(d,h){try{console.error(h.value)}catch(_){setTimeout(function(){throw _})}}var $U=typeof WeakMap=="function"?WeakMap:Map;function NP(d,h,_){_=qa(-1,_),_.tag=3,_.payload={element:null};var T=h.value;return _.callback=function(){ey||(ey=!0,Cw=T),sw(d,h)},_}function FP(d,h,_){_=qa(-1,_),_.tag=3;var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var k=h.value;_.payload=function(){return T(k)},_.callback=function(){sw(d,h)}}var U=d.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(_.callback=function(){sw(d,h),typeof T!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var Se=h.stack;this.componentDidCatch(h.value,{componentStack:Se!==null?Se:""})}),_}function UP(d,h,_){var T=d.pingCache;if(T===null){T=d.pingCache=new $U;var k=new Set;T.set(h,k)}else k=T.get(h),k===void 0&&(k=new Set,T.set(h,k));k.has(_)||(k.add(_),d=az.bind(null,d,h,_),h.then(d,d))}function zP(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function BP(d,h,_,T,k){return d.mode&1?(d.flags|=65536,d.lanes=k,d):(d===h?d.flags|=65536:(d.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(h=qa(-1,1),h.tag=2,_s(_,h))),_.lanes|=1),d)}function Ms(d){d.flags|=4}function HP(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var ap,sp,zv,Bv;if(je)ap=function(d,h){for(var _=h.child;_!==null;){if(_.tag===5||_.tag===6)se(d,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},sp=function(){},zv=function(d,h,_,T,k){if(d=d.memoizedProps,d!==T){var U=h.stateNode,Se=Es(Ma.current);_=ge(U,_,d,T,k,Se),(h.updateQueue=_)&&Ms(h)}},Bv=function(d,h,_,T){_!==T&&Ms(h)};else if(Y){ap=function(d,h,_,T){for(var k=h.child;k!==null;){if(k.tag===5){var U=k.stateNode;_&&T&&(U=wt(U,k.type,k.memoizedProps,k)),se(d,U)}else if(k.tag===6)U=k.stateNode,_&&T&&(U=bt(U,k.memoizedProps,k)),se(d,U);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)U=k.child,U!==null&&(U.return=k),ap(d,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===h)break;for(;k.sibling===null;){if(k.return===null||k.return===h)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};var VP=function(d,h,_,T){for(var k=h.child;k!==null;){if(k.tag===5){var U=k.stateNode;_&&T&&(U=wt(U,k.type,k.memoizedProps,k)),ae(d,U)}else if(k.tag===6)U=k.stateNode,_&&T&&(U=bt(U,k.memoizedProps,k)),ae(d,U);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)U=k.child,U!==null&&(U.return=k),VP(d,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===h)break;for(;k.sibling===null;){if(k.return===null||k.return===h)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};sp=function(d,h){var _=h.stateNode;if(!HP(d,h)){d=_.containerInfo;var T=ue(d);VP(T,h,!1,!1),_.pendingChildren=T,Ms(h),Ne(d,T)}},zv=function(d,h,_,T,k){var U=d.stateNode,Se=d.memoizedProps;if((d=HP(d,h))&&Se===T)h.stateNode=U;else{var Xe=h.stateNode,mt=Es(Ma.current),Ft=null;Se!==T&&(Ft=ge(Xe,_,Se,T,k,mt)),d&&Ft===null?h.stateNode=U:(U=te(U,Ft,_,Se,T,h,d,Xe),K(U,_,T,k,mt)&&Ms(h),h.stateNode=U,d?Ms(h):ap(U,h,!1,!1))}},Bv=function(d,h,_,T){_!==T?(d=Es(Bf.current),_=Es(Ma.current),h.stateNode=Be(T,d,_,h),Ms(h)):h.stateNode=d.stateNode}}else sp=function(){},zv=function(){},Bv=function(){};function lp(d,h){if(!rr)switch(d.tailMode){case"hidden":h=d.tail;for(var _=null;h!==null;)h.alternate!==null&&(_=h),h=h.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function Gi(d){var h=d.alternate!==null&&d.alternate.child===d.child,_=0,T=0;if(h)for(var k=d.child;k!==null;)_|=k.lanes|k.childLanes,T|=k.subtreeFlags&14680064,T|=k.flags&14680064,k.return=d,k=k.sibling;else for(k=d.child;k!==null;)_|=k.lanes|k.childLanes,T|=k.subtreeFlags,T|=k.flags,k.return=d,k=k.sibling;return d.subtreeFlags|=T,d.childLanes=_,h}function KU(d,h,_){var T=h.pendingProps;switch(Zs(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(h),null;case 1:return Kt(h.type)&&Lt(),Gi(h),null;case 3:return T=h.stateNode,Hf(),Ge(Vt),Ge(Pt),Qb(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(Jh(h)?Ms(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Ya!==null&&(Pw(Ya),Ya=null))),sp(d,h),Gi(h),null;case 5:Zb(h),_=Es(Bf.current);var k=h.type;if(d!==null&&h.stateNode!=null)zv(d,h,k,T,_),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!T){if(h.stateNode===null)throw Error(a(166));return Gi(h),null}if(d=Es(Ma.current),Jh(h)){if(!Fe)throw Error(a(175));d=N(h.stateNode,h.type,h.memoizedProps,_,d,h,!Zh),h.updateQueue=d,d!==null&&Ms(h)}else{var U=ce(k,T,_,d,h);ap(U,h,!1,!1),h.stateNode=U,K(U,k,T,_,d)&&Ms(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Gi(h),null;case 6:if(d&&h.stateNode!=null)Bv(d,h,d.memoizedProps,T);else{if(typeof T!="string"&&h.stateNode===null)throw Error(a(166));if(d=Es(Bf.current),_=Es(Ma.current),Jh(h)){if(!Fe)throw Error(a(176));if(d=h.stateNode,T=h.memoizedProps,(_=W(d,T,h,!Zh))&&(k=ho,k!==null))switch(U=(k.mode&1)!==0,k.tag){case 3:we(k.stateNode.containerInfo,d,T,U);break;case 5:pe(k.type,k.memoizedProps,k.stateNode,d,T,U)}_&&Ms(h)}else h.stateNode=Be(T,d,_,h)}return Gi(h),null;case 13:if(Ge(Ir),T=h.memoizedState,rr&&Oi!==null&&h.mode&1&&!(h.flags&128)){for(d=Oi;d;)d=hn(d);return Uf(),h.flags|=98560,h}if(T!==null&&T.dehydrated!==null){if(T=Jh(h),d===null){if(!T)throw Error(a(318));if(!Fe)throw Error(a(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));$(d,h)}else Uf(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Gi(h),null}return Ya!==null&&(Pw(Ya),Ya=null),h.flags&128?(h.lanes=_,h):(T=T!==null,_=!1,d===null?Jh(h):_=d.memoizedState!==null,T&&!_&&(h.child.flags|=8192,h.mode&1&&(d===null||Ir.current&1?fi===0&&(fi=3):Aw())),h.updateQueue!==null&&(h.flags|=4),Gi(h),null);case 4:return Hf(),sp(d,h),d===null&&et(h.stateNode.containerInfo),Gi(h),null;case 10:return kf(h.type._context),Gi(h),null;case 17:return Kt(h.type)&&Lt(),Gi(h),null;case 19:if(Ge(Ir),k=h.memoizedState,k===null)return Gi(h),null;if(T=(h.flags&128)!==0,U=k.rendering,U===null)if(T)lp(k,!1);else{if(fi!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(U=Iv(d),U!==null){for(h.flags|=128,lp(k,!1),d=U.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=_,T=h.child;T!==null;)_=T,k=d,_.flags&=14680066,U=_.alternate,U===null?(_.childLanes=0,_.lanes=k,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=U.childLanes,_.lanes=U.lanes,_.child=U.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=U.memoizedProps,_.memoizedState=U.memoizedState,_.updateQueue=U.updateQueue,_.type=U.type,k=U.dependencies,_.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext}),T=T.sibling;return $e(Ir,Ir.current&1|2),h.child}d=d.sibling}k.tail!==null&&$r()>Ew&&(h.flags|=128,T=!0,lp(k,!1),h.lanes=4194304)}else{if(!T)if(d=Iv(U),d!==null){if(h.flags|=128,T=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),lp(k,!0),k.tail===null&&k.tailMode==="hidden"&&!U.alternate&&!rr)return Gi(h),null}else 2*$r()-k.renderingStartTime>Ew&&_!==1073741824&&(h.flags|=128,T=!0,lp(k,!1),h.lanes=4194304);k.isBackwards?(U.sibling=h.child,h.child=U):(d=k.last,d!==null?d.sibling=U:h.child=U,k.last=U)}return k.tail!==null?(h=k.tail,k.rendering=h,k.tail=h.sibling,k.renderingStartTime=$r(),h.sibling=null,d=Ir.current,$e(Ir,T?d&1|2:d&1),h):(Gi(h),null);case 22:case 23:return Rw(),T=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==T&&(h.flags|=8192),T&&h.mode&1?Qo&1073741824&&(Gi(h),je&&h.subtreeFlags&6&&(h.flags|=8192)):Gi(h),null;case 24:return null;case 25:return null}throw Error(a(156,h.tag))}var XU=s.ReactCurrentOwner,Jo=!1;function po(d,h,_,T){h.child=d===null?gP(h,null,_,T):zf(h,d.child,_,T)}function jP(d,h,_,T,k){_=_.render;var U=h.ref;return Bl(h,k),T=tw(d,h,_,T,U,k),_=nw(),d!==null&&!Jo?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~k,Qs(d,h,k)):(rr&&_&&Hi(h),h.flags|=1,po(d,h,T,k),h.child)}function GP(d,h,_,T,k){if(d===null){var U=_.type;return typeof U=="function"&&!Iw(U)&&U.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(h.tag=15,h.type=U,WP(d,h,U,T,k)):(d=sy(_.type,null,T,h,h.mode,k),d.ref=h.ref,d.return=h,h.child=d)}if(U=d.child,!(d.lanes&k)){var Se=U.memoizedProps;if(_=_.compare,_=_!==null?_:If,_(Se,T)&&d.ref===h.ref)return Qs(d,h,k)}return h.flags|=1,d=Wl(U,T),d.ref=h.ref,d.return=h,h.child=d}function WP(d,h,_,T,k){if(d!==null&&If(d.memoizedProps,T)&&d.ref===h.ref)if(Jo=!1,(d.lanes&k)!==0)d.flags&131072&&(Jo=!0);else return h.lanes=d.lanes,Qs(d,h,k);return lw(d,h,_,T,k)}function $P(d,h,_){var T=h.pendingProps,k=T.children,U=d!==null?d.memoizedState:null;if(T.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},$e(jf,Qo),Qo|=_;else if(_&1073741824)h.memoizedState={baseLanes:0,cachePool:null},T=U!==null?U.baseLanes:_,$e(jf,Qo),Qo|=T;else return d=U!==null?U.baseLanes|_:_,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,$e(jf,Qo),Qo|=d,null;else U!==null?(T=U.baseLanes|_,h.memoizedState=null):T=_,$e(jf,Qo),Qo|=T;return po(d,h,k,_),h.child}function KP(d,h){var _=h.ref;(d===null&&_!==null||d!==null&&d.ref!==_)&&(h.flags|=512,h.flags|=2097152)}function lw(d,h,_,T,k){var U=Kt(_)?un:Pt.current;return U=nn(h,U),Bl(h,k),_=tw(d,h,_,T,U,k),T=nw(),d!==null&&!Jo?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~k,Qs(d,h,k)):(rr&&T&&Hi(h),h.flags|=1,po(d,h,_,k),h.child)}function XP(d,h,_,T,k){if(Kt(_)){var U=!0;Qt(h)}else U=!1;if(Bl(h,k),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),St(h,_,T),Mt(h,_,T,k),T=!0;else if(d===null){var Se=h.stateNode,Xe=h.memoizedProps;Se.props=Xe;var mt=Se.context,Ft=_.contextType;typeof Ft=="object"&&Ft!==null?Ft=fo(Ft):(Ft=Kt(_)?un:Pt.current,Ft=nn(h,Ft));var Jt=_.getDerivedStateFromProps,Cn=typeof Jt=="function"||typeof Se.getSnapshotBeforeUpdate=="function";Cn||typeof Se.UNSAFE_componentWillReceiveProps!="function"&&typeof Se.componentWillReceiveProps!="function"||(Xe!==T||mt!==Ft)&&Tt(h,Se,T,Ft),Ss=!1;var gn=h.memoizedState;Se.state=gn,Ff(h,T,Se,k),mt=h.memoizedState,Xe!==T||gn!==mt||Vt.current||Ss?(typeof Jt=="function"&&(Te(h,_,Jt,T),mt=h.memoizedState),(Xe=Ss||ht(h,_,Xe,T,gn,mt,Ft))?(Cn||typeof Se.UNSAFE_componentWillMount!="function"&&typeof Se.componentWillMount!="function"||(typeof Se.componentWillMount=="function"&&Se.componentWillMount(),typeof Se.UNSAFE_componentWillMount=="function"&&Se.UNSAFE_componentWillMount()),typeof Se.componentDidMount=="function"&&(h.flags|=4194308)):(typeof Se.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=mt),Se.props=T,Se.state=mt,Se.context=Ft,T=Xe):(typeof Se.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{Se=h.stateNode,Tv(d,h),Xe=h.memoizedProps,Ft=h.type===h.elementType?Xe:Zo(h.type,Xe),Se.props=Ft,Cn=h.pendingProps,gn=Se.context,mt=_.contextType,typeof mt=="object"&&mt!==null?mt=fo(mt):(mt=Kt(_)?un:Pt.current,mt=nn(h,mt));var lr=_.getDerivedStateFromProps;(Jt=typeof lr=="function"||typeof Se.getSnapshotBeforeUpdate=="function")||typeof Se.UNSAFE_componentWillReceiveProps!="function"&&typeof Se.componentWillReceiveProps!="function"||(Xe!==Cn||gn!==mt)&&Tt(h,Se,T,mt),Ss=!1,gn=h.memoizedState,Se.state=gn,Ff(h,T,Se,k);var an=h.memoizedState;Xe!==Cn||gn!==an||Vt.current||Ss?(typeof lr=="function"&&(Te(h,_,lr,T),an=h.memoizedState),(Ft=Ss||ht(h,_,Ft,T,gn,an,mt)||!1)?(Jt||typeof Se.UNSAFE_componentWillUpdate!="function"&&typeof Se.componentWillUpdate!="function"||(typeof Se.componentWillUpdate=="function"&&Se.componentWillUpdate(T,an,mt),typeof Se.UNSAFE_componentWillUpdate=="function"&&Se.UNSAFE_componentWillUpdate(T,an,mt)),typeof Se.componentDidUpdate=="function"&&(h.flags|=4),typeof Se.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof Se.componentDidUpdate!="function"||Xe===d.memoizedProps&&gn===d.memoizedState||(h.flags|=4),typeof Se.getSnapshotBeforeUpdate!="function"||Xe===d.memoizedProps&&gn===d.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=an),Se.props=T,Se.state=an,Se.context=mt,T=Ft):(typeof Se.componentDidUpdate!="function"||Xe===d.memoizedProps&&gn===d.memoizedState||(h.flags|=4),typeof Se.getSnapshotBeforeUpdate!="function"||Xe===d.memoizedProps&&gn===d.memoizedState||(h.flags|=1024),T=!1)}return uw(d,h,_,T,U,k)}function uw(d,h,_,T,k,U){KP(d,h);var Se=(h.flags&128)!==0;if(!T&&!Se)return k&&sn(h,_,!1),Qs(d,h,U);T=h.stateNode,XU.current=h;var Xe=Se&&typeof _.getDerivedStateFromError!="function"?null:T.render();return h.flags|=1,d!==null&&Se?(h.child=zf(h,d.child,null,U),h.child=zf(h,null,Xe,U)):po(d,h,Xe,U),h.memoizedState=T.state,k&&sn(h,_,!0),h.child}function qP(d){var h=d.stateNode;h.pendingContext?qt(d,h.pendingContext,h.pendingContext!==h.context):h.context&&qt(d,h.context,!1),Yb(d,h.containerInfo)}function YP(d,h,_,T,k){return Uf(),qb(k),h.flags|=256,po(d,h,_,T),h.child}var Hv={dehydrated:null,treeContext:null,retryLane:0};function Vv(d){return{baseLanes:d,cachePool:null}}function ZP(d,h,_){var T=h.pendingProps,k=Ir.current,U=!1,Se=(h.flags&128)!==0,Xe;if((Xe=Se)||(Xe=d!==null&&d.memoizedState===null?!1:(k&2)!==0),Xe?(U=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(k|=1),$e(Ir,k&1),d===null)return Xb(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?Xt(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(k=T.children,d=T.fallback,U?(T=h.mode,U=h.child,k={mode:"hidden",children:k},!(T&1)&&U!==null?(U.childLanes=0,U.pendingProps=k):U=ly(k,T,0,null),d=oc(d,T,_,null),U.return=h,d.return=h,U.sibling=d,h.child=U,h.child.memoizedState=Vv(_),h.memoizedState=Hv,d):cw(h,k));if(k=d.memoizedState,k!==null){if(Xe=k.dehydrated,Xe!==null){if(Se)return h.flags&256?(h.flags&=-257,jv(d,h,_,Error(a(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(U=T.fallback,k=h.mode,T=ly({mode:"visible",children:T.children},k,0,null),U=oc(U,k,_,null),U.flags|=2,T.return=h,U.return=h,T.sibling=U,h.child=T,h.mode&1&&zf(h,d.child,null,_),h.child.memoizedState=Vv(_),h.memoizedState=Hv,U);if(!(h.mode&1))h=jv(d,h,_,null);else if(Xt(Xe))h=jv(d,h,_,Error(a(419)));else if(T=(_&d.childLanes)!==0,Jo||T){if(T=Qr,T!==null){switch(_&-_){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}T=U&(T.suspendedLanes|_)?0:U,T!==0&&T!==k.retryLane&&(k.retryLane=T,Pa(d,T,-1))}Aw(),h=jv(d,h,_,Error(a(421)))}else mn(Xe)?(h.flags|=128,h.child=d.child,h=sz.bind(null,d),rn(Xe,h),h=null):(_=k.treeContext,Fe&&(Oi=_t(Xe),ho=h,rr=!0,Ya=null,Zh=!1,_!==null&&(xn[Dn++]=vr,xn[Dn++]=ci,xn[Dn++]=zn,vr=_.id,ci=_.overflow,zn=h)),h=cw(h,h.pendingProps.children),h.flags|=4096);return h}return U?(T=QP(d,h,T.children,T.fallback,_),U=h.child,k=d.child.memoizedState,U.memoizedState=k===null?Vv(_):{baseLanes:k.baseLanes|_,cachePool:null},U.childLanes=d.childLanes&~_,h.memoizedState=Hv,T):(_=JP(d,h,T.children,_),h.memoizedState=null,_)}return U?(T=QP(d,h,T.children,T.fallback,_),U=h.child,k=d.child.memoizedState,U.memoizedState=k===null?Vv(_):{baseLanes:k.baseLanes|_,cachePool:null},U.childLanes=d.childLanes&~_,h.memoizedState=Hv,T):(_=JP(d,h,T.children,_),h.memoizedState=null,_)}function cw(d,h){return h=ly({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function JP(d,h,_,T){var k=d.child;return d=k.sibling,_=Wl(k,{mode:"visible",children:_}),!(h.mode&1)&&(_.lanes=T),_.return=h,_.sibling=null,d!==null&&(T=h.deletions,T===null?(h.deletions=[d],h.flags|=16):T.push(d)),h.child=_}function QP(d,h,_,T,k){var U=h.mode;d=d.child;var Se=d.sibling,Xe={mode:"hidden",children:_};return!(U&1)&&h.child!==d?(_=h.child,_.childLanes=0,_.pendingProps=Xe,h.deletions=null):(_=Wl(d,Xe),_.subtreeFlags=d.subtreeFlags&14680064),Se!==null?T=Wl(Se,T):(T=oc(T,U,k,null),T.flags|=2),T.return=h,_.return=h,_.sibling=T,h.child=_,T}function jv(d,h,_,T){return T!==null&&qb(T),zf(h,d.child,null,_),d=cw(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function eR(d,h,_){d.lanes|=h;var T=d.alternate;T!==null&&(T.lanes|=h),Lf(d.return,h,_)}function fw(d,h,_,T,k){var U=d.memoizedState;U===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:_,tailMode:k}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=T,U.tail=_,U.tailMode=k)}function tR(d,h,_){var T=h.pendingProps,k=T.revealOrder,U=T.tail;if(po(d,h,T.children,_),T=Ir.current,T&2)T=T&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&eR(d,_,h);else if(d.tag===19)eR(d,_,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}T&=1}if($e(Ir,T),!(h.mode&1))h.memoizedState=null;else switch(k){case"forwards":for(_=h.child,k=null;_!==null;)d=_.alternate,d!==null&&Iv(d)===null&&(k=_),_=_.sibling;_=k,_===null?(k=h.child,h.child=null):(k=_.sibling,_.sibling=null),fw(h,!1,k,_,U);break;case"backwards":for(_=null,k=h.child,h.child=null;k!==null;){if(d=k.alternate,d!==null&&Iv(d)===null){h.child=k;break}d=k.sibling,k.sibling=_,_=k,k=d}fw(h,!0,_,null,U);break;case"together":fw(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Qs(d,h,_){if(d!==null&&(h.dependencies=d.dependencies),Gf|=h.lanes,!(_&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(a(153));if(h.child!==null){for(d=h.child,_=Wl(d,d.pendingProps),h.child=_,_.return=h;d.sibling!==null;)d=d.sibling,_=_.sibling=Wl(d,d.pendingProps),_.return=h;_.sibling=null}return h.child}function qU(d,h,_){switch(h.tag){case 3:qP(h),Uf();break;case 5:vP(h);break;case 1:Kt(h.type)&&Qt(h);break;case 4:Yb(h,h.stateNode.containerInfo);break;case 10:Df(h,h.type._context,h.memoizedProps.value);break;case 13:var T=h.memoizedState;if(T!==null)return T.dehydrated!==null?($e(Ir,Ir.current&1),h.flags|=128,null):_&h.child.childLanes?ZP(d,h,_):($e(Ir,Ir.current&1),d=Qs(d,h,_),d!==null?d.sibling:null);$e(Ir,Ir.current&1);break;case 19:if(T=(_&h.childLanes)!==0,d.flags&128){if(T)return tR(d,h,_);h.flags|=128}var k=h.memoizedState;if(k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),$e(Ir,Ir.current),T)break;return null;case 22:case 23:return h.lanes=0,$P(d,h,_)}return Qs(d,h,_)}function YU(d,h){switch(Zs(h),h.tag){case 1:return Kt(h.type)&&Lt(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Hf(),Ge(Vt),Ge(Pt),Qb(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return Zb(h),null;case 13:if(Ge(Ir),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(a(340));Uf()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Ge(Ir),null;case 4:return Hf(),null;case 10:return kf(h.type._context),null;case 22:case 23:return Rw(),null;case 24:return null;default:return null}}var Gv=!1,ec=!1,ZU=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Wv(d,h){var _=d.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(T){No(d,h,T)}else _.current=null}function dw(d,h,_){try{_()}catch(T){No(d,h,T)}}var nR=!1;function JU(d,h){for(ne(d.containerInfo),Gt=h;Gt!==null;)if(d=Gt,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Gt=h;else for(;Gt!==null;){d=Gt;try{var _=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var T=_.memoizedProps,k=_.memoizedState,U=d.stateNode,Se=U.getSnapshotBeforeUpdate(d.elementType===d.type?T:Zo(d.type,T),k);U.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:je&&dt(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Xe){No(d,d.return,Xe)}if(h=d.sibling,h!==null){h.return=d.return,Gt=h;break}Gt=d.return}return _=nR,nR=!1,_}function tc(d,h,_){var T=h.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var k=T=T.next;do{if((k.tag&d)===d){var U=k.destroy;k.destroy=void 0,U!==void 0&&dw(h,_,U)}k=k.next}while(k!==T)}}function up(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var _=h=h.next;do{if((_.tag&d)===d){var T=_.create;_.destroy=T()}_=_.next}while(_!==h)}}function hw(d){var h=d.ref;if(h!==null){var _=d.stateNode;switch(d.tag){case 5:d=ye(_);break;default:d=_}typeof h=="function"?h(d):h.current=d}}function rR(d,h,_){if(Yo&&typeof Yo.onCommitFiberUnmount=="function")try{Yo.onCommitFiberUnmount(Af,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var T=d=d.next;do{var k=T,U=k.destroy;k=k.tag,U!==void 0&&(k&2||k&4)&&dw(h,_,U),T=T.next}while(T!==d)}break;case 1:if(Wv(h,_),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(Se){No(h,_,Se)}break;case 5:Wv(h,_);break;case 4:je?uR(d,h,_):Y&&Y&&(h=h.stateNode.containerInfo,_=ue(h),rt(h,_))}}function iR(d,h,_){for(var T=h;;)if(rR(d,T,_),T.child===null||je&&T.tag===4){if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function oR(d){var h=d.alternate;h!==null&&(d.alternate=null,oR(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&lt(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function aR(d){return d.tag===5||d.tag===3||d.tag===4}function sR(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||aR(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function lR(d){if(je){e:{for(var h=d.return;h!==null;){if(aR(h))break e;h=h.return}throw Error(a(160))}var _=h;switch(_.tag){case 5:h=_.stateNode,_.flags&32&&(me(h),_.flags&=-33),_=sR(d),mw(d,_,h);break;case 3:case 4:h=_.stateNode.containerInfo,_=sR(d),pw(d,_,h);break;default:throw Error(a(161))}}}function pw(d,h,_){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?De(_,d,h):be(_,d);else if(T!==4&&(d=d.child,d!==null))for(pw(d,h,_),d=d.sibling;d!==null;)pw(d,h,_),d=d.sibling}function mw(d,h,_){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?ft(_,d,h):Ke(_,d);else if(T!==4&&(d=d.child,d!==null))for(mw(d,h,_),d=d.sibling;d!==null;)mw(d,h,_),d=d.sibling}function uR(d,h,_){for(var T=h,k=!1,U,Se;;){if(!k){k=T.return;e:for(;;){if(k===null)throw Error(a(160));switch(U=k.stateNode,k.tag){case 5:Se=!1;break e;case 3:U=U.containerInfo,Se=!0;break e;case 4:U=U.containerInfo,Se=!0;break e}k=k.return}k=!0}if(T.tag===5||T.tag===6)iR(d,T,_),Se?H(U,T.stateNode):Le(U,T.stateNode);else if(T.tag===18)Se?oe(U,T.stateNode):re(U,T.stateNode);else if(T.tag===4){if(T.child!==null){U=T.stateNode.containerInfo,Se=!0,T.child.return=T,T=T.child;continue}}else if(rR(d,T,_),T.child!==null){T.child.return=T,T=T.child;continue}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return,T.tag===4&&(k=!1)}T.sibling.return=T.return,T=T.sibling}}function gw(d,h){if(je){switch(h.tag){case 0:case 11:case 14:case 15:tc(3,h,h.return),up(3,h),tc(5,h,h.return);return;case 1:return;case 5:var _=h.stateNode;if(_!=null){var T=h.memoizedProps;d=d!==null?d.memoizedProps:T;var k=h.type,U=h.updateQueue;h.updateQueue=null,U!==null&&tt(_,U,k,d,T,h)}return;case 6:if(h.stateNode===null)throw Error(a(162));_=h.memoizedProps,Ye(h.stateNode,d!==null?d.memoizedProps:_,_);return;case 3:Fe&&d!==null&&d.memoizedState.isDehydrated&&z(h.stateNode.containerInfo);return;case 12:return;case 13:$v(h);return;case 19:$v(h);return;case 17:return}throw Error(a(163))}switch(h.tag){case 0:case 11:case 14:case 15:tc(3,h,h.return),up(3,h),tc(5,h,h.return);return;case 12:return;case 13:$v(h);return;case 19:$v(h);return;case 3:Fe&&d!==null&&d.memoizedState.isDehydrated&&z(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(Y){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,rt(h.containerInfo,h.pendingChildren);break e}throw Error(a(163))}}function $v(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var _=d.stateNode;_===null&&(_=d.stateNode=new ZU),h.forEach(function(T){var k=lz.bind(null,d,T);_.has(T)||(_.add(T),T.then(k,k))})}}function QU(d,h){for(Gt=h;Gt!==null;){h=Gt;var _=h.deletions;if(_!==null)for(var T=0;T<_.length;T++){var k=_[T];try{var U=d;je?uR(U,k,h):iR(U,k,h);var Se=k.alternate;Se!==null&&(Se.return=null),k.return=null}catch(on){No(k,h,on)}}if(_=h.child,h.subtreeFlags&12854&&_!==null)_.return=h,Gt=_;else for(;Gt!==null;){h=Gt;try{var Xe=h.flags;if(Xe&32&&je&&me(h.stateNode),Xe&512){var mt=h.alternate;if(mt!==null){var Ft=mt.ref;Ft!==null&&(typeof Ft=="function"?Ft(null):Ft.current=null)}}if(Xe&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var Jt=h.alternate;(Jt===null||Jt.memoizedState===null)&&(_w=$r())}break;case 22:var Cn=h.memoizedState!==null,gn=h.alternate,lr=gn!==null&&gn.memoizedState!==null;if(_=h,je){e:if(T=_,k=Cn,U=null,je)for(var an=T;;){if(an.tag===5){if(U===null){U=an;var Wi=an.stateNode;k?He(Wi):nt(an.stateNode,an.memoizedProps)}}else if(an.tag===6){if(U===null){var Aa=an.stateNode;k?ct(Aa):Pe(Aa,an.memoizedProps)}}else if((an.tag!==22&&an.tag!==23||an.memoizedState===null||an===T)&&an.child!==null){an.child.return=an,an=an.child;continue}if(an===T)break;for(;an.sibling===null;){if(an.return===null||an.return===T)break e;U===an&&(U=null),an=an.return}U===an&&(U=null),an.sibling.return=an.return,an=an.sibling}}if(Cn&&!lr&&_.mode&1){Gt=_;for(var ot=_.child;ot!==null;){for(_=Gt=ot;Gt!==null;){T=Gt;var Qe=T.child;switch(T.tag){case 0:case 11:case 14:case 15:tc(4,T,T.return);break;case 1:Wv(T,T.return);var ut=T.stateNode;if(typeof ut.componentWillUnmount=="function"){var Wt=T.return;try{ut.props=T.memoizedProps,ut.state=T.memoizedState,ut.componentWillUnmount()}catch(on){No(T,Wt,on)}}break;case 5:Wv(T,T.return);break;case 22:if(T.memoizedState!==null){dR(_);continue}}Qe!==null?(Qe.return=T,Gt=Qe):dR(_)}ot=ot.sibling}}}switch(Xe&4102){case 2:lR(h),h.flags&=-3;break;case 6:lR(h),h.flags&=-3,gw(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,gw(h.alternate,h);break;case 4:gw(h.alternate,h)}}catch(on){No(h,h.return,on)}if(_=h.sibling,_!==null){_.return=h.return,Gt=_;break}Gt=h.return}}}function ez(d,h,_){Gt=d,cR(d)}function cR(d,h,_){for(var T=(d.mode&1)!==0;Gt!==null;){var k=Gt,U=k.child;if(k.tag===22&&T){var Se=k.memoizedState!==null||Gv;if(!Se){var Xe=k.alternate,mt=Xe!==null&&Xe.memoizedState!==null||ec;Xe=Gv;var Ft=ec;if(Gv=Se,(ec=mt)&&!Ft)for(Gt=k;Gt!==null;)Se=Gt,mt=Se.child,Se.tag===22&&Se.memoizedState!==null?hR(k):mt!==null?(mt.return=Se,Gt=mt):hR(k);for(;U!==null;)Gt=U,cR(U),U=U.sibling;Gt=k,Gv=Xe,ec=Ft}fR(d)}else k.subtreeFlags&8772&&U!==null?(U.return=k,Gt=U):fR(d)}}function fR(d){for(;Gt!==null;){var h=Gt;if(h.flags&8772){var _=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:ec||up(5,h);break;case 1:var T=h.stateNode;if(h.flags&4&&!ec)if(_===null)T.componentDidMount();else{var k=h.elementType===h.type?_.memoizedProps:Zo(h.type,_.memoizedProps);T.componentDidUpdate(k,_.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var U=h.updateQueue;U!==null&&Rv(h,U,T);break;case 3:var Se=h.updateQueue;if(Se!==null){if(_=null,h.child!==null)switch(h.child.tag){case 5:_=ye(h.child.stateNode);break;case 1:_=h.child.stateNode}Rv(h,Se,_)}break;case 5:var Xe=h.stateNode;_===null&&h.flags&4&&at(Xe,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Fe&&h.memoizedState===null){var mt=h.alternate;if(mt!==null){var Ft=mt.memoizedState;if(Ft!==null){var Jt=Ft.dehydrated;Jt!==null&&q(Jt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}ec||h.flags&512&&hw(h)}catch(Cn){No(h,h.return,Cn)}}if(h===d){Gt=null;break}if(_=h.sibling,_!==null){_.return=h.return,Gt=_;break}Gt=h.return}}function dR(d){for(;Gt!==null;){var h=Gt;if(h===d){Gt=null;break}var _=h.sibling;if(_!==null){_.return=h.return,Gt=_;break}Gt=h.return}}function hR(d){for(;Gt!==null;){var h=Gt;try{switch(h.tag){case 0:case 11:case 15:var _=h.return;try{up(4,h)}catch(mt){No(h,_,mt)}break;case 1:var T=h.stateNode;if(typeof T.componentDidMount=="function"){var k=h.return;try{T.componentDidMount()}catch(mt){No(h,k,mt)}}var U=h.return;try{hw(h)}catch(mt){No(h,U,mt)}break;case 5:var Se=h.return;try{hw(h)}catch(mt){No(h,Se,mt)}}}catch(mt){No(h,h.return,mt)}if(h===d){Gt=null;break}var Xe=h.sibling;if(Xe!==null){Xe.return=h.return,Gt=Xe;break}Gt=h.return}}var Kv=0,Xv=1,qv=2,Yv=3,Zv=4;if(typeof Symbol=="function"&&Symbol.for){var cp=Symbol.for;Kv=cp("selector.component"),Xv=cp("selector.has_pseudo_class"),qv=cp("selector.role"),Yv=cp("selector.test_id"),Zv=cp("selector.text")}function vw(d){var h=Me(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(a(364));return h}if(d=B(d),d===null)throw Error(a(362));return d.stateNode.current}function yw(d,h){switch(h.$$typeof){case Kv:if(d.type===h.value)return!0;break;case Xv:e:{h=h.value,d=[d,0];for(var _=0;_<d.length;){var T=d[_++],k=d[_++],U=h[k];if(T.tag!==5||!he(T)){for(;U!=null&&yw(T,U);)k++,U=h[k];if(k===h.length){h=!0;break e}else for(T=T.child;T!==null;)d.push(T,k),T=T.sibling}}h=!1}return h;case qv:if(d.tag===5&&le(d.stateNode,h.value))return!0;break;case Zv:if((d.tag===5||d.tag===6)&&(d=ee(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case Yv:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function xw(d){switch(d.$$typeof){case Kv:return"<"+(P(d.value)||"Unknown")+">";case Xv:return":has("+(xw(d)||"")+")";case qv:return'[role="'+d.value+'"]';case Zv:return'"'+d.value+'"';case Yv:return'[data-testname="'+d.value+'"]';default:throw Error(a(365))}}function pR(d,h){var _=[];d=[d,0];for(var T=0;T<d.length;){var k=d[T++],U=d[T++],Se=h[U];if(k.tag!==5||!he(k)){for(;Se!=null&&yw(k,Se);)U++,Se=h[U];if(U===h.length)_.push(k);else for(k=k.child;k!==null;)d.push(k,U),k=k.sibling}}return _}function bw(d,h){if(!xe)throw Error(a(363));d=vw(d),d=pR(d,h),h=[],d=Array.from(d);for(var _=0;_<d.length;){var T=d[_++];if(T.tag===5)he(T)||h.push(T.stateNode);else for(T=T.child;T!==null;)d.push(T),T=T.sibling}return h}var tz=Math.ceil,Jv=s.ReactCurrentDispatcher,ww=s.ReactCurrentOwner,Kr=s.ReactCurrentBatchConfig,Ln=0,Qr=null,ei=null,Di=0,Qo=0,jf=Ze(0),fi=0,fp=null,Gf=0,Qv=0,Sw=0,dp=null,ko=null,_w=0,Ew=1/0;function Wf(){Ew=$r()+500}var ey=!1,Cw=null,Hl=null,ty=!1,Vl=null,ny=0,hp=0,Mw=null,ry=-1,iy=0;function mo(){return Ln&6?$r():ry!==-1?ry:ry=$r()}function jl(d){return d.mode&1?Ln&2&&Di!==0?Di&-Di:Wb.transition!==null?(iy===0&&(d=Ka,Ka<<=1,!(Ka&4194240)&&(Ka=64),iy=d),iy):(d=jn,d!==0?d:Ve()):1}function Pa(d,h,_){if(50<hp)throw hp=0,Mw=null,Error(a(185));var T=oy(d,h);return T===null?null:(wa(T,h,_),(!(Ln&2)||T!==Qr)&&(T===Qr&&(!(Ln&2)&&(Qv|=h),fi===4&&Gl(T,Di)),Lo(T,_),h===1&&Ln===0&&!(d.mode&1)&&(Wf(),_a&&Ea())),T)}function oy(d,h){d.lanes|=h;var _=d.alternate;for(_!==null&&(_.lanes|=h),_=d,d=d.return;d!==null;)d.childLanes|=h,_=d.alternate,_!==null&&(_.childLanes|=h),_=d,d=d.return;return _.tag===3?_.stateNode:null}function Lo(d,h){var _=d.callbackNode;dn(d,h);var T=Ce(d,d===Qr?Di:0);if(T===0)_!==null&&$h(_),d.callbackNode=null,d.callbackPriority=0;else if(h=T&-T,d.callbackPriority!==h){if(_!=null&&$h(_),h===1)d.tag===0?Gb(gR.bind(null,d)):Mv(gR.bind(null,d)),J?Q(function(){Ln===0&&Ea()}):Wh(Xa,Ea),_=null;else{switch(Ev(T)){case 1:_=Xa;break;case 4:_=Cv;break;case 16:_=Kh;break;case 536870912:_=Hb;break;default:_=Kh}_=CR(_,mR.bind(null,d))}d.callbackPriority=h,d.callbackNode=_}}function mR(d,h){if(ry=-1,iy=0,Ln&6)throw Error(a(327));var _=d.callbackNode;if(ic()&&d.callbackNode!==_)return null;var T=Ce(d,d===Qr?Di:0);if(T===0)return null;if(T&30||T&d.expiredLanes||h)h=ay(d,T);else{h=T;var k=Ln;Ln|=2;var U=xR();(Qr!==d||Di!==h)&&(Wf(),nc(d,h));do try{iz();break}catch(Xe){yR(d,Xe)}while(!0);qh(),Jv.current=U,Ln=k,ei!==null?h=0:(Qr=null,Di=0,h=fi)}if(h!==0){if(h===2&&(k=er(d),k!==0&&(T=k,h=Tw(d,k))),h===1)throw _=fp,nc(d,0),Gl(d,T),Lo(d,$r()),_;if(h===6)Gl(d,T);else{if(k=d.current.alternate,!(T&30)&&!nz(k)&&(h=ay(d,T),h===2&&(U=er(d),U!==0&&(T=U,h=Tw(d,U))),h===1))throw _=fp,nc(d,0),Gl(d,T),Lo(d,$r()),_;switch(d.finishedWork=k,d.finishedLanes=T,h){case 0:case 1:throw Error(a(345));case 2:rc(d,ko);break;case 3:if(Gl(d,T),(T&130023424)===T&&(h=_w+500-$r(),10<h)){if(Ce(d,0)!==0)break;if(k=d.suspendedLanes,(k&T)!==T){mo(),d.pingedLanes|=d.suspendedLanes&k;break}d.timeoutHandle=st(rc.bind(null,d,ko),h);break}rc(d,ko);break;case 4:if(Gl(d,T),(T&4194240)===T)break;for(h=d.eventTimes,k=-1;0<T;){var Se=31-_n(T);U=1<<Se,Se=h[Se],Se>k&&(k=Se),T&=~U}if(T=k,T=$r()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*tz(T/1960))-T,10<T){d.timeoutHandle=st(rc.bind(null,d,ko),T);break}rc(d,ko);break;case 5:rc(d,ko);break;default:throw Error(a(329))}}}return Lo(d,$r()),d.callbackNode===_?mR.bind(null,d):null}function Tw(d,h){var _=dp;return d.current.memoizedState.isDehydrated&&(nc(d,h).flags|=256),d=ay(d,h),d!==2&&(h=ko,ko=_,h!==null&&Pw(h)),d}function Pw(d){ko===null?ko=d:ko.push.apply(ko,d)}function nz(d){for(var h=d;;){if(h.flags&16384){var _=h.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var T=0;T<_.length;T++){var k=_[T],U=k.getSnapshot;k=k.value;try{if(!Sa(U(),k))return!1}catch{return!1}}}if(_=h.child,h.subtreeFlags&16384&&_!==null)_.return=h,h=_;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Gl(d,h){for(h&=~Sw,h&=~Qv,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var _=31-_n(h),T=1<<_;d[_]=-1,h&=~T}}function gR(d){if(Ln&6)throw Error(a(327));ic();var h=Ce(d,0);if(!(h&1))return Lo(d,$r()),null;var _=ay(d,h);if(d.tag!==0&&_===2){var T=er(d);T!==0&&(h=T,_=Tw(d,T))}if(_===1)throw _=fp,nc(d,0),Gl(d,h),Lo(d,$r()),_;if(_===6)throw Error(a(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,rc(d,ko),Lo(d,$r()),null}function vR(d){Vl!==null&&Vl.tag===0&&!(Ln&6)&&ic();var h=Ln;Ln|=1;var _=Kr.transition,T=jn;try{if(Kr.transition=null,jn=1,d)return d()}finally{jn=T,Kr.transition=_,Ln=h,!(Ln&6)&&Ea()}}function Rw(){Qo=jf.current,Ge(jf)}function nc(d,h){d.finishedWork=null,d.finishedLanes=0;var _=d.timeoutHandle;if(_!==gt&&(d.timeoutHandle=gt,it(_)),ei!==null)for(_=ei.return;_!==null;){var T=_;switch(Zs(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Lt();break;case 3:Hf(),Ge(Vt),Ge(Pt),Qb();break;case 5:Zb(T);break;case 4:Hf();break;case 13:Ge(Ir);break;case 19:Ge(Ir);break;case 10:kf(T.type._context);break;case 22:case 23:Rw()}_=_.return}if(Qr=d,ei=d=Wl(d.current,null),Di=Qo=h,fi=0,fp=null,Sw=Qv=Gf=0,ko=dp=null,Ca!==null){for(h=0;h<Ca.length;h++)if(_=Ca[h],T=_.interleaved,T!==null){_.interleaved=null;var k=T.next,U=_.pending;if(U!==null){var Se=U.next;U.next=k,T.next=Se}_.pending=T}Ca=null}return d}function yR(d,h){do{var _=ei;try{if(qh(),Ov.current=Uv,Dv){for(var T=Nr.memoizedState;T!==null;){var k=T.queue;k!==null&&(k.pending=null),T=T.next}Dv=!1}if(Vf=0,xi=Vi=Nr=null,np=!1,rp=0,ww.current=null,_===null||_.return===null){fi=1,fp=h,ei=null;break}e:{var U=d,Se=_.return,Xe=_,mt=h;if(h=Di,Xe.flags|=32768,mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var Ft=mt,Jt=Xe,Cn=Jt.tag;if(!(Jt.mode&1)&&(Cn===0||Cn===11||Cn===15)){var gn=Jt.alternate;gn?(Jt.updateQueue=gn.updateQueue,Jt.memoizedState=gn.memoizedState,Jt.lanes=gn.lanes):(Jt.updateQueue=null,Jt.memoizedState=null)}var lr=zP(Se);if(lr!==null){lr.flags&=-257,BP(lr,Se,Xe,U,h),lr.mode&1&&UP(U,Ft,h),h=lr,mt=Ft;var an=h.updateQueue;if(an===null){var Wi=new Set;Wi.add(mt),h.updateQueue=Wi}else an.add(mt);break e}else{if(!(h&1)){UP(U,Ft,h),Aw();break e}mt=Error(a(426))}}else if(rr&&Xe.mode&1){var Aa=zP(Se);if(Aa!==null){!(Aa.flags&65536)&&(Aa.flags|=256),BP(Aa,Se,Xe,U,h),qb(mt);break e}}U=mt,fi!==4&&(fi=2),dp===null?dp=[U]:dp.push(U),mt=aw(mt,Xe),Xe=Se;do{switch(Xe.tag){case 3:Xe.flags|=65536,h&=-h,Xe.lanes|=h;var ot=NP(Xe,mt,h);Pv(Xe,ot);break e;case 1:U=mt;var Qe=Xe.type,ut=Xe.stateNode;if(!(Xe.flags&128)&&(typeof Qe.getDerivedStateFromError=="function"||ut!==null&&typeof ut.componentDidCatch=="function"&&(Hl===null||!Hl.has(ut)))){Xe.flags|=65536,h&=-h,Xe.lanes|=h;var Wt=FP(Xe,U,h);Pv(Xe,Wt);break e}}Xe=Xe.return}while(Xe!==null)}wR(_)}catch(on){h=on,ei===_&&_!==null&&(ei=_=_.return);continue}break}while(!0)}function xR(){var d=Jv.current;return Jv.current=Uv,d===null?Uv:d}function Aw(){(fi===0||fi===3||fi===2)&&(fi=4),Qr===null||!(Gf&268435455)&&!(Qv&268435455)||Gl(Qr,Di)}function ay(d,h){var _=Ln;Ln|=2;var T=xR();Qr===d&&Di===h||nc(d,h);do try{rz();break}catch(k){yR(d,k)}while(!0);if(qh(),Ln=_,Jv.current=T,ei!==null)throw Error(a(261));return Qr=null,Di=0,fi}function rz(){for(;ei!==null;)bR(ei)}function iz(){for(;ei!==null&&!zb();)bR(ei)}function bR(d){var h=ER(d.alternate,d,Qo);d.memoizedProps=d.pendingProps,h===null?wR(d):ei=h,ww.current=null}function wR(d){var h=d;do{var _=h.alternate;if(d=h.return,h.flags&32768){if(_=YU(_,h),_!==null){_.flags&=32767,ei=_;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{fi=6,ei=null;return}}else if(_=KU(_,h,Qo),_!==null){ei=_;return}if(h=h.sibling,h!==null){ei=h;return}ei=h=d}while(h!==null);fi===0&&(fi=5)}function rc(d,h){var _=jn,T=Kr.transition;try{Kr.transition=null,jn=1,oz(d,h,_)}finally{Kr.transition=T,jn=_}return null}function oz(d,h,_){do ic();while(Vl!==null);if(Ln&6)throw Error(a(327));var T=d.finishedWork,k=d.finishedLanes;if(T===null)return null;if(d.finishedWork=null,d.finishedLanes=0,T===d.current)throw Error(a(177));d.callbackNode=null,d.callbackPriority=0;var U=T.lanes|T.childLanes;if(qu(d,U),d===Qr&&(ei=Qr=null,Di=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||ty||(ty=!0,CR(Kh,function(){return ic(),null})),U=(T.flags&15990)!==0,T.subtreeFlags&15990||U){U=Kr.transition,Kr.transition=null;var Se=jn;jn=1;var Xe=Ln;Ln|=4,ww.current=null,JU(d,T),QU(d,T),F(d.containerInfo),d.current=T,ez(T),Bb(),Ln=Xe,jn=Se,Kr.transition=U}else d.current=T;if(ty&&(ty=!1,Vl=d,ny=k),U=d.pendingLanes,U===0&&(Hl=null),Vb(T.stateNode),Lo(d,$r()),h!==null)for(_=d.onRecoverableError,T=0;T<h.length;T++)_(h[T]);if(ey)throw ey=!1,d=Cw,Cw=null,d;return ny&1&&d.tag!==0&&ic(),U=d.pendingLanes,U&1?d===Mw?hp++:(hp=0,Mw=d):hp=0,Ea(),null}function ic(){if(Vl!==null){var d=Ev(ny),h=Kr.transition,_=jn;try{if(Kr.transition=null,jn=16>d?16:d,Vl===null)var T=!1;else{if(d=Vl,Vl=null,ny=0,Ln&6)throw Error(a(331));var k=Ln;for(Ln|=4,Gt=d.current;Gt!==null;){var U=Gt,Se=U.child;if(Gt.flags&16){var Xe=U.deletions;if(Xe!==null){for(var mt=0;mt<Xe.length;mt++){var Ft=Xe[mt];for(Gt=Ft;Gt!==null;){var Jt=Gt;switch(Jt.tag){case 0:case 11:case 15:tc(8,Jt,U)}var Cn=Jt.child;if(Cn!==null)Cn.return=Jt,Gt=Cn;else for(;Gt!==null;){Jt=Gt;var gn=Jt.sibling,lr=Jt.return;if(oR(Jt),Jt===Ft){Gt=null;break}if(gn!==null){gn.return=lr,Gt=gn;break}Gt=lr}}}var an=U.alternate;if(an!==null){var Wi=an.child;if(Wi!==null){an.child=null;do{var Aa=Wi.sibling;Wi.sibling=null,Wi=Aa}while(Wi!==null)}}Gt=U}}if(U.subtreeFlags&2064&&Se!==null)Se.return=U,Gt=Se;else e:for(;Gt!==null;){if(U=Gt,U.flags&2048)switch(U.tag){case 0:case 11:case 15:tc(9,U,U.return)}var ot=U.sibling;if(ot!==null){ot.return=U.return,Gt=ot;break e}Gt=U.return}}var Qe=d.current;for(Gt=Qe;Gt!==null;){Se=Gt;var ut=Se.child;if(Se.subtreeFlags&2064&&ut!==null)ut.return=Se,Gt=ut;else e:for(Se=Qe;Gt!==null;){if(Xe=Gt,Xe.flags&2048)try{switch(Xe.tag){case 0:case 11:case 15:up(9,Xe)}}catch(on){No(Xe,Xe.return,on)}if(Xe===Se){Gt=null;break e}var Wt=Xe.sibling;if(Wt!==null){Wt.return=Xe.return,Gt=Wt;break e}Gt=Xe.return}}if(Ln=k,Ea(),Yo&&typeof Yo.onPostCommitFiberRoot=="function")try{Yo.onPostCommitFiberRoot(Af,d)}catch{}T=!0}return T}finally{jn=_,Kr.transition=h}}return!1}function SR(d,h,_){h=aw(_,h),h=NP(d,h,1),_s(d,h),h=mo(),d=oy(d,1),d!==null&&(wa(d,1,h),Lo(d,h))}function No(d,h,_){if(d.tag===3)SR(d,d,_);else for(;h!==null;){if(h.tag===3){SR(h,d,_);break}else if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Hl===null||!Hl.has(T))){d=aw(_,d),d=FP(h,d,1),_s(h,d),d=mo(),h=oy(h,1),h!==null&&(wa(h,1,d),Lo(h,d));break}}h=h.return}}function az(d,h,_){var T=d.pingCache;T!==null&&T.delete(h),h=mo(),d.pingedLanes|=d.suspendedLanes&_,Qr===d&&(Di&_)===_&&(fi===4||fi===3&&(Di&130023424)===Di&&500>$r()-_w?nc(d,0):Sw|=_),Lo(d,h)}function _R(d,h){h===0&&(d.mode&1?(h=ba,ba<<=1,!(ba&130023424)&&(ba=4194304)):h=1);var _=mo();d=oy(d,h),d!==null&&(wa(d,h,_),Lo(d,_))}function sz(d){var h=d.memoizedState,_=0;h!==null&&(_=h.retryLane),_R(d,_)}function lz(d,h){var _=0;switch(d.tag){case 13:var T=d.stateNode,k=d.memoizedState;k!==null&&(_=k.retryLane);break;case 19:T=d.stateNode;break;default:throw Error(a(314))}T!==null&&T.delete(h),_R(d,_)}var ER;ER=function(d,h,_){if(d!==null)if(d.memoizedProps!==h.pendingProps||Vt.current)Jo=!0;else{if(!(d.lanes&_)&&!(h.flags&128))return Jo=!1,qU(d,h,_);Jo=!!(d.flags&131072)}else Jo=!1,rr&&h.flags&1048576&&yi(h,cn,h.index);switch(h.lanes=0,h.tag){case 2:var T=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var k=nn(h,Pt.current);Bl(h,_),k=tw(null,h,T,d,k,_);var U=nw();return h.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Kt(T)?(U=!0,Qt(h)):U=!1,h.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Yh(h),k.updater=Je,h.stateNode=k,k._reactInternals=h,Mt(h,T,d,_),h=uw(null,h,T,!0,U,_)):(h.tag=0,rr&&U&&Hi(h),po(null,h,k,_),h=h.child),h;case 16:T=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,k=T._init,T=k(T._payload),h.type=T,k=h.tag=cz(T),d=Zo(T,d),k){case 0:h=lw(null,h,T,d,_);break e;case 1:h=XP(null,h,T,d,_);break e;case 11:h=jP(null,h,T,d,_);break e;case 14:h=GP(null,h,T,Zo(T.type,d),_);break e}throw Error(a(306,T,""))}return h;case 0:return T=h.type,k=h.pendingProps,k=h.elementType===T?k:Zo(T,k),lw(d,h,T,k,_);case 1:return T=h.type,k=h.pendingProps,k=h.elementType===T?k:Zo(T,k),XP(d,h,T,k,_);case 3:e:{if(qP(h),d===null)throw Error(a(387));T=h.pendingProps,U=h.memoizedState,k=U.element,Tv(d,h),Ff(h,T,null,_);var Se=h.memoizedState;if(T=Se.element,Fe&&U.isDehydrated)if(U={element:T,isDehydrated:!1,cache:Se.cache,transitions:Se.transitions},h.updateQueue.baseState=U,h.memoizedState=U,h.flags&256){k=Error(a(423)),h=YP(d,h,T,_,k);break e}else if(T!==k){k=Error(a(424)),h=YP(d,h,T,_,k);break e}else for(Fe&&(Oi=ln(h.stateNode.containerInfo),ho=h,rr=!0,Ya=null,Zh=!1),_=gP(h,null,T,_),h.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Uf(),T===k){h=Qs(d,h,_);break e}po(d,h,T,_)}h=h.child}return h;case 5:return vP(h),d===null&&Xb(h),T=h.type,k=h.pendingProps,U=d!==null?d.memoizedProps:null,Se=k.children,ze(T,k)?Se=null:U!==null&&ze(T,U)&&(h.flags|=32),KP(d,h),po(d,h,Se,_),h.child;case 6:return d===null&&Xb(h),null;case 13:return ZP(d,h,_);case 4:return Yb(h,h.stateNode.containerInfo),T=h.pendingProps,d===null?h.child=zf(h,null,T,_):po(d,h,T,_),h.child;case 11:return T=h.type,k=h.pendingProps,k=h.elementType===T?k:Zo(T,k),jP(d,h,T,k,_);case 7:return po(d,h,h.pendingProps,_),h.child;case 8:return po(d,h,h.pendingProps.children,_),h.child;case 12:return po(d,h,h.pendingProps.children,_),h.child;case 10:e:{if(T=h.type._context,k=h.pendingProps,U=h.memoizedProps,Se=k.value,Df(h,T,Se),U!==null)if(Sa(U.value,Se)){if(U.children===k.children&&!Vt.current){h=Qs(d,h,_);break e}}else for(U=h.child,U!==null&&(U.return=h);U!==null;){var Xe=U.dependencies;if(Xe!==null){Se=U.child;for(var mt=Xe.firstContext;mt!==null;){if(mt.context===T){if(U.tag===1){mt=qa(-1,_&-_),mt.tag=2;var Ft=U.updateQueue;if(Ft!==null){Ft=Ft.shared;var Jt=Ft.pending;Jt===null?mt.next=mt:(mt.next=Jt.next,Jt.next=mt),Ft.pending=mt}}U.lanes|=_,mt=U.alternate,mt!==null&&(mt.lanes|=_),Lf(U.return,_,h),Xe.lanes|=_;break}mt=mt.next}}else if(U.tag===10)Se=U.type===h.type?null:U.child;else if(U.tag===18){if(Se=U.return,Se===null)throw Error(a(341));Se.lanes|=_,Xe=Se.alternate,Xe!==null&&(Xe.lanes|=_),Lf(Se,_,h),Se=U.sibling}else Se=U.child;if(Se!==null)Se.return=U;else for(Se=U;Se!==null;){if(Se===h){Se=null;break}if(U=Se.sibling,U!==null){U.return=Se.return,Se=U;break}Se=Se.return}U=Se}po(d,h,k.children,_),h=h.child}return h;case 9:return k=h.type,T=h.pendingProps.children,Bl(h,_),k=fo(k),T=T(k),h.flags|=1,po(d,h,T,_),h.child;case 14:return T=h.type,k=Zo(T,h.pendingProps),k=Zo(T.type,k),GP(d,h,T,k,_);case 15:return WP(d,h,h.type,h.pendingProps,_);case 17:return T=h.type,k=h.pendingProps,k=h.elementType===T?k:Zo(T,k),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,Kt(T)?(d=!0,Qt(h)):d=!1,Bl(h,_),St(h,T,k),Mt(h,T,k,_),uw(null,h,T,!0,d,_);case 19:return tR(d,h,_);case 22:return $P(d,h,_)}throw Error(a(156,h.tag))};function CR(d,h){return Wh(d,h)}function uz(d,h,_,T){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(d,h,_,T){return new uz(d,h,_,T)}function Iw(d){return d=d.prototype,!(!d||!d.isReactComponent)}function cz(d){if(typeof d=="function")return Iw(d)?1:0;if(d!=null){if(d=d.$$typeof,d===b)return 11;if(d===x)return 14}return 2}function Wl(d,h){var _=d.alternate;return _===null?(_=Ra(d.tag,h,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=h,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&14680064,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,h=d.dependencies,_.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_}function sy(d,h,_,T,k,U){var Se=2;if(T=d,typeof d=="function")Iw(d)&&(Se=1);else if(typeof d=="string")Se=5;else e:switch(d){case c:return oc(_.children,k,U,h);case f:Se=8,k|=8;break;case p:return d=Ra(12,_,h,k|2),d.elementType=p,d.lanes=U,d;case y:return d=Ra(13,_,h,k),d.elementType=y,d.lanes=U,d;case g:return d=Ra(19,_,h,k),d.elementType=g,d.lanes=U,d;case C:return ly(_,k,U,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:Se=10;break e;case v:Se=9;break e;case b:Se=11;break e;case x:Se=14;break e;case w:Se=16,T=null;break e}throw Error(a(130,d==null?d:typeof d,""))}return h=Ra(Se,_,h,k),h.elementType=d,h.type=T,h.lanes=U,h}function oc(d,h,_,T){return d=Ra(7,d,T,h),d.lanes=_,d}function ly(d,h,_,T){return d=Ra(22,d,T,h),d.elementType=C,d.lanes=_,d.stateNode={},d}function Ow(d,h,_){return d=Ra(6,d,null,h),d.lanes=_,d}function Dw(d,h,_){return h=Ra(4,d.children!==null?d.children:[],d.key,h),h.lanes=_,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function fz(d,h,_,T,k){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=gt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ar(0),this.expirationTimes=Ar(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.identifierPrefix=T,this.onRecoverableError=k,Fe&&(this.mutableSourceEagerHydrationData=null)}function MR(d,h,_,T,k,U,Se,Xe,mt){return d=new fz(d,h,_,Xe,mt),h===1?(h=1,U===!0&&(h|=8)):h=0,U=Ra(3,null,null,h),d.current=U,U.stateNode=d,U.memoizedState={element:T,isDehydrated:_,cache:null,transitions:null},Yh(U),d}function TR(d){if(!d)return At;d=d._reactInternals;e:{if(L(d)!==d||d.tag!==1)throw Error(a(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Kt(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(a(171))}if(d.tag===1){var _=d.type;if(Kt(_))return Rn(d,_,h)}return h}function PR(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(a(188)):(d=Object.keys(d).join(","),Error(a(268,d)));return d=V(h),d===null?null:d.stateNode}function RR(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<h?_:h}}function kw(d,h){RR(d,h),(d=d.alternate)&&RR(d,h)}function dz(d){return d=V(d),d===null?null:d.stateNode}function hz(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var h=mo();Pa(d,134217728,h),kw(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=mo(),_=jl(d);Pa(d,_,h),kw(d,_)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var _=It(h.pendingLanes);_!==0&&(Yu(h,_|1),Lo(h,$r()),!(Ln&6)&&(Wf(),Ea()))}break;case 13:var T=mo();vR(function(){return Pa(d,1,T)}),kw(d,1)}},n.batchedUpdates=function(d,h){var _=Ln;Ln|=1;try{return d(h)}finally{Ln=_,Ln===0&&(Wf(),_a&&Ea())}},n.createComponentSelector=function(d){return{$$typeof:Kv,value:d}},n.createContainer=function(d,h,_,T,k,U,Se){return MR(d,h,!1,null,_,T,k,U,Se)},n.createHasPseudoClassSelector=function(d){return{$$typeof:Xv,value:d}},n.createHydrationContainer=function(d,h,_,T,k,U,Se,Xe,mt){return d=MR(_,T,!0,d,k,U,Se,Xe,mt),d.context=TR(null),_=d.current,T=mo(),k=jl(_),U=qa(T,k),U.callback=h??null,_s(_,U),d.current.lanes=k,wa(d,k,T),Lo(d,T),d},n.createPortal=function(d,h,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:d,containerInfo:h,implementation:_}},n.createRoleSelector=function(d){return{$$typeof:qv,value:d}},n.createTestNameSelector=function(d){return{$$typeof:Yv,value:d}},n.createTextSelector=function(d){return{$$typeof:Zv,value:d}},n.deferredUpdates=function(d){var h=jn,_=Kr.transition;try{return Kr.transition=null,jn=16,d()}finally{jn=h,Kr.transition=_}},n.discreteUpdates=function(d,h,_,T,k){var U=jn,Se=Kr.transition;try{return Kr.transition=null,jn=1,d(h,_,T,k)}finally{jn=U,Kr.transition=Se,Ln===0&&Wf()}},n.findAllNodes=bw,n.findBoundingRects=function(d,h){if(!xe)throw Error(a(363));h=bw(d,h),d=[];for(var _=0;_<h.length;_++)d.push(O(h[_]));for(h=d.length-1;0<h;h--){_=d[h];for(var T=_.x,k=T+_.width,U=_.y,Se=U+_.height,Xe=h-1;0<=Xe;Xe--)if(h!==Xe){var mt=d[Xe],Ft=mt.x,Jt=Ft+mt.width,Cn=mt.y,gn=Cn+mt.height;if(T>=Ft&&U>=Cn&&k<=Jt&&Se<=gn){d.splice(h,1);break}else if(T!==Ft||_.width!==mt.width||gn<U||Cn>Se){if(!(U!==Cn||_.height!==mt.height||Jt<T||Ft>k)){Ft>T&&(mt.width+=Ft-T,mt.x=T),Jt<k&&(mt.width=k-Ft),d.splice(h,1);break}}else{Cn>U&&(mt.height+=Cn-U,mt.y=U),gn<Se&&(mt.height=Se-Cn),d.splice(h,1);break}}}return d},n.findHostInstance=PR,n.findHostInstanceWithNoPortals=function(d){return d=I(d),d=d!==null?j(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return PR(d)},n.flushControlled=function(d){var h=Ln;Ln|=1;var _=Kr.transition,T=jn;try{Kr.transition=null,jn=1,d()}finally{jn=T,Kr.transition=_,Ln=h,Ln===0&&(Wf(),Ea())}},n.flushPassiveEffects=ic,n.flushSync=vR,n.focusWithin=function(d,h){if(!xe)throw Error(a(363));for(d=vw(d),h=pR(d,h),h=Array.from(h),d=0;d<h.length;){var _=h[d++];if(!he(_)){if(_.tag===5&&Ee(_.stateNode))return!0;for(_=_.child;_!==null;)h.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return jn},n.getFindAllNodesFailureDescription=function(d,h){if(!xe)throw Error(a(363));var _=0,T=[];d=[vw(d),0];for(var k=0;k<d.length;){var U=d[k++],Se=d[k++],Xe=h[Se];if((U.tag!==5||!he(U))&&(yw(U,Xe)&&(T.push(xw(Xe)),Se++,Se>_&&(_=Se)),Se<h.length))for(U=U.child;U!==null;)d.push(U,Se),U=U.sibling}if(_<h.length){for(d=[];_<h.length;_++)d.push(xw(h[_]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return ye(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:dz,findFiberByHostInstance:d.findFiberByHostInstance||hz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{Af=h.inject(d),Yo=h}catch{}d=!!h.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,h,_,T){if(!xe)throw Error(a(363));d=bw(d,h);var k=qe(d,_,T).disconnect;return{disconnect:function(){k()}}},n.registerMutableSourceForHydration=function(d,h){var _=h._getVersion;_=_(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,_]:d.mutableSourceEagerHydrationData.push(h,_)},n.runWithPriority=function(d,h){var _=jn;try{return jn=d,h()}finally{jn=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,h,_,T){var k=h.current,U=mo(),Se=jl(k);return _=TR(_),h.context===null?h.context=_:h.pendingContext=_,h=qa(U,Se),h.payload={element:d},T=T===void 0?null:T,T!==null&&(h.callback=T),_s(k,h),d=Pa(k,Se,U),d!==null&&Nf(d,k,Se),Se},n};N7.exports=yse;var xse=N7.exports;const bse=Gg(xse),wse=t=>typeof t=="object"&&typeof t.then=="function",$c=[];function z7(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function B7(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of $c)if(z7(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=$c.indexOf(i);o!==-1&&$c.splice(o,1)},promise:(wse(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if($c.push(i),!n)throw i.promise}const Sse=(t,e,n)=>B7(t,e,!1,n),_se=(t,e,n)=>void B7(t,e,!0,n),Ese=t=>{if(t===void 0||t.length===0)$c.splice(0,$c.length);else{const e=$c.find(n=>z7(t,n.keys,n.equal));e&&e.remove()}},ZT={},JT=t=>void Object.assign(ZT,t);function Cse(t,e){function n(c,{args:f=[],attach:p,...m},v){let b=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=Rd(g,{type:c,root:v,attach:p,primitive:!0})}else{const g=ZT[b];if(!g)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Rd(new g(...f),{type:c,root:v,attach:p,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof On?y.__r3f.attach="geometry":y instanceof Bi&&(y.__r3f.attach="material")),b!=="inject"&&__(y,m),y}function r(c,f){let p=!1;if(f){var m,v;(m=f.__r3f)!=null&&m.attach?S_(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),p=!0),p||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||Rd(f,{}),f.__r3f.parent=c,oM(f),Ad(f)}}function i(c,f,p){let m=!1;if(f){var v,b;if((v=f.__r3f)!=null&&v.attach)S_(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const y=c.children.filter(x=>x!==f),g=y.indexOf(p);c.children=[...y.slice(0,g),f,...y.slice(g)],m=!0}m||(b=c.__r3f)==null||b.objects.push(f),f.__r3f||Rd(f,{}),f.__r3f.parent=c,oM(f),Ad(f)}}function o(c,f,p=!1){c&&[...c].forEach(m=>a(f,m,p))}function a(c,f,p){if(f){var m,v,b;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(C=>C!==f)),(v=f.__r3f)!=null&&v.attach)gk(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&Dse(I1(f),f)}const x=(b=f.__r3f)==null?void 0:b.primitive,w=!x&&(p===void 0?f.dispose!==null:p);if(!x){var g;o((g=f.__r3f)==null?void 0:g.objects,f,w),o(f.children,f,w)}if(delete f.__r3f,w&&f.dispose&&f.type!=="Scene"){const C=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?rM.unstable_scheduleCallback(rM.unstable_IdlePriority,C):C()}Ad(c)}}function s(c,f,p,m){var v;const b=(v=c.__r3f)==null?void 0:v.parent;if(!b)return;const y=n(f,p,c.__r3f.root);if(c.children){for(const g of c.children)g.__r3f&&r(y,g);c.children=c.children.filter(g=>!g.__r3f)}c.__r3f.objects.forEach(g=>r(y,g)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||a(b,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(b,y),y.raycast&&y.__r3f.eventCount&&I1(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:bse({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,r(p,f))},removeChildFromContainer:(c,f)=>{f&&a(c.getState().scene,f)},insertInContainerBefore:(c,f,p)=>{if(!f||!p)return;const m=c.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,p,m){var v;if(((v=c==null?void 0:c.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:g,...x}=m,{args:w=[],children:C,...R}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,D)=>P!==w[D]))return[!0];const E=K7(c,x,R,!0);return E.changes.length?[!1,E]:null}},commitUpdate(c,[f,p],m,v,b,y){f?s(c,m,b,y):__(c,p)},commitMount(c,f,p,m){var v;const b=(v=c.__r3f)!=null?v:{};c.raycast&&b.handlers&&b.eventCount&&I1(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Rd(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:p,parent:m}=(f=c.__r3f)!=null?f:{};p&&m&&gk(m,c,p),c.isObject3D&&(c.visible=!1),Ad(c)},unhideInstance(c,f){var p;const{attach:m,parent:v}=(p=c.__r3f)!=null?p:{};m&&v&&S_(v,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Ad(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():nh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&xr.fun(performance.now)?performance.now:xr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:xr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:xr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:__}}var dk,hk;const w_=t=>"colorSpace"in t||"outputColorSpace"in t,H7=()=>{var t;return(t=ZT.ColorManagement)!=null?t:null},V7=t=>t&&t.isOrthographicCamera,Mse=t=>t&&t.hasOwnProperty("current"),wv=typeof window<"u"&&((dk=window.document)!=null&&dk.createElement||((hk=window.navigator)==null?void 0:hk.product)==="ReactNative")?S.useLayoutEffect:S.useEffect;function j7(t){const e=S.useRef(t);return wv(()=>void(e.current=t),[t]),e}function Tse({set:t}){return wv(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class G7 extends S.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}G7.getDerivedStateFromError=()=>({error:!0});const W7="__default",pk=new Map,Pse=t=>t&&!!t.memoized&&!!t.changes;function $7(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Gp=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function I1(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const xr={obj:t=>t===Object(t)&&!xr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(xr.str(t)||xr.num(t))return t===e;const o=xr.obj(t);if(o&&r==="reference")return t===e;const a=xr.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!xr.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(xr.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Rse(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Ase(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Rd(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function iM(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const mk=/-\d+$/;function S_(t,e,n){if(xr.str(n)){if(mk.test(n)){const o=n.replace(mk,""),{target:a,key:s}=iM(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=iM(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function gk(t,e,n){var r,i;if(xr.str(n)){const{target:o,key:a}=iM(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function K7(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},u=!1){var c;const f=(c=t==null?void 0:t.__r3f)!=null?c:{},p=Object.entries(i),m=[];if(u){const b=Object.keys(l);for(let y=0;y<b.length;y++)i.hasOwnProperty(b[y])||p.unshift([b[y],W7+"remove"])}p.forEach(([b,y])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&b==="object"||xr.equ(y,l[b]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(b))return m.push([b,y,!0,[]]);let x=[];b.includes("-")&&(x=b.split("-")),m.push([b,y,!1,x]);for(const w in i){const C=i[w];w.startsWith(`${b}-`)&&m.push([w,C,!1,w.split("-")])}});const v={...i};return f.memoizedProps&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:m}}const Ise=typeof process<"u"&&!1;function __(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},a=o.root,s=(r=a==null||a.getState==null?void 0:a.getState())!=null?r:{},{memoized:l,changes:u}=Pse(e)?e:K7(t,e),c=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,v,b,y]=u[p];if(w_(t)){const C="srgb",R="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?C:R):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?C:R)}let g=t,x=g[m];if(y.length&&(x=y.reduce((w,C)=>w[C],t),!(x&&x.set))){const[w,...C]=y.reverse();g=C.reverse().reduce((R,E)=>R[E],t),m=w}if(v===W7+"remove")if(g.constructor){let w=pk.get(g.constructor);w||(w=new g.constructor,pk.set(g.constructor,w)),v=w[m]}else v=0;if(b)v?o.handlers[m]=v:delete o.handlers[m],o.eventCount=Object.keys(o.handlers).length;else if(x&&x.set&&(x.copy||x instanceof nf)){if(Array.isArray(v))x.fromArray?x.fromArray(v):x.set(...v);else if(x.copy&&v&&v.constructor&&(Ise?x.constructor.name===v.constructor.name:x.constructor===v.constructor))x.copy(v);else if(v!==void 0){const w=x instanceof $t;!w&&x.setScalar?x.setScalar(v):x instanceof nf&&v instanceof nf?x.mask=v.mask:x.set(v),!H7()&&!s.linear&&w&&x.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof Pr&&g[m].format===io&&g[m].type===Gs){const w=g[m];w_(w)&&w_(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}Ad(t)}if(o.parent&&t.raycast&&c!==o.eventCount){const p=I1(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),o.eventCount&&p.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&oM(t),t}function Ad(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function oM(t){t.onUpdate==null||t.onUpdate(t)}function X7(t,e){t.manual||(V7(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function W0(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Ose(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return nh.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return nh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return nh.ContinuousEventPriority;default:return nh.DefaultEventPriority}}function q7(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Dse(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{q7(n.capturedMap,e,r,i)})}function kse(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,p=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let g=0;g<m.length;g++){const x=Gp(m[g]);x&&(x.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function v(g){const x=Gp(g);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var w;x.events.compute==null||x.events.compute(l,x,(w=x.previousRoot)==null?void 0:w.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(g,!0):[]}let b=m.flatMap(v).sort((g,x)=>{const w=Gp(g.object),C=Gp(x.object);return!w||!C?g.distance-x.distance:C.events.priority-w.events.priority||g.distance-x.distance}).filter(g=>{const x=W0(g);return f.has(x)?!1:(f.add(x),!0)});c.events.filter&&(b=c.events.filter(b,c));for(const g of b){let x=g.object;for(;x;){var y;(y=x.__r3f)!=null&&y.eventCount&&p.push({...g,eventObject:x}),x=x.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let g of c.internal.capturedMap.get(l.pointerId).values())f.has(W0(g.intersection))||p.push(g.intersection);return p}function i(l,u,c,f){const p=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const b=Gp(v.object)||p,{raycaster:y,pointer:g,camera:x,internal:w}=b,C=new de(g.x,g.y,0).unproject(x),R=M=>{var I,V;return(I=(V=w.capturedMap.get(M))==null?void 0:V.has(v.eventObject))!=null?I:!1},E=M=>{const I={intersection:v,target:u.target};w.capturedMap.has(M)?w.capturedMap.get(M).set(v.eventObject,I):w.capturedMap.set(M,new Map([[v.eventObject,I]])),u.target.setPointerCapture(M)},P=M=>{const I=w.capturedMap.get(M);I&&q7(w.capturedMap,v.eventObject,I,M)};let D={};for(let M in u){let I=u[M];typeof I!="function"&&(D[M]=I)}let L={...v,...D,pointer:g,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:C,ray:y.ray,camera:x,stopPropagation(){const M="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!M||M.has(v.eventObject))&&(L.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(I=>I.eventObject===v.eventObject))){const I=l.slice(0,l.indexOf(v));o([...I,v])}},target:{hasPointerCapture:R,setPointerCapture:E,releasePointerCapture:P},currentTarget:{hasPointerCapture:R,setPointerCapture:E,releasePointerCapture:P},nativeEvent:u};if(f(L),m.stopped===!0)break}}return l}function o(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const p=c.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(W0(c)),p!=null&&p.eventCount){const v={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function a(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),o([]))})}}return function(c){const{onPointerMissed:f,internal:p}=t.getState();p.lastEvent.current=c;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,m?n:void 0),g=v?e(c):0;l==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=y.map(w=>w.eventObject)),v&&!y.length&&g<=2&&(a(c,p.interaction),f&&f(c)),m&&o(y);function x(w){const C=w.eventObject,R=C.__r3f,E=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const P=W0(w),D=p.hovered.get(P);D?D.stopped&&w.stopPropagation():(p.hovered.set(P,w),E.onPointerOver==null||E.onPointerOver(w),E.onPointerEnter==null||E.onPointerEnter(w))}E.onPointerMove==null||E.onPointerMove(w)}else{const P=E[l];P?(!v||p.initialHits.includes(C))&&(a(c,p.interaction.filter(D=>!p.initialHits.includes(D))),P(w)):v&&p.initialHits.includes(C)&&a(c,p.interaction.filter(D=>!p.initialHits.includes(D)))}}i(y,c,g,x)}}return{handlePointer:s}}const Lse=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Y7=t=>!!(t!=null&&t.render),QT=S.createContext(null),Nse=(t,e)=>{const n=L7((s,l)=>{const u=new de,c=new de,f=new de;function p(g=l().camera,x=c,w=l().size){const{width:C,height:R,top:E,left:P}=w,D=C/R;x instanceof de?f.copy(x):f.set(...x);const L=g.getWorldPosition(u).distanceTo(f);if(V7(g))return{width:C/g.zoom,height:R/g.zoom,top:E,left:P,factor:1,distance:L,aspect:D};{const M=g.fov*Math.PI/180,I=2*Math.tan(M/2)*L,V=I*(C/R);return{width:V,height:I,top:E,left:P,factor:C/V,distance:L,aspect:D}}}let m;const v=g=>s(x=>({performance:{...x.performance,current:g}})),b=new vt;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,x)=>e(g,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new $T,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>s(x=>({...x,events:{...x.events,...g}})),setSize:(g,x,w,C,R)=>{const E=l().camera,P={width:g,height:x,top:C||0,left:R||0,updateStyle:w};s(D=>({size:P,viewport:{...D.viewport,...p(E,c,P)}}))},setDpr:g=>s(x=>{const w=$7(g);return{viewport:{...x.viewport,dpr:w,initialDpr:x.viewport.initialDpr||w}}}),setFrameloop:(g="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,g!=="never"&&(x.start(),x.elapsedTime=0),s(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:S.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,x,w)=>{const C=l().internal;return C.priority=C.priority+(x>0?1:0),C.subscribers.push({ref:g,priority:x,store:w}),C.subscribers=C.subscribers.sort((R,E)=>R.priority-E.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(x>0?1:0),R.subscribers=R.subscribers.filter(E=>E.ref!==g))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==o){var p;i=l,o=u.dpr,X7(s,l),c.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}s!==a&&(a=s,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let $0,Fse=new Set,Use=new Set,zse=new Set;function E_(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Wp(t,e){switch(t){case"before":return E_(Fse,e);case"after":return E_(Use,e);case"tail":return E_(zse,e)}}let C_,M_;function T_(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),C_=e.internal.subscribers,$0=0;$0<C_.length;$0++)M_=C_[$0],M_.ref.current(M_.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Bse(t){let e=!1,n,r,i;function o(l){r=requestAnimationFrame(o),e=!0,n=0,Wp("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=T_(l,i))}if(Wp("after",l),n===0)return Wp("tail",l),e=!1,cancelAnimationFrame(r)}function a(l,u=1){var c;if(!l)return t.forEach(f=>a(f.store.getState(),u));(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(o)))}function s(l,u=!0,c,f){if(u&&Wp("before",l),c)T_(l,c,f);else for(const p of t.values())T_(l,p.store.getState());u&&Wp("after",l)}return{loop:o,invalidate:a,advance:s}}function eP(){const t=S.useContext(QT);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function pr(t=n=>n,e){return eP()(t,e)}function Rf(t,e=0){const n=eP(),r=n.getState().internal.subscribe,i=j7(t);return wv(()=>r(i,e,n),[e,r,n]),null}const vk=new WeakMap;function Z7(t,e){return function(n,...r){let i=vk.get(n);return i||(i=new n,vk.set(n,i)),t&&t(i),Promise.all(r.map(o=>new Promise((a,s)=>i.load(o,l=>{l.scene&&Object.assign(l,Rse(l.scene)),a(l)},e,l=>s(new Error(`Could not load ${o}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function tP(t,e,n,r){const i=Array.isArray(e)?e:[e],o=Sse(Z7(n,r),[t,...i],{equal:xr.equ});return Array.isArray(e)?o:o[0]}tP.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return _se(Z7(n),[t,...r])};tP.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Ese([t,...n])};const Ih=new Map,{invalidate:yk,advance:xk}=Bse(Ih),{reconciler:jg,applyProps:Sd}=Cse(Ih,Ose),_d={objects:"shallow",strict:!1},Hse=(t,e)=>{const n=typeof t=="function"?t(e):t;return Y7(n)?n:new CT({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Vse(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function jse(t){const e=Ih.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||Nse(yk,xk),a=n||jg.createContainer(o,nh.ConcurrentRoot,null,!1,null,"",i,null);e||Ih.set(t,{fiber:a,store:o});let s,l=!1,u;return{configure(c={}){let{gl:f,size:p,scene:m,events:v,onCreated:b,shadows:y=!1,linear:g=!1,flat:x=!1,legacy:w=!1,orthographic:C=!1,frameloop:R="always",dpr:E=[1,2],performance:P,raycaster:D,camera:L,onPointerMissed:M}=c,I=o.getState(),V=I.gl;I.gl||I.set({gl:V=Hse(f,t)});let Z=I.raycaster;Z||I.set({raycaster:Z=new YT});const{params:j,...fe}=D||{};if(xr.equ(fe,Z,_d)||Sd(Z,{...fe}),xr.equ(j,Z.params,_d)||Sd(Z,{params:{...Z.params,...j}}),!I.camera||I.camera===u&&!xr.equ(u,L,_d)){u=L;const F=L instanceof hv,ce=F?L:C?new ps(0,0,0,0,.1,1e3):new Mr(75,0,.1,1e3);F||(ce.position.z=5,L&&Sd(ce,L),!I.camera&&!(L!=null&&L.rotation)&&ce.lookAt(0,0,0)),I.set({camera:ce}),Z.camera=ce}if(!I.scene){let F;m instanceof Rh?F=m:(F=new Rh,m&&Sd(F,m)),I.set({scene:Rd(F)})}if(!I.xr){var ye;const F=(K,ge)=>{const ze=o.getState();ze.frameloop!=="never"&&xk(K,!0,ze,ge)},ce=()=>{const K=o.getState();K.gl.xr.enabled=K.gl.xr.isPresenting,K.gl.xr.setAnimationLoop(K.gl.xr.isPresenting?F:null),K.gl.xr.isPresenting||yk(K)},se={connect(){const K=o.getState().gl;K.xr.addEventListener("sessionstart",ce),K.xr.addEventListener("sessionend",ce)},disconnect(){const K=o.getState().gl;K.xr.removeEventListener("sessionstart",ce),K.xr.removeEventListener("sessionend",ce)}};typeof((ye=V.xr)==null?void 0:ye.addEventListener)=="function"&&se.connect(),I.set({xr:se})}if(V.shadowMap){const F=V.shadowMap.enabled,ce=V.shadowMap.type;if(V.shadowMap.enabled=!!y,xr.boo(y))V.shadowMap.type=Em;else if(xr.str(y)){var ve;const se={basic:MF,percentage:fb,soft:Em,variance:os};V.shadowMap.type=(ve=se[y])!=null?ve:Em}else xr.obj(y)&&Object.assign(V.shadowMap,y);(F!==V.shadowMap.enabled||ce!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const X=H7();X&&("enabled"in X?X.enabled=!w:"legacyMode"in X&&(X.legacyMode=w)),l||Sd(V,{outputEncoding:g?3e3:3001,toneMapping:x?js:oT}),I.legacy!==w&&I.set(()=>({legacy:w})),I.linear!==g&&I.set(()=>({linear:g})),I.flat!==x&&I.set(()=>({flat:x})),f&&!xr.fun(f)&&!Y7(f)&&!xr.equ(f,V,_d)&&Sd(V,f),v&&!I.events.handlers&&I.set({events:v(o)});const ne=Vse(t,p);return xr.equ(ne,I.size,_d)||I.setSize(ne.width,ne.height,ne.updateStyle,ne.top,ne.left),E&&I.viewport.dpr!==$7(E)&&I.setDpr(E),I.frameloop!==R&&I.setFrameloop(R),I.onPointerMissed||I.set({onPointerMissed:M}),P&&!xr.equ(P,I.performance,_d)&&I.set(F=>({performance:{...F.performance,...P}})),s=b,l=!0,this},render(c){return l||this.configure(),jg.updateContainer(S.createElement(Gse,{store:o,children:c,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){J7(t)}}}function Gse({store:t,children:e,onCreated:n,rootElement:r}){return wv(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),S.createElement(QT.Provider,{value:t},e)}function J7(t,e){const n=Ih.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),jg.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Ase(i),Ih.delete(t),e&&e(t)}catch{}},500)})}}function Q7(t,e,n){return S.createElement(Wse,{key:e.uuid,children:t,container:e,state:n})}function Wse({state:t={},children:e,container:n}){const{events:r,size:i,...o}=t,a=eP(),[s]=S.useState(()=>new YT),[l]=S.useState(()=>new vt),u=S.useCallback((f,p)=>{const m={...f};Object.keys(f).forEach(b=>{(Lse.includes(b)||f[b]!==p[b]&&p[b])&&delete m[b]});let v;if(p&&i){const b=p.camera;v=f.viewport.getCurrentViewport(b,new de,i),b!==f.camera&&X7(b,i)}return{...m,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:a,events:{...f.events,...p==null?void 0:p.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...v},...o}},[t]),[c]=S.useState(()=>{const f=a.getState();return L7((m,v)=>({...f,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:a,events:{...f.events,...r},size:{...f.size,...i},...o,set:m,get:v,setEvents:b=>m(y=>({...y,events:{...y.events,...b}}))}))});return S.useEffect(()=>{const f=a.subscribe(p=>c.setState(m=>u(p,m)));return()=>{f(),c.destroy()}},[]),S.useEffect(()=>{c.setState(f=>u(a.getState(),f))},[u]),S.createElement(S.Fragment,null,jg.createPortal(S.createElement(QT.Provider,{value:c},e),c,null))}jg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:S.version});function aM(t,e,n){var r,i,o,a,s;e==null&&(e=100);function l(){var c=Date.now()-a;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(s=t.apply(o,i),o=i=null))}var u=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(s=t.apply(o,i),o=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}aM.debounce=aM;var $se=aM;const bk=Gg($se);function Kse(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=S.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=S.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=S.useRef(!1);S.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,v]=S.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:w,top:C,width:R,height:E,bottom:P,right:D,x:L,y:M}=l.current.element.getBoundingClientRect(),I={left:w,top:C,width:R,height:E,bottom:P,right:D,x:L,y:M};l.current.element instanceof HTMLElement&&i&&(I.height=l.current.element.offsetHeight,I.width=l.current.element.offsetWidth),Object.freeze(I),f.current&&!Zse(l.current.lastBounds,I)&&s(l.current.lastBounds=I)};return[x,c?bk(x,c):x,u?bk(x,u):x]},[s,i,u,c]);function b(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new o(v),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=x=>{!x||x===l.current.element||(b(),l.current.element=x,l.current.scrollContainers=eU(x),y())};return qse(v,!!n),Xse(m),S.useEffect(()=>{b(),y()},[n,v,m]),S.useEffect(()=>b,[]),[g,a,p]}function Xse(t){S.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function qse(t,e){S.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function eU(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...eU(t.parentElement)]}const Yse=["x","y","top","bottom","left","right","width","height"],Zse=(t,e)=>Yse.every(n=>t[n]===e[n]);var Jse=Object.defineProperty,Qse=Object.defineProperties,ele=Object.getOwnPropertyDescriptors,wk=Object.getOwnPropertySymbols,tle=Object.prototype.hasOwnProperty,nle=Object.prototype.propertyIsEnumerable,Sk=(t,e,n)=>e in t?Jse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_k=(t,e)=>{for(var n in e||(e={}))tle.call(e,n)&&Sk(t,n,e[n]);if(wk)for(var n of wk(e))nle.call(e,n)&&Sk(t,n,e[n]);return t},rle=(t,e)=>Qse(t,ele(e));function tU(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=tU(r,e,n);if(i)return i;r=e?null:r.sibling}}function nU(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const nP=nU(S.createContext(null));class rU extends S.Component{render(){return S.createElement(nP.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Ek,ReactCurrentDispatcher:Ck}=S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function ile(){const t=S.useContext(nP);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=S.useId();return S.useMemo(()=>{for(const r of[Ek==null?void 0:Ek.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=tU(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function ole(){var t;const e=ile(),[n]=S.useState(()=>new Map);n.clear();let r=e;for(;r;){if(r.type&&typeof r.type=="object"){const i="Provider"in r.type?r.type:r.type._context;i&&i!==nP&&!n.has(i)&&n.set(i,(t=Ck==null?void 0:Ck.current)==null?void 0:t.readContext(nU(i)))}r=r.return}return n}function ale(){const t=ole();return S.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>S.createElement(e,null,S.createElement(n.Provider,rle(_k({},r),{value:t.get(n)}))),e=>S.createElement(rU,_k({},e))),[t])}const P_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function sle(t){const{handlePointer:e}=kse(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(P_).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,u]=P_[a];n.addEventListener(l,s,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=P_[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const lle=S.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=sle,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:b,performance:y,raycaster:g,camera:x,scene:w,onPointerMissed:C,onCreated:R,...E},P){S.useMemo(()=>JT(mse),[]);const D=ale(),[L,M]=Kse({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=S.useRef(null),V=S.useRef(null);S.useImperativeHandle(P,()=>I.current);const Z=j7(C),[j,fe]=S.useState(!1),[ye,ve]=S.useState(!1);if(j)throw j;if(ye)throw ye;const X=S.useRef(null);wv(()=>{const F=I.current;M.width>0&&M.height>0&&F&&(X.current||(X.current=jse(F)),X.current.configure({gl:o,events:a,shadows:u,linear:c,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:b,performance:y,raycaster:g,camera:x,scene:w,size:M,onPointerMissed:(...ce)=>Z.current==null?void 0:Z.current(...ce),onCreated:ce=>{ce.events.connect==null||ce.events.connect(s?Mse(s)?s.current:s:V.current),l&&ce.setEvents({compute:(se,K)=>{const ge=se[l+"X"],ze=se[l+"Y"];K.pointer.set(ge/K.size.width*2-1,-(ze/K.size.height)*2+1),K.raycaster.setFromCamera(K.pointer,K.camera)}}),R==null||R(ce)}}),X.current.render(S.createElement(D,null,S.createElement(G7,{set:ve},S.createElement(S.Suspense,{fallback:S.createElement(Tse,{set:fe})},e)))))}),S.useEffect(()=>{const F=I.current;if(F)return()=>J7(F)},[]);const ne=s?"none":"auto";return S.createElement("div",jr({ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ne,...i}},E),S.createElement("div",{ref:L,style:{width:"100%",height:"100%"}},S.createElement("canvas",{ref:I,style:{display:"block"}},n)))}),ule=S.forwardRef(function(e,n){return S.createElement(rU,null,S.createElement(lle,jr({},e,{ref:n})))}),Sv=new de,rP=new de,cle=new de,Mk=new vt;function fle(t,e,n){const r=Sv.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,o=n.height/2;return[r.x*i+i,-(r.y*o)+o]}function dle(t,e){const n=Sv.setFromMatrixPosition(t.matrixWorld),r=rP.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),o=e.getWorldDirection(cle);return i.angleTo(o)>Math.PI/2}function hle(t,e,n,r){const i=Sv.setFromMatrixPosition(t.matrixWorld),o=i.clone();o.project(e),Mk.set(o.x,o.y),n.setFromCamera(Mk,e);const a=n.intersectObjects(r,!0);if(a.length){const s=a[0].distance;return i.distanceTo(n.ray.origin)<s}return!0}function ple(t,e){if(e instanceof ps)return e.zoom;if(e instanceof Mr){const n=Sv.setFromMatrixPosition(t.matrixWorld),r=rP.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,o=n.distanceTo(r);return 1/(2*Math.tan(i/2)*o)}else return 1}function mle(t,e,n){if(e instanceof Mr||e instanceof ps){const r=Sv.setFromMatrixPosition(t.matrixWorld),i=rP.setFromMatrixPosition(e.matrixWorld),o=r.distanceTo(i),a=(n[1]-n[0])/(e.far-e.near),s=n[1]-a*e.far;return Math.round(a*o+s)}}const sM=t=>Math.abs(t)<1e-10?0:t;function iU(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=sM(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const gle=(t=>e=>iU(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),vle=(t=>(e,n)=>iU(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function yle(t){return t&&typeof t=="object"&&"current"in t}const xle=S.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:o,fullscreen:a,portal:s,distanceFactor:l,sprite:u=!1,transform:c=!1,occlude:f,onOcclude:p,castShadow:m,receiveShadow:v,material:b,geometry:y,zIndexRange:g=[16777271,0],calculatePosition:x=fle,as:w="div",wrapperClass:C,pointerEvents:R="auto",...E},P)=>{const{gl:D,camera:L,scene:M,size:I,raycaster:V,events:Z,viewport:j}=pr(),[fe]=S.useState(()=>document.createElement(w)),ye=S.useRef(),ve=S.useRef(null),X=S.useRef(0),ne=S.useRef([0,0]),F=S.useRef(null),ce=S.useRef(null),se=(s==null?void 0:s.current)||Z.connected||D.domElement.parentNode,K=S.useRef(null),ge=S.useRef(!1),ze=S.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&yle(f[0]),[f]);S.useLayoutEffect(()=>{const yt=D.domElement;f&&f==="blending"?(yt.style.zIndex=`${Math.floor(g[0]/2)}`,yt.style.position="absolute",yt.style.pointerEvents="none"):(yt.style.zIndex=null,yt.style.position=null,yt.style.pointerEvents=null)},[f]),S.useLayoutEffect(()=>{if(ve.current){const yt=ye.current=o6(fe);if(M.updateMatrixWorld(),c)fe.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const je=x(ve.current,L,I);fe.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${je[0]}px,${je[1]}px,0);transform-origin:0 0;`}return se&&(i?se.prepend(fe):se.appendChild(fe)),()=>{se&&se.removeChild(fe),yt.unmount()}}},[se,c]),S.useLayoutEffect(()=>{C&&(fe.className=C)},[C]);const Be=S.useMemo(()=>c?{position:"absolute",top:0,left:0,width:I.width,height:I.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:o?"translate3d(-50%,-50%,0)":"none",...a&&{top:-I.height/2,left:-I.width/2,width:I.width,height:I.height},...n},[n,o,a,I,c]),st=S.useMemo(()=>({position:"absolute",pointerEvents:R}),[R]);S.useLayoutEffect(()=>{if(ge.current=!1,c){var yt;(yt=ye.current)==null||yt.render(S.createElement("div",{ref:F,style:Be},S.createElement("div",{ref:ce,style:st},S.createElement("div",{ref:P,className:r,style:n,children:t}))))}else{var je;(je=ye.current)==null||je.render(S.createElement("div",{ref:P,style:Be,className:r,children:t}))}});const it=S.useRef(!0);Rf(yt=>{if(ve.current){L.updateMatrixWorld(),ve.current.updateWorldMatrix(!0,!1);const je=c?ne.current:x(ve.current,L,I);if(c||Math.abs(X.current-L.zoom)>e||Math.abs(ne.current[0]-je[0])>e||Math.abs(ne.current[1]-je[1])>e){const Y=dle(ve.current,L);let Fe=!1;ze&&(Array.isArray(f)?Fe=f.map(lt=>lt.current):f!=="blending"&&(Fe=[M]));const Me=it.current;if(Fe){const lt=hle(ve.current,L,V,Fe);it.current=lt&&!Y}else it.current=!Y;Me!==it.current&&(p?p(!it.current):fe.style.display=it.current?"block":"none");const et=Math.floor(g[0]/2),Ve=f?ze?[g[0],et]:[et-1,0]:g;if(fe.style.zIndex=`${mle(ve.current,L,Ve)}`,c){const[lt,J]=[I.width/2,I.height/2],Q=L.projectionMatrix.elements[5]*J,{isOrthographicCamera:xe,top:B,left:O,bottom:ee,right:he}=L,le=gle(L.matrixWorldInverse),Ee=xe?`scale(${Q})translate(${sM(-(he+O)/2)}px,${sM((B+ee)/2)}px)`:`translateZ(${Q}px)`;let qe=ve.current.matrixWorld;u&&(qe=L.matrixWorldInverse.clone().transpose().copyPosition(qe).scale(ve.current.scale),qe.elements[3]=qe.elements[7]=qe.elements[11]=0,qe.elements[15]=1),fe.style.width=I.width+"px",fe.style.height=I.height+"px",fe.style.perspective=xe?"":`${Q}px`,F.current&&ce.current&&(F.current.style.transform=`${Ee}${le}translate(${lt}px,${J}px)`,ce.current.style.transform=vle(qe,1/((l||10)/400)))}else{const lt=l===void 0?1:ple(ve.current,L)*l;fe.style.transform=`translate3d(${je[0]}px,${je[1]}px,0) scale(${lt})`}ne.current=je,X.current=L.zoom}}if(!ze&&K.current&&!ge.current)if(c){if(F.current){const je=F.current.children[0];if(je!=null&&je.clientWidth&&je!=null&&je.clientHeight){const{isOrthographicCamera:Y}=L;if(Y||y)E.scale&&(Array.isArray(E.scale)?E.scale instanceof de?K.current.scale.copy(E.scale.clone().divideScalar(1)):K.current.scale.set(1/E.scale[0],1/E.scale[1],1/E.scale[2]):K.current.scale.setScalar(1/E.scale));else{const Fe=(l||10)/400,Me=je.clientWidth*Fe,et=je.clientHeight*Fe;K.current.scale.set(Me,et,1)}ge.current=!0}}}else{const je=fe.children[0];if(je!=null&&je.clientWidth&&je!=null&&je.clientHeight){const Y=1/j.factor,Fe=je.clientWidth*Y,Me=je.clientHeight*Y;K.current.scale.set(Fe,Me,1),ge.current=!0}K.current.lookAt(yt.camera.position)}});const gt=S.useMemo(()=>({vertexShader:c?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[c]);return S.createElement("group",jr({},E,{ref:ve}),f&&!ze&&S.createElement("mesh",{castShadow:m,receiveShadow:v,ref:K},y||S.createElement("planeGeometry",null),b||S.createElement("shaderMaterial",{side:Ua,vertexShader:gt.vertexShader,fragmentShader:gt.fragmentShader})))});var za=Uint8Array,yu=Uint16Array,lM=Uint32Array,oU=new za([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),aU=new za([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ble=new za([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sU=function(t,e){for(var n=new yu(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new lM(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},lU=sU(oU,2),uU=lU[0],wle=lU[1];uU[28]=258,wle[258]=28;var Sle=sU(aU,0),_le=Sle[0],uM=new yu(32768);for(var wr=0;wr<32768;++wr){var ru=(wr&43690)>>>1|(wr&21845)<<1;ru=(ru&52428)>>>2|(ru&13107)<<2,ru=(ru&61680)>>>4|(ru&3855)<<4,uM[wr]=((ru&65280)>>>8|(ru&255)<<8)>>>1}var Rm=function(t,e,n){for(var r=t.length,i=0,o=new yu(e);i<r;++i)++o[t[i]-1];var a=new yu(e);for(i=0;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(n){s=new yu(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=a[t[i]-1]++<<c,p=f|(1<<c)-1;f<=p;++f)s[uM[f]>>>l]=u}else for(s=new yu(r),i=0;i<r;++i)t[i]&&(s[i]=uM[a[t[i]-1]++]>>>15-t[i]);return s},_v=new za(288);for(var wr=0;wr<144;++wr)_v[wr]=8;for(var wr=144;wr<256;++wr)_v[wr]=9;for(var wr=256;wr<280;++wr)_v[wr]=7;for(var wr=280;wr<288;++wr)_v[wr]=8;var cU=new za(32);for(var wr=0;wr<32;++wr)cU[wr]=5;var Ele=Rm(_v,9,1),Cle=Rm(cU,5,1),R_=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},rs=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},A_=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Mle=function(t){return(t/8|0)+(t&7&&1)},Tle=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof yu?yu:t instanceof lM?lM:za)(n-e);return r.set(t.subarray(e,n)),r},Ple=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new za(0);var i=!e||n,o=!n||n.i;n||(n={}),e||(e=new za(r*3));var a=function(Be){var st=e.length;if(Be>st){var it=new za(Math.max(st*2,Be));it.set(e),e=it}},s=n.f||0,l=n.p||0,u=n.b||0,c=n.l,f=n.d,p=n.m,m=n.n,v=r*8;do{if(!c){n.f=s=rs(t,l,1);var b=rs(t,l+1,3);if(l+=3,b)if(b==1)c=Ele,f=Cle,p=9,m=5;else if(b==2){var w=rs(t,l,31)+257,C=rs(t,l+10,15)+4,R=w+rs(t,l+5,31)+1;l+=14;for(var E=new za(R),P=new za(19),D=0;D<C;++D)P[ble[D]]=rs(t,l+D*3,7);l+=C*3;for(var L=R_(P),M=(1<<L)-1,I=Rm(P,L,1),D=0;D<R;){var V=I[rs(t,l,M)];l+=V&15;var y=V>>>4;if(y<16)E[D++]=y;else{var Z=0,j=0;for(y==16?(j=3+rs(t,l,3),l+=2,Z=E[D-1]):y==17?(j=3+rs(t,l,7),l+=3):y==18&&(j=11+rs(t,l,127),l+=7);j--;)E[D++]=Z}}var fe=E.subarray(0,w),ye=E.subarray(w);p=R_(fe),m=R_(ye),c=Rm(fe,p,1),f=Rm(ye,m,1)}else throw"invalid block type";else{var y=Mle(l)+4,g=t[y-4]|t[y-3]<<8,x=y+g;if(x>r){if(o)throw"unexpected EOF";break}i&&a(u+g),e.set(t.subarray(y,x),u),n.b=u+=g,n.p=l=x*8;continue}if(l>v){if(o)throw"unexpected EOF";break}}i&&a(u+131072);for(var ve=(1<<p)-1,X=(1<<m)-1,ne=l;;ne=l){var Z=c[A_(t,l)&ve],F=Z>>>4;if(l+=Z&15,l>v){if(o)throw"unexpected EOF";break}if(!Z)throw"invalid length/literal";if(F<256)e[u++]=F;else if(F==256){ne=l,c=null;break}else{var ce=F-254;if(F>264){var D=F-257,se=oU[D];ce=rs(t,l,(1<<se)-1)+uU[D],l+=se}var K=f[A_(t,l)&X],ge=K>>>4;if(!K)throw"invalid distance";l+=K&15;var ye=_le[ge];if(ge>3){var se=aU[ge];ye+=A_(t,l)&(1<<se)-1,l+=se}if(l>v){if(o)throw"unexpected EOF";break}i&&a(u+131072);for(var ze=u+ce;u<ze;u+=4)e[u]=e[u-ye],e[u+1]=e[u+1-ye],e[u+2]=e[u+2-ye],e[u+3]=e[u+3-ye];u=ze}}n.l=c,n.p=ne,n.b=u,c&&(s=1,n.m=p,n.d=f,n.n=m)}while(!s);return u==e.length?e:Tle(e,0,u)},Rle=new za(0),Ale=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function K0(t,e){return Ple((Ale(t),t.subarray(2,-4)),e)}var Ile=typeof TextDecoder<"u"&&new TextDecoder,Ole=0;try{Ile.decode(Rle,{stream:!0}),Ole=1}catch{}const Dle=t=>t&&t.isCubeTexture;class kle extends Wr{constructor(e,n){var r,i;const o=Dle(e),s=((i=o?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(s)),u=Math.pow(2,l),c=3*Math.max(u,16*7),f=4*u,p=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(_f.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,b={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},y=new vv(1,16),g=new Ko({uniforms:b,fragmentShader:v,vertexShader:m,side:Ua});super(y,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var Lle=Object.defineProperty,Nle=(t,e,n)=>e in t?Lle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wn=(t,e,n)=>(Nle(t,typeof e!="symbol"?e+"":e,n),n);const X0=new Ef,Tk=new Ds,Fle=Math.cos(70*(Math.PI/180)),Pk=(t,e)=>(t%e+e)%e;let Ule=class extends Xs{constructor(e,n){super(),wn(this,"object"),wn(this,"domElement"),wn(this,"enabled",!0),wn(this,"target",new de),wn(this,"minDistance",0),wn(this,"maxDistance",1/0),wn(this,"minZoom",0),wn(this,"maxZoom",1/0),wn(this,"minPolarAngle",0),wn(this,"maxPolarAngle",Math.PI),wn(this,"minAzimuthAngle",-1/0),wn(this,"maxAzimuthAngle",1/0),wn(this,"enableDamping",!1),wn(this,"dampingFactor",.05),wn(this,"enableZoom",!0),wn(this,"zoomSpeed",1),wn(this,"enableRotate",!0),wn(this,"rotateSpeed",1),wn(this,"enablePan",!0),wn(this,"panSpeed",1),wn(this,"screenSpacePanning",!0),wn(this,"keyPanSpeed",7),wn(this,"zoomToCursor",!1),wn(this,"autoRotate",!1),wn(this,"autoRotateSpeed",2),wn(this,"reverseOrbit",!1),wn(this,"reverseHorizontalOrbit",!1),wn(this,"reverseVerticalOrbit",!1),wn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),wn(this,"mouseButtons",{LEFT:Cc.ROTATE,MIDDLE:Cc.DOLLY,RIGHT:Cc.PAN}),wn(this,"touches",{ONE:Mc.ROTATE,TWO:Mc.DOLLY_PAN}),wn(this,"target0"),wn(this,"position0"),wn(this,"zoom0"),wn(this,"_domElementKeyEvents",null),wn(this,"getPolarAngle"),wn(this,"getAzimuthalAngle"),wn(this,"setPolarAngle"),wn(this,"setAzimuthalAngle"),wn(this,"getDistance"),wn(this,"listenToKeyEvents"),wn(this,"stopListenToKeyEvents"),wn(this,"saveState"),wn(this,"reset"),wn(this,"update"),wn(this,"connect"),wn(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=H=>{let me=Pk(H,2*Math.PI),He=c.phi;He<0&&(He+=2*Math.PI),me<0&&(me+=2*Math.PI);let ct=Math.abs(me-He);2*Math.PI-ct<ct&&(me<He?me+=2*Math.PI:He+=2*Math.PI),f.phi=me-He,r.update()},this.setAzimuthalAngle=H=>{let me=Pk(H,2*Math.PI),He=c.theta;He<0&&(He+=2*Math.PI),me<0&&(me+=2*Math.PI);let ct=Math.abs(me-He);2*Math.PI-ct<ct&&(me<He?me+=2*Math.PI:He+=2*Math.PI),f.theta=me-He,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=H=>{H.addEventListener("keydown",Ke),this._domElementKeyEvents=H},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ke),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const H=new de,me=new de(0,1,0),He=new Pi().setFromUnitVectors(e.up,me),ct=He.clone().invert(),nt=new de,Pe=new Pi,dt=2*Math.PI;return function(){const ue=r.object.position;He.setFromUnitVectors(e.up,me),ct.copy(He).invert(),H.copy(ue).sub(r.target),H.applyQuaternion(He),c.setFromVector3(H),r.autoRotate&&l===s.NONE&&j(V()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let ae=r.minAzimuthAngle,Ne=r.maxAzimuthAngle;isFinite(ae)&&isFinite(Ne)&&(ae<-Math.PI?ae+=dt:ae>Math.PI&&(ae-=dt),Ne<-Math.PI?Ne+=dt:Ne>Math.PI&&(Ne-=dt),ae<=Ne?c.theta=Math.max(ae,Math.min(Ne,c.theta)):c.theta=c.theta>(ae+Ne)/2?Math.max(ae,c.theta):Math.min(Ne,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&L||r.object.isOrthographicCamera?c.radius=se(c.radius):c.radius=se(c.radius*p),H.setFromSpherical(c),H.applyQuaternion(ct),ue.copy(r.target).add(H),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let rt=!1;if(r.zoomToCursor&&L){let wt=null;if(r.object instanceof Mr&&r.object.isPerspectiveCamera){const bt=H.length();wt=se(bt*p);const xt=bt-wt;r.object.position.addScaledVector(P,xt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const bt=new de(D.x,D.y,0);bt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),rt=!0;const xt=new de(D.x,D.y,0);xt.unproject(r.object),r.object.position.sub(xt).add(bt),r.object.updateMatrixWorld(),wt=H.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;wt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(wt).add(r.object.position):(X0.origin.copy(r.object.position),X0.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(X0.direction))<Fle?e.lookAt(r.target):(Tk.setFromNormalAndCoplanarPoint(r.object.up,r.target),X0.intersectPlane(Tk,r.target))))}else r.object instanceof ps&&r.object.isOrthographicCamera&&(rt=p!==1,rt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,L=!1,rt||nt.distanceToSquared(r.object.position)>u||8*(1-Pe.dot(r.object.quaternion))>u?(r.dispatchEvent(i),nt.copy(r.object.position),Pe.copy(r.object.quaternion),rt=!1,!0):!1}})(),this.connect=H=>{H===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=H,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",at),r.domElement.addEventListener("pointerdown",B),r.domElement.addEventListener("pointercancel",he),r.domElement.addEventListener("wheel",qe)},this.dispose=()=>{var H,me,He,ct,nt,Pe;(H=r.domElement)==null||H.removeEventListener("contextmenu",at),(me=r.domElement)==null||me.removeEventListener("pointerdown",B),(He=r.domElement)==null||He.removeEventListener("pointercancel",he),(ct=r.domElement)==null||ct.removeEventListener("wheel",qe),(nt=r.domElement)==null||nt.ownerDocument.removeEventListener("pointermove",O),(Pe=r.domElement)==null||Pe.ownerDocument.removeEventListener("pointerup",ee),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ke)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,c=new nM,f=new nM;let p=1;const m=new de,v=new vt,b=new vt,y=new vt,g=new vt,x=new vt,w=new vt,C=new vt,R=new vt,E=new vt,P=new de,D=new vt;let L=!1;const M=[],I={};function V(){return 2*Math.PI/60/60*r.autoRotateSpeed}function Z(){return Math.pow(.95,r.zoomSpeed)}function j(H){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=H:f.theta-=H}function fe(H){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=H:f.phi-=H}const ye=(()=>{const H=new de;return function(He,ct){H.setFromMatrixColumn(ct,0),H.multiplyScalar(-He),m.add(H)}})(),ve=(()=>{const H=new de;return function(He,ct){r.screenSpacePanning===!0?H.setFromMatrixColumn(ct,1):(H.setFromMatrixColumn(ct,0),H.crossVectors(r.object.up,H)),H.multiplyScalar(He),m.add(H)}})(),X=(()=>{const H=new de;return function(He,ct){const nt=r.domElement;if(nt&&r.object instanceof Mr&&r.object.isPerspectiveCamera){const Pe=r.object.position;H.copy(Pe).sub(r.target);let dt=H.length();dt*=Math.tan(r.object.fov/2*Math.PI/180),ye(2*He*dt/nt.clientHeight,r.object.matrix),ve(2*ct*dt/nt.clientHeight,r.object.matrix)}else nt&&r.object instanceof ps&&r.object.isOrthographicCamera?(ye(He*(r.object.right-r.object.left)/r.object.zoom/nt.clientWidth,r.object.matrix),ve(ct*(r.object.top-r.object.bottom)/r.object.zoom/nt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ne(H){r.object instanceof Mr&&r.object.isPerspectiveCamera||r.object instanceof ps&&r.object.isOrthographicCamera?p/=H:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function F(H){r.object instanceof Mr&&r.object.isPerspectiveCamera||r.object instanceof ps&&r.object.isOrthographicCamera?p*=H:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ce(H){if(!r.zoomToCursor||!r.domElement)return;L=!0;const me=r.domElement.getBoundingClientRect(),He=H.clientX-me.left,ct=H.clientY-me.top,nt=me.width,Pe=me.height;D.x=He/nt*2-1,D.y=-(ct/Pe)*2+1,P.set(D.x,D.y,1).unproject(r.object).sub(r.object.position).normalize()}function se(H){return Math.max(r.minDistance,Math.min(r.maxDistance,H))}function K(H){v.set(H.clientX,H.clientY)}function ge(H){ce(H),C.set(H.clientX,H.clientY)}function ze(H){g.set(H.clientX,H.clientY)}function Be(H){b.set(H.clientX,H.clientY),y.subVectors(b,v).multiplyScalar(r.rotateSpeed);const me=r.domElement;me&&(j(2*Math.PI*y.x/me.clientHeight),fe(2*Math.PI*y.y/me.clientHeight)),v.copy(b),r.update()}function st(H){R.set(H.clientX,H.clientY),E.subVectors(R,C),E.y>0?ne(Z()):E.y<0&&F(Z()),C.copy(R),r.update()}function it(H){x.set(H.clientX,H.clientY),w.subVectors(x,g).multiplyScalar(r.panSpeed),X(w.x,w.y),g.copy(x),r.update()}function gt(H){ce(H),H.deltaY<0?F(Z()):H.deltaY>0&&ne(Z()),r.update()}function yt(H){let me=!1;switch(H.code){case r.keys.UP:X(0,r.keyPanSpeed),me=!0;break;case r.keys.BOTTOM:X(0,-r.keyPanSpeed),me=!0;break;case r.keys.LEFT:X(r.keyPanSpeed,0),me=!0;break;case r.keys.RIGHT:X(-r.keyPanSpeed,0),me=!0;break}me&&(H.preventDefault(),r.update())}function je(){if(M.length==1)v.set(M[0].pageX,M[0].pageY);else{const H=.5*(M[0].pageX+M[1].pageX),me=.5*(M[0].pageY+M[1].pageY);v.set(H,me)}}function Y(){if(M.length==1)g.set(M[0].pageX,M[0].pageY);else{const H=.5*(M[0].pageX+M[1].pageX),me=.5*(M[0].pageY+M[1].pageY);g.set(H,me)}}function Fe(){const H=M[0].pageX-M[1].pageX,me=M[0].pageY-M[1].pageY,He=Math.sqrt(H*H+me*me);C.set(0,He)}function Me(){r.enableZoom&&Fe(),r.enablePan&&Y()}function et(){r.enableZoom&&Fe(),r.enableRotate&&je()}function Ve(H){if(M.length==1)b.set(H.pageX,H.pageY);else{const He=Le(H),ct=.5*(H.pageX+He.x),nt=.5*(H.pageY+He.y);b.set(ct,nt)}y.subVectors(b,v).multiplyScalar(r.rotateSpeed);const me=r.domElement;me&&(j(2*Math.PI*y.x/me.clientHeight),fe(2*Math.PI*y.y/me.clientHeight)),v.copy(b)}function lt(H){if(M.length==1)x.set(H.pageX,H.pageY);else{const me=Le(H),He=.5*(H.pageX+me.x),ct=.5*(H.pageY+me.y);x.set(He,ct)}w.subVectors(x,g).multiplyScalar(r.panSpeed),X(w.x,w.y),g.copy(x)}function J(H){const me=Le(H),He=H.pageX-me.x,ct=H.pageY-me.y,nt=Math.sqrt(He*He+ct*ct);R.set(0,nt),E.set(0,Math.pow(R.y/C.y,r.zoomSpeed)),ne(E.y),C.copy(R)}function Q(H){r.enableZoom&&J(H),r.enablePan&&lt(H)}function xe(H){r.enableZoom&&J(H),r.enableRotate&&Ve(H)}function B(H){var me,He;r.enabled!==!1&&(M.length===0&&((me=r.domElement)==null||me.ownerDocument.addEventListener("pointermove",O),(He=r.domElement)==null||He.ownerDocument.addEventListener("pointerup",ee)),tt(H),H.pointerType==="touch"?be(H):le(H))}function O(H){r.enabled!==!1&&(H.pointerType==="touch"?Ye(H):Ee(H))}function ee(H){var me,He,ct;ft(H),M.length===0&&((me=r.domElement)==null||me.releasePointerCapture(H.pointerId),(He=r.domElement)==null||He.ownerDocument.removeEventListener("pointermove",O),(ct=r.domElement)==null||ct.ownerDocument.removeEventListener("pointerup",ee)),r.dispatchEvent(a),l=s.NONE}function he(H){ft(H)}function le(H){let me;switch(H.button){case 0:me=r.mouseButtons.LEFT;break;case 1:me=r.mouseButtons.MIDDLE;break;case 2:me=r.mouseButtons.RIGHT;break;default:me=-1}switch(me){case Cc.DOLLY:if(r.enableZoom===!1)return;ge(H),l=s.DOLLY;break;case Cc.ROTATE:if(H.ctrlKey||H.metaKey||H.shiftKey){if(r.enablePan===!1)return;ze(H),l=s.PAN}else{if(r.enableRotate===!1)return;K(H),l=s.ROTATE}break;case Cc.PAN:if(H.ctrlKey||H.metaKey||H.shiftKey){if(r.enableRotate===!1)return;K(H),l=s.ROTATE}else{if(r.enablePan===!1)return;ze(H),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function Ee(H){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;Be(H);break;case s.DOLLY:if(r.enableZoom===!1)return;st(H);break;case s.PAN:if(r.enablePan===!1)return;it(H);break}}function qe(H){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(H.preventDefault(),r.dispatchEvent(o),gt(H),r.dispatchEvent(a))}function Ke(H){r.enabled===!1||r.enablePan===!1||yt(H)}function be(H){switch(De(H),M.length){case 1:switch(r.touches.ONE){case Mc.ROTATE:if(r.enableRotate===!1)return;je(),l=s.TOUCH_ROTATE;break;case Mc.PAN:if(r.enablePan===!1)return;Y(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Mc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Me(),l=s.TOUCH_DOLLY_PAN;break;case Mc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;et(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function Ye(H){switch(De(H),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ve(H),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;lt(H),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Q(H),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;xe(H),r.update();break;default:l=s.NONE}}function at(H){r.enabled!==!1&&H.preventDefault()}function tt(H){M.push(H)}function ft(H){delete I[H.pointerId];for(let me=0;me<M.length;me++)if(M[me].pointerId==H.pointerId){M.splice(me,1);return}}function De(H){let me=I[H.pointerId];me===void 0&&(me=new vt,I[H.pointerId]=me),me.set(H.pageX,H.pageY)}function Le(H){const me=H.pointerId===M[0].pointerId?M[1]:M[0];return I[me.pointerId]}n!==void 0&&this.connect(n),this.update()}};class zle extends VT{constructor(e){super(e),this.type=so}parse(e){const s=function(w,C){switch(w){case 1:console.error("THREE.RGBELoader Read Error: "+(C||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(C||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(C||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(C||""))}return-1},f=`
`,p=function(w,C,R){C=C||1024;let P=w.pos,D=-1,L=0,M="",I=String.fromCharCode.apply(null,new Uint16Array(w.subarray(P,P+128)));for(;0>(D=I.indexOf(f))&&L<C&&P<w.byteLength;)M+=I,L+=I.length,P+=128,I+=String.fromCharCode.apply(null,new Uint16Array(w.subarray(P,P+128)));return-1<D?(R!==!1&&(w.pos+=L+D+1),M+I.slice(0,D)):!1},m=function(w){const C=/^#\?(\S+)/,R=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,E=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*FORMAT=(\S+)\s*$/,D=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,L={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let M,I;if(w.pos>=w.byteLength||!(M=p(w)))return s(1,"no header found");if(!(I=M.match(C)))return s(3,"bad initial token");for(L.valid|=1,L.programtype=I[1],L.string+=M+`
`;M=p(w),M!==!1;){if(L.string+=M+`
`,M.charAt(0)==="#"){L.comments+=M+`
`;continue}if((I=M.match(R))&&(L.gamma=parseFloat(I[1])),(I=M.match(E))&&(L.exposure=parseFloat(I[1])),(I=M.match(P))&&(L.valid|=2,L.format=I[1]),(I=M.match(D))&&(L.valid|=4,L.height=parseInt(I[1],10),L.width=parseInt(I[2],10)),L.valid&2&&L.valid&4)break}return L.valid&2?L.valid&4?L:s(3,"missing image size specifier"):s(3,"missing format specifier")},v=function(w,C,R){const E=C;if(E<8||E>32767||w[0]!==2||w[1]!==2||w[2]&128)return new Uint8Array(w);if(E!==(w[2]<<8|w[3]))return s(3,"wrong scanline width");const P=new Uint8Array(4*C*R);if(!P.length)return s(4,"unable to allocate buffer space");let D=0,L=0;const M=4*E,I=new Uint8Array(4),V=new Uint8Array(M);let Z=R;for(;Z>0&&L<w.byteLength;){if(L+4>w.byteLength)return s(1);if(I[0]=w[L++],I[1]=w[L++],I[2]=w[L++],I[3]=w[L++],I[0]!=2||I[1]!=2||(I[2]<<8|I[3])!=E)return s(3,"bad rgbe scanline format");let j=0,fe;for(;j<M&&L<w.byteLength;){fe=w[L++];const ve=fe>128;if(ve&&(fe-=128),fe===0||j+fe>M)return s(3,"bad scanline data");if(ve){const X=w[L++];for(let ne=0;ne<fe;ne++)V[j++]=X}else V.set(w.subarray(L,L+fe),j),j+=fe,L+=fe}const ye=E;for(let ve=0;ve<ye;ve++){let X=0;P[D]=V[ve+X],X+=E,P[D+1]=V[ve+X],X+=E,P[D+2]=V[ve+X],X+=E,P[D+3]=V[ve+X],D+=4}Z--}return P},b=function(w,C,R,E){const P=w[C+3],D=Math.pow(2,P-128)/255;R[E+0]=w[C+0]*D,R[E+1]=w[C+1]*D,R[E+2]=w[C+2]*D,R[E+3]=1},y=function(w,C,R,E){const P=w[C+3],D=Math.pow(2,P-128)/255;R[E+0]=Gc.toHalfFloat(Math.min(w[C+0]*D,65504)),R[E+1]=Gc.toHalfFloat(Math.min(w[C+1]*D,65504)),R[E+2]=Gc.toHalfFloat(Math.min(w[C+2]*D,65504)),R[E+3]=Gc.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const x=m(g);if(x!==-1){const w=x.width,C=x.height,R=v(g.subarray(g.pos),w,C);if(R!==-1){let E,P,D;switch(this.type){case oi:D=R.length/4;const L=new Float32Array(D*4);for(let I=0;I<D;I++)b(R,I*4,L,I*4);E=L,P=oi;break;case so:D=R.length/4;const M=new Uint16Array(D*4);for(let I=0;I<D;I++)y(R,I*4,M,I*4);E=M,P=so;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:w,height:C,data:E,header:x.string,gamma:x.gamma,exposure:x.exposure,type:P}}}return null}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(a,s){switch(a.type){case oi:case so:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=or,a.magFilter=or,a.generateMipmaps=!1,a.flipY=!0;break}n&&n(a,s)}return super.load(e,o,r,i)}}const $p="colorSpace"in new Pr;class Ble extends VT{constructor(e){super(e),this.type=so}parse(e){const L=Math.pow(2.7182818,2.2);function M(N,W){for(var $=0,A=0;A<65536;++A)(A==0||N[A>>3]&1<<(A&7))&&(W[$++]=A);for(var z=$-1;$<65536;)W[$++]=0;return z}function I(N){for(var W=0;W<16384;W++)N[W]={},N[W].len=0,N[W].lit=0,N[W].p=null}const V={l:0,c:0,lc:0};function Z(N,W,$,A,z){for(;$<N;)W=W<<8|Le(A,z),$+=8;$-=N,V.l=W>>$&(1<<N)-1,V.c=W,V.lc=$}const j=new Array(59);function fe(N){for(var W=0;W<=58;++W)j[W]=0;for(var W=0;W<65537;++W)j[N[W]]+=1;for(var $=0,W=58;W>0;--W){var A=$+j[W]>>1;j[W]=$,$=A}for(var W=0;W<65537;++W){var z=N[W];z>0&&(N[W]=z|j[z]++<<6)}}function ye(N,W,$,A,z,q,re){for(var oe=$,Ie=0,we=0;z<=q;z++){if(oe.value-$.value>A)return!1;Z(6,Ie,we,N,oe);var pe=V.l;if(Ie=V.c,we=V.lc,re[z]=pe,pe==63){if(oe.value-$.value>A)throw"Something wrong with hufUnpackEncTable";Z(8,Ie,we,N,oe);var G=V.l+6;if(Ie=V.c,we=V.lc,z+G>q+1)throw"Something wrong with hufUnpackEncTable";for(;G--;)re[z++]=0;z--}else if(pe>=59){var G=pe-59+2;if(z+G>q+1)throw"Something wrong with hufUnpackEncTable";for(;G--;)re[z++]=0;z--}}fe(re)}function ve(N){return N&63}function X(N){return N>>6}function ne(N,W,$,A){for(;W<=$;W++){var z=X(N[W]),q=ve(N[W]);if(z>>q)throw"Invalid table entry";if(q>14){var re=A[z>>q-14];if(re.len)throw"Invalid table entry";if(re.lit++,re.p){var oe=re.p;re.p=new Array(re.lit);for(var Ie=0;Ie<re.lit-1;++Ie)re.p[Ie]=oe[Ie]}else re.p=new Array(1);re.p[re.lit-1]=W}else if(q)for(var we=0,Ie=1<<14-q;Ie>0;Ie--){var re=A[(z<<14-q)+we];if(re.len||re.p)throw"Invalid table entry";re.len=q,re.lit=W,we++}}return!0}const F={c:0,lc:0};function ce(N,W,$,A){N=N<<8|Le($,A),W+=8,F.c=N,F.lc=W}const se={c:0,lc:0};function K(N,W,$,A,z,q,re,oe,Ie,we){if(N==W){A<8&&(ce($,A,z,re),$=F.c,A=F.lc),A-=8;var pe=$>>A,pe=new Uint8Array([pe])[0];if(Ie.value+pe>we)return!1;for(var G=oe[Ie.value-1];pe-- >0;)oe[Ie.value++]=G}else if(Ie.value<we)oe[Ie.value++]=N;else return!1;se.c=$,se.lc=A}function ge(N){return N&65535}function ze(N){var W=ge(N);return W>32767?W-65536:W}const Be={a:0,b:0};function st(N,W){var $=ze(N),A=ze(W),z=A,q=$+(z&1)+(z>>1),re=q,oe=q-z;Be.a=re,Be.b=oe}function it(N,W){var $=ge(N),A=ge(W),z=$-(A>>1)&65535,q=A+z-32768&65535;Be.a=q,Be.b=z}function gt(N,W,$,A,z,q,re){for(var oe=re<16384,Ie=$>z?z:$,we=1,pe;we<=Ie;)we<<=1;for(we>>=1,pe=we,we>>=1;we>=1;){for(var G=0,Re=G+q*(z-pe),Ae=q*we,We=q*pe,Ue=A*we,ie=A*pe,Oe,Ze,Ge,$e;G<=Re;G+=We){for(var At=G,Pt=G+A*($-pe);At<=Pt;At+=ie){var Vt=At+Ue,un=At+Ae,nn=un+Ue;oe?(st(N[At+W],N[un+W]),Oe=Be.a,Ge=Be.b,st(N[Vt+W],N[nn+W]),Ze=Be.a,$e=Be.b,st(Oe,Ze),N[At+W]=Be.a,N[Vt+W]=Be.b,st(Ge,$e),N[un+W]=Be.a,N[nn+W]=Be.b):(it(N[At+W],N[un+W]),Oe=Be.a,Ge=Be.b,it(N[Vt+W],N[nn+W]),Ze=Be.a,$e=Be.b,it(Oe,Ze),N[At+W]=Be.a,N[Vt+W]=Be.b,it(Ge,$e),N[un+W]=Be.a,N[nn+W]=Be.b)}if($&we){var un=At+Ae;oe?st(N[At+W],N[un+W]):it(N[At+W],N[un+W]),Oe=Be.a,N[un+W]=Be.b,N[At+W]=Oe}}if(z&we)for(var At=G,Pt=G+A*($-pe);At<=Pt;At+=ie){var Vt=At+Ue;oe?st(N[At+W],N[Vt+W]):it(N[At+W],N[Vt+W]),Oe=Be.a,N[Vt+W]=Be.b,N[At+W]=Oe}pe=we,we>>=1}return G}function yt(N,W,$,A,z,q,re,oe,Ie,we){for(var pe=0,G=0,Re=oe,Ae=Math.trunc(z.value+(q+7)/8);z.value<Ae;)for(ce(pe,G,$,z),pe=F.c,G=F.lc;G>=14;){var We=pe>>G-14&16383,Ue=W[We];if(Ue.len)G-=Ue.len,K(Ue.lit,re,pe,G,$,A,z,Ie,we,Re),pe=se.c,G=se.lc;else{if(!Ue.p)throw"hufDecode issues";var ie;for(ie=0;ie<Ue.lit;ie++){for(var Oe=ve(N[Ue.p[ie]]);G<Oe&&z.value<Ae;)ce(pe,G,$,z),pe=F.c,G=F.lc;if(G>=Oe&&X(N[Ue.p[ie]])==(pe>>G-Oe&(1<<Oe)-1)){G-=Oe,K(Ue.p[ie],re,pe,G,$,A,z,Ie,we,Re),pe=se.c,G=se.lc;break}}if(ie==Ue.lit)throw"hufDecode issues"}}var Ze=8-q&7;for(pe>>=Ze,G-=Ze;G>0;){var Ue=W[pe<<14-G&16383];if(Ue.len)G-=Ue.len,K(Ue.lit,re,pe,G,$,A,z,Ie,we,Re),pe=se.c,G=se.lc;else throw"hufDecode issues"}return!0}function je(N,W,$,A,z,q){var re={value:0},oe=$.value,Ie=De(W,$),we=De(W,$);$.value+=4;var pe=De(W,$);if($.value+=4,Ie<0||Ie>=65537||we<0||we>=65537)throw"Something wrong with HUF_ENCSIZE";var G=new Array(65537),Re=new Array(16384);I(Re);var Ae=A-($.value-oe);if(ye(N,W,$,Ae,Ie,we,G),pe>8*(A-($.value-oe)))throw"Something wrong with hufUncompress";ne(G,Ie,we,Re),yt(G,Re,N,W,$,pe,we,q,z,re)}function Y(N,W,$){for(var A=0;A<$;++A)W[A]=N[W[A]]}function Fe(N){for(var W=1;W<N.length;W++){var $=N[W-1]+N[W]-128;N[W]=$}}function Me(N,W){for(var $=0,A=Math.floor((N.length+1)/2),z=0,q=N.length-1;!(z>q||(W[z++]=N[$++],z>q));)W[z++]=N[A++]}function et(N){for(var W=N.byteLength,$=new Array,A=0,z=new DataView(N);W>0;){var q=z.getInt8(A++);if(q<0){var re=-q;W-=re+1;for(var oe=0;oe<re;oe++)$.push(z.getUint8(A++))}else{var re=q;W-=2;for(var Ie=z.getUint8(A++),oe=0;oe<re+1;oe++)$.push(Ie)}}return $}function Ve(N,W,$,A,z,q){var Vt=new DataView(q.buffer),re=$[N.idx[0]].width,oe=$[N.idx[0]].height,Ie=3,we=Math.floor(re/8),pe=Math.ceil(re/8),G=Math.ceil(oe/8),Re=re-(pe-1)*8,Ae=oe-(G-1)*8,We={value:0},Ue=new Array(Ie),ie=new Array(Ie),Oe=new Array(Ie),Ze=new Array(Ie),Ge=new Array(Ie);for(let qt=0;qt<Ie;++qt)Ge[qt]=W[N.idx[qt]],Ue[qt]=qt<1?0:Ue[qt-1]+pe*G,ie[qt]=new Float32Array(64),Oe[qt]=new Uint16Array(64),Ze[qt]=new Uint16Array(pe*64);for(let qt=0;qt<G;++qt){var $e=8;qt==G-1&&($e=Ae);var At=8;for(let Qt=0;Qt<pe;++Qt){Qt==pe-1&&(At=Re);for(let sn=0;sn<Ie;++sn)Oe[sn].fill(0),Oe[sn][0]=z[Ue[sn]++],lt(We,A,Oe[sn]),J(Oe[sn],ie[sn]),Q(ie[sn]);xe(ie);for(let sn=0;sn<Ie;++sn)B(ie[sn],Ze[sn],Qt*64)}let Rn=0;for(let Qt=0;Qt<Ie;++Qt){const sn=$[N.idx[Qt]].type;for(let _n=8*qt;_n<8*qt+$e;++_n){Rn=Ge[Qt][_n];for(let Jr=0;Jr<we;++Jr){const gr=Jr*64+(_n&7)*8;Vt.setUint16(Rn+0*2*sn,Ze[Qt][gr+0],!0),Vt.setUint16(Rn+1*2*sn,Ze[Qt][gr+1],!0),Vt.setUint16(Rn+2*2*sn,Ze[Qt][gr+2],!0),Vt.setUint16(Rn+3*2*sn,Ze[Qt][gr+3],!0),Vt.setUint16(Rn+4*2*sn,Ze[Qt][gr+4],!0),Vt.setUint16(Rn+5*2*sn,Ze[Qt][gr+5],!0),Vt.setUint16(Rn+6*2*sn,Ze[Qt][gr+6],!0),Vt.setUint16(Rn+7*2*sn,Ze[Qt][gr+7],!0),Rn+=8*2*sn}}if(we!=pe)for(let _n=8*qt;_n<8*qt+$e;++_n){const Jr=Ge[Qt][_n]+8*we*2*sn,gr=we*64+(_n&7)*8;for(let Rr=0;Rr<At;++Rr)Vt.setUint16(Jr+Rr*2*sn,Ze[Qt][gr+Rr],!0)}}}for(var Pt=new Uint16Array(re),Vt=new DataView(q.buffer),un=0;un<Ie;++un){$[N.idx[un]].decoded=!0;var nn=$[N.idx[un]].type;if($[un].type==2)for(var Kt=0;Kt<oe;++Kt){const qt=Ge[un][Kt];for(var Lt=0;Lt<re;++Lt)Pt[Lt]=Vt.getUint16(qt+Lt*2*nn,!0);for(var Lt=0;Lt<re;++Lt)Vt.setFloat32(qt+Lt*2*nn,nt(Pt[Lt]),!0)}}}function lt(N,W,$){for(var A,z=1;z<64;)A=W[N.value],A==65280?z=64:A>>8==255?z+=A&255:($[z]=A,z++),N.value++}function J(N,W){W[0]=nt(N[0]),W[1]=nt(N[1]),W[2]=nt(N[5]),W[3]=nt(N[6]),W[4]=nt(N[14]),W[5]=nt(N[15]),W[6]=nt(N[27]),W[7]=nt(N[28]),W[8]=nt(N[2]),W[9]=nt(N[4]),W[10]=nt(N[7]),W[11]=nt(N[13]),W[12]=nt(N[16]),W[13]=nt(N[26]),W[14]=nt(N[29]),W[15]=nt(N[42]),W[16]=nt(N[3]),W[17]=nt(N[8]),W[18]=nt(N[12]),W[19]=nt(N[17]),W[20]=nt(N[25]),W[21]=nt(N[30]),W[22]=nt(N[41]),W[23]=nt(N[43]),W[24]=nt(N[9]),W[25]=nt(N[11]),W[26]=nt(N[18]),W[27]=nt(N[24]),W[28]=nt(N[31]),W[29]=nt(N[40]),W[30]=nt(N[44]),W[31]=nt(N[53]),W[32]=nt(N[10]),W[33]=nt(N[19]),W[34]=nt(N[23]),W[35]=nt(N[32]),W[36]=nt(N[39]),W[37]=nt(N[45]),W[38]=nt(N[52]),W[39]=nt(N[54]),W[40]=nt(N[20]),W[41]=nt(N[22]),W[42]=nt(N[33]),W[43]=nt(N[38]),W[44]=nt(N[46]),W[45]=nt(N[51]),W[46]=nt(N[55]),W[47]=nt(N[60]),W[48]=nt(N[21]),W[49]=nt(N[34]),W[50]=nt(N[37]),W[51]=nt(N[47]),W[52]=nt(N[50]),W[53]=nt(N[56]),W[54]=nt(N[59]),W[55]=nt(N[61]),W[56]=nt(N[35]),W[57]=nt(N[36]),W[58]=nt(N[48]),W[59]=nt(N[49]),W[60]=nt(N[57]),W[61]=nt(N[58]),W[62]=nt(N[62]),W[63]=nt(N[63])}function Q(N){const W=.5*Math.cos(.7853975),$=.5*Math.cos(3.14159/16),A=.5*Math.cos(3.14159/8),z=.5*Math.cos(3*3.14159/16),q=.5*Math.cos(5*3.14159/16),re=.5*Math.cos(3*3.14159/8),oe=.5*Math.cos(7*3.14159/16);for(var Ie=new Array(4),we=new Array(4),pe=new Array(4),G=new Array(4),Re=0;Re<8;++Re){var Ae=Re*8;Ie[0]=A*N[Ae+2],Ie[1]=re*N[Ae+2],Ie[2]=A*N[Ae+6],Ie[3]=re*N[Ae+6],we[0]=$*N[Ae+1]+z*N[Ae+3]+q*N[Ae+5]+oe*N[Ae+7],we[1]=z*N[Ae+1]-oe*N[Ae+3]-$*N[Ae+5]-q*N[Ae+7],we[2]=q*N[Ae+1]-$*N[Ae+3]+oe*N[Ae+5]+z*N[Ae+7],we[3]=oe*N[Ae+1]-q*N[Ae+3]+z*N[Ae+5]-$*N[Ae+7],pe[0]=W*(N[Ae+0]+N[Ae+4]),pe[3]=W*(N[Ae+0]-N[Ae+4]),pe[1]=Ie[0]+Ie[3],pe[2]=Ie[1]-Ie[2],G[0]=pe[0]+pe[1],G[1]=pe[3]+pe[2],G[2]=pe[3]-pe[2],G[3]=pe[0]-pe[1],N[Ae+0]=G[0]+we[0],N[Ae+1]=G[1]+we[1],N[Ae+2]=G[2]+we[2],N[Ae+3]=G[3]+we[3],N[Ae+4]=G[3]-we[3],N[Ae+5]=G[2]-we[2],N[Ae+6]=G[1]-we[1],N[Ae+7]=G[0]-we[0]}for(var We=0;We<8;++We)Ie[0]=A*N[16+We],Ie[1]=re*N[16+We],Ie[2]=A*N[48+We],Ie[3]=re*N[48+We],we[0]=$*N[8+We]+z*N[24+We]+q*N[40+We]+oe*N[56+We],we[1]=z*N[8+We]-oe*N[24+We]-$*N[40+We]-q*N[56+We],we[2]=q*N[8+We]-$*N[24+We]+oe*N[40+We]+z*N[56+We],we[3]=oe*N[8+We]-q*N[24+We]+z*N[40+We]-$*N[56+We],pe[0]=W*(N[We]+N[32+We]),pe[3]=W*(N[We]-N[32+We]),pe[1]=Ie[0]+Ie[3],pe[2]=Ie[1]-Ie[2],G[0]=pe[0]+pe[1],G[1]=pe[3]+pe[2],G[2]=pe[3]-pe[2],G[3]=pe[0]-pe[1],N[0+We]=G[0]+we[0],N[8+We]=G[1]+we[1],N[16+We]=G[2]+we[2],N[24+We]=G[3]+we[3],N[32+We]=G[3]-we[3],N[40+We]=G[2]-we[2],N[48+We]=G[1]-we[1],N[56+We]=G[0]-we[0]}function xe(N){for(var W=0;W<64;++W){var $=N[0][W],A=N[1][W],z=N[2][W];N[0][W]=$+1.5747*z,N[1][W]=$-.1873*A-.4682*z,N[2][W]=$+1.8556*A}}function B(N,W,$){for(var A=0;A<64;++A)W[$+A]=Gc.toHalfFloat(O(N[A]))}function O(N){return N<=1?Math.sign(N)*Math.pow(Math.abs(N),2.2):Math.sign(N)*Math.pow(L,Math.abs(N)-1)}function ee(N){return new DataView(N.array.buffer,N.offset.value,N.size)}function he(N){var W=N.viewer.buffer.slice(N.offset.value,N.offset.value+N.size),$=new Uint8Array(et(W)),A=new Uint8Array($.length);return Fe($),Me($,A),new DataView(A.buffer)}function le(N){var W=N.array.slice(N.offset.value,N.offset.value+N.size),$=K0(W),A=new Uint8Array($.length);return Fe($),Me($,A),new DataView(A.buffer)}function Ee(N){for(var W=N.viewer,$={value:N.offset.value},A=new Uint16Array(N.width*N.scanlineBlockSize*(N.channels*N.type)),z=new Uint8Array(8192),q=0,re=new Array(N.channels),oe=0;oe<N.channels;oe++)re[oe]={},re[oe].start=q,re[oe].end=re[oe].start,re[oe].nx=N.width,re[oe].ny=N.lines,re[oe].size=N.type,q+=re[oe].nx*re[oe].ny*re[oe].size;var Ie=Pe(W,$),we=Pe(W,$);if(we>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Ie<=we)for(var oe=0;oe<we-Ie+1;oe++)z[oe+Ie]=H(W,$);var pe=new Uint16Array(65536),G=M(z,pe),Re=De(W,$);je(N.array,W,$,Re,A,q);for(var oe=0;oe<N.channels;++oe)for(var Ae=re[oe],We=0;We<re[oe].size;++We)gt(A,Ae.start+We,Ae.nx,Ae.size,Ae.ny,Ae.nx*Ae.size,G);Y(pe,A,q);for(var Ue=0,ie=new Uint8Array(A.buffer.byteLength),Oe=0;Oe<N.lines;Oe++)for(var Ze=0;Ze<N.channels;Ze++){var Ae=re[Ze],Ge=Ae.nx*Ae.size,$e=new Uint8Array(A.buffer,Ae.end*2,Ge*2);ie.set($e,Ue),Ue+=Ge*2,Ae.end+=Ge}return new DataView(ie.buffer)}function qe(N){var W=N.array.slice(N.offset.value,N.offset.value+N.size),$=K0(W);const A=N.lines*N.channels*N.width,z=N.type==1?new Uint16Array(A):new Uint32Array(A);let q=0,re=0;const oe=new Array(4);for(let Ie=0;Ie<N.lines;Ie++)for(let we=0;we<N.channels;we++){let pe=0;switch(N.type){case 1:oe[0]=q,oe[1]=oe[0]+N.width,q=oe[1]+N.width;for(let G=0;G<N.width;++G){const Re=$[oe[0]++]<<8|$[oe[1]++];pe+=Re,z[re]=pe,re++}break;case 2:oe[0]=q,oe[1]=oe[0]+N.width,oe[2]=oe[1]+N.width,q=oe[2]+N.width;for(let G=0;G<N.width;++G){const Re=$[oe[0]++]<<24|$[oe[1]++]<<16|$[oe[2]++]<<8;pe+=Re,z[re]=pe,re++}break}}return new DataView(z.buffer)}function Ke(N){var W=N.viewer,$={value:N.offset.value},A=new Uint8Array(N.width*N.lines*(N.channels*N.type*2)),z={version:me(W,$),unknownUncompressedSize:me(W,$),unknownCompressedSize:me(W,$),acCompressedSize:me(W,$),dcCompressedSize:me(W,$),rleCompressedSize:me(W,$),rleUncompressedSize:me(W,$),rleRawSize:me(W,$),totalAcUncompressedCount:me(W,$),totalDcUncompressedCount:me(W,$),acCompression:me(W,$)};if(z.version<2)throw"EXRLoader.parse: "+hn.compression+" version "+z.version+" is unsupported";for(var q=new Array,re=Pe(W,$)-2;re>0;){var oe=be(W.buffer,$),Ie=H(W,$),we=Ie>>2&3,pe=(Ie>>4)-1,G=new Int8Array([pe])[0],Re=H(W,$);q.push({name:oe,index:G,type:Re,compression:we}),re-=oe.length+3}for(var Ae=hn.channels,We=new Array(N.channels),Ue=0;Ue<N.channels;++Ue){var ie=We[Ue]={},Oe=Ae[Ue];ie.name=Oe.name,ie.compression=0,ie.decoded=!1,ie.type=Oe.pixelType,ie.pLinear=Oe.pLinear,ie.width=N.width,ie.height=N.lines}for(var Ze={idx:new Array(3)},Ge=0;Ge<N.channels;++Ge)for(var ie=We[Ge],Ue=0;Ue<q.length;++Ue){var $e=q[Ue];ie.name==$e.name&&(ie.compression=$e.compression,$e.index>=0&&(Ze.idx[$e.index]=Ge),ie.offset=Ge)}if(z.acCompressedSize>0)switch(z.acCompression){case 0:var Vt=new Uint16Array(z.totalAcUncompressedCount);je(N.array,W,$,z.acCompressedSize,Vt,z.totalAcUncompressedCount);break;case 1:var At=N.array.slice($.value,$.value+z.totalAcUncompressedCount),Pt=K0(At),Vt=new Uint16Array(Pt.buffer);$.value+=z.totalAcUncompressedCount;break}if(z.dcCompressedSize>0){var un={array:N.array,offset:$,size:z.dcCompressedSize},nn=new Uint16Array(le(un).buffer);$.value+=z.dcCompressedSize}if(z.rleRawSize>0){var At=N.array.slice($.value,$.value+z.rleCompressedSize),Pt=K0(At),Kt=et(Pt.buffer);$.value+=z.rleCompressedSize}for(var Lt=0,qt=new Array(We.length),Ue=0;Ue<qt.length;++Ue)qt[Ue]=new Array;for(var Rn=0;Rn<N.lines;++Rn)for(var Qt=0;Qt<We.length;++Qt)qt[Qt].push(Lt),Lt+=We[Qt].width*N.type*2;Ve(Ze,qt,We,Vt,nn,A);for(var Ue=0;Ue<We.length;++Ue){var ie=We[Ue];if(!ie.decoded)switch(ie.compression){case 2:for(var sn=0,_n=0,Rn=0;Rn<N.lines;++Rn){for(var Jr=qt[Ue][sn],gr=0;gr<ie.width;++gr){for(var Rr=0;Rr<2*ie.type;++Rr)A[Jr++]=Kt[_n+Rr*ie.width*ie.height];_n++}sn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(A.buffer)}function be(N,W){for(var $=new Uint8Array(N),A=0;$[W.value+A]!=0;)A+=1;var z=new TextDecoder().decode($.slice(W.value,W.value+A));return W.value=W.value+A+1,z}function Ye(N,W,$){var A=new TextDecoder().decode(new Uint8Array(N).slice(W.value,W.value+$));return W.value=W.value+$,A}function at(N,W){var $=ft(N,W),A=De(N,W);return[$,A]}function tt(N,W){var $=De(N,W),A=De(N,W);return[$,A]}function ft(N,W){var $=N.getInt32(W.value,!0);return W.value=W.value+4,$}function De(N,W){var $=N.getUint32(W.value,!0);return W.value=W.value+4,$}function Le(N,W){var $=N[W.value];return W.value=W.value+1,$}function H(N,W){var $=N.getUint8(W.value);return W.value=W.value+1,$}const me=function(N,W){let $;return"getBigInt64"in DataView.prototype?$=Number(N.getBigInt64(W.value,!0)):$=N.getUint32(W.value+4,!0)+Number(N.getUint32(W.value,!0)<<32),W.value+=8,$};function He(N,W){var $=N.getFloat32(W.value,!0);return W.value+=4,$}function ct(N,W){return Gc.toHalfFloat(He(N,W))}function nt(N){var W=(N&31744)>>10,$=N&1023;return(N>>15?-1:1)*(W?W===31?$?NaN:1/0:Math.pow(2,W-15)*(1+$/1024):6103515625e-14*($/1024))}function Pe(N,W){var $=N.getUint16(W.value,!0);return W.value+=2,$}function dt(N,W){return nt(Pe(N,W))}function te(N,W,$,A){for(var z=$.value,q=[];$.value<z+A-1;){var re=be(W,$),oe=ft(N,$),Ie=H(N,$);$.value+=3;var we=ft(N,$),pe=ft(N,$);q.push({name:re,pixelType:oe,pLinear:Ie,xSampling:we,ySampling:pe})}return $.value+=1,q}function ue(N,W){var $=He(N,W),A=He(N,W),z=He(N,W),q=He(N,W),re=He(N,W),oe=He(N,W),Ie=He(N,W),we=He(N,W);return{redX:$,redY:A,greenX:z,greenY:q,blueX:re,blueY:oe,whiteX:Ie,whiteY:we}}function ae(N,W){var $=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],A=H(N,W);return $[A]}function Ne(N,W){var $=De(N,W),A=De(N,W),z=De(N,W),q=De(N,W);return{xMin:$,yMin:A,xMax:z,yMax:q}}function rt(N,W){var $=["INCREASING_Y"],A=H(N,W);return $[A]}function wt(N,W){var $=He(N,W),A=He(N,W);return[$,A]}function bt(N,W){var $=He(N,W),A=He(N,W),z=He(N,W);return[$,A,z]}function xt(N,W,$,A,z){if(A==="string"||A==="stringvector"||A==="iccProfile")return Ye(W,$,z);if(A==="chlist")return te(N,W,$,z);if(A==="chromaticities")return ue(N,$);if(A==="compression")return ae(N,$);if(A==="box2i")return Ne(N,$);if(A==="lineOrder")return rt(N,$);if(A==="float")return He(N,$);if(A==="v2f")return wt(N,$);if(A==="v3f")return bt(N,$);if(A==="int")return ft(N,$);if(A==="rational")return at(N,$);if(A==="timecode")return tt(N,$);if(A==="preview")return $.value+=z,"skipped";$.value+=z}function Et(N,W,$){const A={};if(N.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";A.version=N.getUint8(4);const z=N.getUint8(5);A.spec={singleTile:!!(z&2),longName:!!(z&4),deepFormat:!!(z&8),multiPart:!!(z&16)},$.value=8;for(var q=!0;q;){var re=be(W,$);if(re==0)q=!1;else{var oe=be(W,$),Ie=De(N,$),we=xt(N,W,$,oe,Ie);we===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${oe}'.`):A[re]=we}}if(z&-5)throw console.error("EXRHeader:",A),"THREE.EXRLoader: provided file is currently unsupported.";return A}function Ut(N,W,$,A,z){const q={size:0,viewer:W,array:$,offset:A,width:N.dataWindow.xMax-N.dataWindow.xMin+1,height:N.dataWindow.yMax-N.dataWindow.yMin+1,channels:N.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:N.channels[0].pixelType,uncompress:null,getter:null,format:null,[$p?"colorSpace":"encoding"]:null};switch(N.compression){case"NO_COMPRESSION":q.lines=1,q.uncompress=ee;break;case"RLE_COMPRESSION":q.lines=1,q.uncompress=he;break;case"ZIPS_COMPRESSION":q.lines=1,q.uncompress=le;break;case"ZIP_COMPRESSION":q.lines=16,q.uncompress=le;break;case"PIZ_COMPRESSION":q.lines=32,q.uncompress=Ee;break;case"PXR24_COMPRESSION":q.lines=16,q.uncompress=qe;break;case"DWAA_COMPRESSION":q.lines=32,q.uncompress=Ke;break;case"DWAB_COMPRESSION":q.lines=256,q.uncompress=Ke;break;default:throw"EXRLoader.parse: "+N.compression+" is unsupported"}if(q.scanlineBlockSize=q.lines,q.type==1)switch(z){case oi:q.getter=dt,q.inputSize=2;break;case so:q.getter=Pe,q.inputSize=2;break}else if(q.type==2)switch(z){case oi:q.getter=He,q.inputSize=4;break;case so:q.getter=ct,q.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+q.type+" for "+N.compression+".";q.blockCount=(N.dataWindow.yMax+1)/q.scanlineBlockSize;for(var re=0;re<q.blockCount;re++)me(W,A);q.outputChannels=q.channels==3?4:q.channels;const oe=q.width*q.height*q.outputChannels;switch(z){case oi:q.byteArray=new Float32Array(oe),q.channels<q.outputChannels&&q.byteArray.fill(1,0,oe);break;case so:q.byteArray=new Uint16Array(oe),q.channels<q.outputChannels&&q.byteArray.fill(15360,0,oe);break;default:console.error("THREE.EXRLoader: unsupported type: ",z);break}return q.bytesPerLine=q.width*q.inputSize*q.channels,q.outputChannels==4?q.format=io:q.format=pb,$p?q.colorSpace="srgb-linear":q.encoding=3e3,q}const mn=new DataView(e),Xt=new Uint8Array(e),rn={value:0},hn=Et(mn,e,rn),Ht=Ut(hn,mn,Xt,rn,this.type),ln={value:0},_t={R:0,G:1,B:2,A:3,Y:0};for(let N=0;N<Ht.height/Ht.scanlineBlockSize;N++){const W=De(mn,rn);Ht.size=De(mn,rn),Ht.lines=W+Ht.scanlineBlockSize>Ht.height?Ht.height-W:Ht.scanlineBlockSize;const A=Ht.size<Ht.lines*Ht.bytesPerLine?Ht.uncompress(Ht):ee(Ht);rn.value+=Ht.size;for(let z=0;z<Ht.scanlineBlockSize;z++){const q=z+N*Ht.scanlineBlockSize;if(q>=Ht.height)break;for(let re=0;re<Ht.channels;re++){const oe=_t[hn.channels[re].name];for(let Ie=0;Ie<Ht.width;Ie++){ln.value=(z*(Ht.channels*Ht.width)+re*Ht.width+Ie)*Ht.inputSize;const we=(Ht.height-1-q)*(Ht.width*Ht.outputChannels)+Ie*Ht.outputChannels+oe;Ht.byteArray[we]=Ht.getter(A,ln)}}}}return{header:hn,width:Ht.width,height:Ht.height,data:Ht.byteArray,format:Ht.format,[$p?"colorSpace":"encoding"]:Ht[$p?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(a,s){$p?a.colorSpace=s.colorSpace:a.encoding=s.encoding,a.minFilter=or,a.magFilter=or,a.generateMipmaps=!1,a.flipY=!1,n&&n(a,s)}return super.load(e,o,r,i)}}const Rk=new Ri,q0=new de;class iP extends GT{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new tn(e,3)),this.setAttribute("uv",new tn(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),r.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new kx(n,6,1);return this.setAttribute("instanceStart",new ua(r,3,0)),this.setAttribute("instanceEnd",new ua(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,n=3){let r;e instanceof Float32Array?r=e:Array.isArray(e)&&(r=new Float32Array(e));const i=new kx(r,n*2,1);return this.setAttribute("instanceColorStart",new ua(i,n,0)),this.setAttribute("instanceColorEnd",new ua(i,n,n)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new NT(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ri);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),Rk.setFromBufferAttribute(n),this.boundingBox.union(Rk))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ai),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)q0.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(q0)),q0.fromBufferAttribute(n,o),i=Math.max(i,r.distanceToSquared(q0));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class fU extends iP{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e,n=3){const r=e.length-n,i=new Float32Array(2*r);if(n===3)for(let o=0;o<r;o+=n)i[2*o]=e[o],i[2*o+1]=e[o+1],i[2*o+2]=e[o+2],i[2*o+3]=e[o+3],i[2*o+4]=e[o+4],i[2*o+5]=e[o+5];else for(let o=0;o<r;o+=n)i[2*o]=e[o],i[2*o+1]=e[o+1],i[2*o+2]=e[o+2],i[2*o+3]=e[o+3],i[2*o+4]=e[o+4],i[2*o+5]=e[o+5],i[2*o+6]=e[o+6],i[2*o+7]=e[o+7];return super.setColors(i,n),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class oP extends Ko{constructor(e){super({type:"LineMaterial",uniforms:kg.clone(kg.merge([Bt.common,Bt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new vt(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${parseInt(_f.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(n){!!n!="USE_DASH"in this.defines&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(n){!!n!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const Ak=new de,Ik=new de,ki=new Gn,Li=new Gn,Ps=new Gn,I_=new de,O_=new yn,Qi=new O7,Ok=new de,Y0=new Ri,Z0=new Ai,Rs=new Gn;let Ns,cM,dU,of;function Dk(t,e,n){return Rs.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Rs.multiplyScalar(1/Rs.w),Rs.x=of/n.width,Rs.y=of/n.height,Rs.applyMatrix4(t.projectionMatrixInverse),Rs.multiplyScalar(1/Rs.w),Math.abs(Math.max(Rs.x,Rs.y))}function Hle(t,e){for(let n=0,r=cM.count;n<r;n++){Qi.start.fromBufferAttribute(cM,n),Qi.end.fromBufferAttribute(dU,n);const i=new de,o=new de;Ns.distanceSqToSegment(Qi.start,Qi.end,o,i),o.distanceTo(i)<of*.5&&e.push({point:o,pointOnLine:i,distance:Ns.origin.distanceTo(o),object:t,face:null,faceIndex:n,uv:null,uv2:null})}}function Vle(t,e,n){const r=e.projectionMatrix,o=t.material.resolution,a=t.matrixWorld,s=t.geometry,l=s.attributes.instanceStart,u=s.attributes.instanceEnd,c=-e.near;Ns.at(1,Ps),Ps.w=1,Ps.applyMatrix4(e.matrixWorldInverse),Ps.applyMatrix4(r),Ps.multiplyScalar(1/Ps.w),Ps.x*=o.x/2,Ps.y*=o.y/2,Ps.z=0,I_.copy(Ps),O_.multiplyMatrices(e.matrixWorldInverse,a);for(let f=0,p=l.count;f<p;f++){if(ki.fromBufferAttribute(l,f),Li.fromBufferAttribute(u,f),ki.w=1,Li.w=1,ki.applyMatrix4(O_),Li.applyMatrix4(O_),ki.z>c&&Li.z>c)continue;if(ki.z>c){const x=ki.z-Li.z,w=(ki.z-c)/x;ki.lerp(Li,w)}else if(Li.z>c){const x=Li.z-ki.z,w=(Li.z-c)/x;Li.lerp(ki,w)}ki.applyMatrix4(r),Li.applyMatrix4(r),ki.multiplyScalar(1/ki.w),Li.multiplyScalar(1/Li.w),ki.x*=o.x/2,ki.y*=o.y/2,Li.x*=o.x/2,Li.y*=o.y/2,Qi.start.copy(ki),Qi.start.z=0,Qi.end.copy(Li),Qi.end.z=0;const v=Qi.closestPointToPointParameter(I_,!0);Qi.at(v,Ok);const b=gT.lerp(ki.z,Li.z,v),y=b>=-1&&b<=1,g=I_.distanceTo(Ok)<of*.5;if(y&&g){Qi.start.fromBufferAttribute(l,f),Qi.end.fromBufferAttribute(u,f),Qi.start.applyMatrix4(a),Qi.end.applyMatrix4(a);const x=new de,w=new de;Ns.distanceSqToSegment(Qi.start,Qi.end,w,x),n.push({point:w,pointOnLine:x,distance:Ns.origin.distanceTo(w),object:t,face:null,faceIndex:f,uv:null,uv2:null})}}}class hU extends Wr{constructor(e=new iP,n=new oP({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*n.count);for(let a=0,s=0,l=n.count;a<l;a++,s+=2)Ak.fromBufferAttribute(n,a),Ik.fromBufferAttribute(r,a),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+Ak.distanceTo(Ik);const o=new kx(i,2,1);return e.setAttribute("instanceDistanceStart",new ua(o,1,0)),e.setAttribute("instanceDistanceEnd",new ua(o,1,1)),this}raycast(e,n){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const o=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Ns=e.ray;const a=this.matrixWorld,s=this.geometry,l=this.material;of=l.linewidth+o,cM=s.attributes.instanceStart,dU=s.attributes.instanceEnd,s.boundingSphere===null&&s.computeBoundingSphere(),Z0.copy(s.boundingSphere).applyMatrix4(a);let u;if(r)u=of*.5;else{const f=Math.max(i.near,Z0.distanceToPoint(Ns.origin));u=Dk(i,f,l.resolution)}if(Z0.radius+=u,Ns.intersectsSphere(Z0)===!1)return;s.boundingBox===null&&s.computeBoundingBox(),Y0.copy(s.boundingBox).applyMatrix4(a);let c;if(r)c=of*.5;else{const f=Math.max(i.near,Y0.distanceToPoint(Ns.origin));c=Dk(i,f,l.resolution)}Y0.expandByScalar(c),Ns.intersectsBox(Y0)!==!1&&(r?Hle(this,n):Vle(this,i,n))}}class jle extends hU{constructor(e=new fU,n=new oP({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}const Gle=S.forwardRef(function({points:e,color:n=16777215,vertexColors:r,linewidth:i,lineWidth:o,segments:a,dashed:s,...l},u){var c,f;const p=pr(g=>g.size),m=S.useMemo(()=>a?new hU:new jle,[a]),[v]=S.useState(()=>new oP),b=(r==null||(c=r[0])==null?void 0:c.length)===4?4:3,y=S.useMemo(()=>{const g=a?new iP:new fU,x=e.map(w=>{const C=Array.isArray(w);return w instanceof de||w instanceof Gn?[w.x,w.y,w.z]:w instanceof vt?[w.x,w.y,0]:C&&w.length===3?[w[0],w[1],w[2]]:C&&w.length===2?[w[0],w[1],0]:w});if(g.setPositions(x.flat()),r){n=16777215;const w=r.map(C=>C instanceof $t?C.toArray():C);g.setColors(w.flat(),b)}return g},[e,a,r,b]);return S.useLayoutEffect(()=>{m.computeLineDistances()},[e,m]),S.useLayoutEffect(()=>{s?v.defines.USE_DASH="":delete v.defines.USE_DASH,v.needsUpdate=!0},[s,v]),S.useEffect(()=>()=>y.dispose(),[y]),S.createElement("primitive",jr({object:m,ref:u},l),S.createElement("primitive",{object:y,attach:"geometry"}),S.createElement("primitive",jr({object:v,attach:"material",color:n,vertexColors:!!r,resolution:[p.width,p.height],linewidth:(f=i??o)!==null&&f!==void 0?f:1,dashed:s,transparent:b===4},l)))});function Wle(t,e,n,r){const i=class extends Ko{constructor(a={}){const s=Object.entries(t);super({uniforms:s.reduce((l,[u,c])=>{const f=kg.clone({[u]:{value:c}});return{...l,...f}},{}),vertexShader:e,fragmentShader:n}),this.key="",s.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:u=>this.uniforms[l].value=u})),Object.assign(this,a),r&&r(this)}};return i.key=gT.generateUUID(),i}const $le=()=>parseInt(_f.replace(/\D+/g,"")),Kle=$le(),Xle=S.forwardRef(({threshold:t=15,...e},n)=>{const r=S.useRef(null);S.useImperativeHandle(n,()=>r.current,[]);const i=S.useMemo(()=>[0,0,0,1,0,0],[]),o=S.useRef(),a=S.useRef();return S.useLayoutEffect(()=>{const s=r.current.parent;if(s){const l=s.geometry;if(l!==o.current||t!==a.current){o.current=l,a.current=t;const u=new LT(l,t).attributes.position.array;r.current.geometry.setPositions(u),r.current.geometry.attributes.instanceStart.needsUpdate=!0,r.current.geometry.attributes.instanceEnd.needsUpdate=!0,r.current.computeLineDistances()}}}),S.createElement(Gle,jr({segments:!0,points:i,ref:r,raycast:()=>null},e))});function qle(t,e,n){const r=pr(p=>p.size),i=pr(p=>p.viewport),o=typeof t=="number"?t:r.width*i.dpr,a=typeof e=="number"?e:r.height*i.dpr,s=(typeof t=="number"?n:t)||{},{samples:l=0,depth:u,...c}=s,f=S.useMemo(()=>{const p=new Wa(o,a,{minFilter:or,magFilter:or,type:so,...c});return u&&(p.depthTexture=new yb(o,a,oi)),p.samples=l,p},[]);return S.useLayoutEffect(()=>{f.setSize(o,a),l&&(f.samples=l)},[l,f,o,a]),S.useEffect(()=>()=>f.dispose(),[]),f}const Yle=t=>typeof t=="function",Zle=S.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,children:r,makeDefault:i,...o},a)=>{const s=pr(({set:y})=>y),l=pr(({camera:y})=>y),u=pr(({size:y})=>y),c=S.useRef(null);S.useImperativeHandle(a,()=>c.current,[]);const f=S.useRef(null),p=qle(e);S.useLayoutEffect(()=>{o.manual||c.current.updateProjectionMatrix()},[u,o]),S.useLayoutEffect(()=>{c.current.updateProjectionMatrix()}),S.useLayoutEffect(()=>{if(i){const y=l;return s(()=>({camera:c.current})),()=>s(()=>({camera:y}))}},[c,i,s]);let m=0,v=null;const b=Yle(r);return Rf(y=>{b&&(n===1/0||m<n)&&(f.current.visible=!1,y.gl.setRenderTarget(p),v=y.scene.background,t&&(y.scene.background=t),y.gl.render(y.scene,c.current),y.scene.background=v,y.gl.setRenderTarget(null),f.current.visible=!0,m++)}),S.createElement(S.Fragment,null,S.createElement("orthographicCamera",jr({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:c},o),!b&&r),S.createElement("group",{ref:f},b&&r(p.texture)))}),Jle=S.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...u},c)=>{const f=pr(E=>E.invalidate),p=pr(E=>E.camera),m=pr(E=>E.gl),v=pr(E=>E.events),b=pr(E=>E.setEvents),y=pr(E=>E.set),g=pr(E=>E.get),x=pr(E=>E.performance),w=e||p,C=r||v.connected||m.domElement,R=S.useMemo(()=>new Ule(w),[w]);return Rf(()=>{R.enabled&&R.update()},-1),S.useEffect(()=>(o&&R.connect(o===!0?C:o),R.connect(C),()=>void R.dispose()),[o,C,n,R,f]),S.useEffect(()=>{const E=L=>{f(),n&&x.regress(),a&&a(L)},P=L=>{s&&s(L)},D=L=>{l&&l(L)};return R.addEventListener("change",E),R.addEventListener("start",P),R.addEventListener("end",D),()=>{R.removeEventListener("start",P),R.removeEventListener("end",D),R.removeEventListener("change",E)}},[a,s,l,R,f,b]),S.useEffect(()=>{if(t){const E=g().controls;return y({controls:R}),()=>y({controls:E})}},[t,R]),S.createElement("primitive",jr({ref:c,object:R,enableDamping:i},u))});function Qle({defaultScene:t,defaultCamera:e,renderPriority:n=1}){const{gl:r,scene:i,camera:o}=pr();let a;return Rf(()=>{a=r.autoClear,n===1&&(r.autoClear=!0,r.render(t,e)),r.autoClear=!1,r.clearDepth(),r.render(i,o),r.autoClear=a},n),S.createElement("group",{onPointerOver:()=>null})}function eue({children:t,renderPriority:e=1}){const{scene:n,camera:r}=pr(),[i]=S.useState(()=>new Rh);return S.createElement(S.Fragment,null,Q7(S.createElement(S.Fragment,null,t,S.createElement(Qle,{defaultScene:n,defaultCamera:r,renderPriority:e})),i,{events:{priority:e+1}}))}const pU=S.createContext({}),tue=()=>S.useContext(pU),nue=2*Math.PI,D_=new Zn,kk=new yn,[Ed,k_]=[new Pi,new Pi],Lk=new de,Nk=new de,rue=t=>"minPolarAngle"in t,iue=({alignment:t="bottom-right",margin:e=[80,80],renderPriority:n=1,onUpdate:r,onTarget:i,children:o})=>{const a=pr(E=>E.size),s=pr(E=>E.camera),l=pr(E=>E.controls),u=pr(E=>E.invalidate),c=S.useRef(null),f=S.useRef(null),p=S.useRef(!1),m=S.useRef(0),v=S.useRef(new de(0,0,0)),b=S.useRef(new de(0,0,0));S.useEffect(()=>{b.current.copy(s.up)},[s]);const y=S.useCallback(E=>{p.current=!0,(l||i)&&(v.current=(l==null?void 0:l.target)||(i==null?void 0:i())),m.current=s.position.distanceTo(Lk),Ed.copy(s.quaternion),Nk.copy(E).multiplyScalar(m.current).add(Lk),D_.lookAt(Nk),D_.up.copy(s.up),k_.copy(D_.quaternion),u()},[l,s,i,u]);Rf((E,P)=>{if(f.current&&c.current){var D;if(p.current)if(Ed.angleTo(k_)<.01)p.current=!1,rue(l)&&s.up.copy(b.current);else{const L=P*nue;Ed.rotateTowards(k_,L),s.position.set(0,0,1).applyQuaternion(Ed).multiplyScalar(m.current).add(v.current),s.up.set(0,1,0).applyQuaternion(Ed).normalize(),s.quaternion.copy(Ed),r?r():l&&l.update(),u()}kk.copy(s.matrix).invert(),(D=c.current)==null||D.quaternion.setFromRotationMatrix(kk)}});const g=S.useMemo(()=>({tweenCamera:y}),[y]),[x,w]=e,C=t.endsWith("-center")?0:t.endsWith("-left")?-a.width/2+x:a.width/2-x,R=t.startsWith("center-")?0:t.startsWith("top-")?a.height/2-w:-a.height/2+w;return S.createElement(eue,{renderPriority:n},S.createElement(pU.Provider,{value:g},S.createElement(Zle,{makeDefault:!0,ref:f,position:[0,0,200]}),S.createElement("group",{ref:c,position:[C,R,0]},o)))};function L_({scale:t=[.8,.05,.05],color:e,rotation:n}){return S.createElement("group",{rotation:n},S.createElement("mesh",{position:[.4,0,0]},S.createElement("boxGeometry",{args:t}),S.createElement("meshBasicMaterial",{color:e,toneMapped:!1})))}function Cd({onClick:t,font:e,disabled:n,arcStyle:r,label:i,labelColor:o,axisHeadScale:a=1,...s}){const l=pr(b=>b.gl),u=S.useMemo(()=>{const b=document.createElement("canvas");b.width=64,b.height=64;const y=b.getContext("2d");return y.beginPath(),y.arc(32,32,16,0,2*Math.PI),y.closePath(),y.fillStyle=r,y.fill(),i&&(y.font=e,y.textAlign="center",y.fillStyle=o,y.fillText(i,32,41)),new q8(b)},[r,i,o,e]),[c,f]=S.useState(!1),p=(i?1:.75)*(c?1.2:1)*a,m=b=>{b.stopPropagation(),f(!0)},v=b=>{b.stopPropagation(),f(!1)};return S.createElement("sprite",jr({scale:p,onPointerOver:n?void 0:m,onPointerOut:n?void 0:t||v},s),S.createElement("spriteMaterial",{map:u,"map-anisotropy":l.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:i?1:.75,toneMapped:!1}))}const oue=({hideNegativeAxes:t,hideAxisHeads:e,disabled:n,font:r="18px Inter var, Arial, sans-serif",axisColors:i=["#ff2060","#20df80","#2080ff"],axisHeadScale:o=1,axisScale:a,labels:s=["X","Y","Z"],labelColor:l="#000",onClick:u,...c})=>{const[f,p,m]=i,{tweenCamera:v}=tue(),b={font:r,disabled:n,labelColor:l,onClick:u,axisHeadScale:o,onPointerDown:n?void 0:y=>{v(y.object.position),y.stopPropagation()}};return S.createElement("group",jr({scale:40},c),S.createElement(L_,{color:f,rotation:[0,0,0],scale:a}),S.createElement(L_,{color:p,rotation:[0,0,Math.PI/2],scale:a}),S.createElement(L_,{color:m,rotation:[0,-Math.PI/2,0],scale:a}),!e&&S.createElement(S.Fragment,null,S.createElement(Cd,jr({arcStyle:f,position:[1,0,0],label:s[0]},b)),S.createElement(Cd,jr({arcStyle:p,position:[0,1,0],label:s[1]},b)),S.createElement(Cd,jr({arcStyle:m,position:[0,0,1],label:s[2]},b)),!t&&S.createElement(S.Fragment,null,S.createElement(Cd,jr({arcStyle:f,position:[-1,0,0]},b)),S.createElement(Cd,jr({arcStyle:p,position:[0,-1,0]},b)),S.createElement(Cd,jr({arcStyle:m,position:[0,0,-1]},b)))))},aue=Wle({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,cellThickness:.5,sectionThickness:1,cellColor:new $t,sectionColor:new $t,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new de,worldPlanePosition:new de},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      float dist = distance(worldCamProjPosition, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Kle>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),sue=S.forwardRef(({args:t,cellColor:e="#000000",sectionColor:n="#2080ff",cellSize:r=.5,sectionSize:i=1,followCamera:o=!1,infiniteGrid:a=!1,fadeDistance:s=100,fadeStrength:l=1,cellThickness:u=.5,sectionThickness:c=1,side:f=lo,...p},m)=>{JT({GridMaterial:aue});const v=S.useRef(null);S.useImperativeHandle(m,()=>v.current,[]);const b=new Ds,y=new de(0,1,0),g=new de(0,0,0);Rf(C=>{b.setFromNormalAndCoplanarPoint(y,g).applyMatrix4(v.current.matrixWorld);const R=v.current.material,E=R.uniforms.worldCamProjPosition,P=R.uniforms.worldPlanePosition;b.projectPoint(C.camera.position,E.value),P.value.set(0,0,0).applyMatrix4(v.current.matrixWorld)});const x={cellSize:r,sectionSize:i,cellColor:e,sectionColor:n,cellThickness:u,sectionThickness:c},w={fadeDistance:s,fadeStrength:l,infiniteGrid:a,followCamera:o};return S.createElement("mesh",jr({ref:v,frustumCulled:!1},p),S.createElement("gridMaterial",jr({transparent:!0,"extensions-derivatives":!0,side:f},x,w)),S.createElement("planeGeometry",{args:t}))}),lue=3e3,uue=3001,N_={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},cue="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Fk=t=>Array.isArray(t);function mU({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){var o;let a=null,s=!1,l;if(n){if(!(n in N_))throw new Error("Preset must be one of: "+Object.keys(N_).join(", "));t=N_[n],e=cue}if(s=Fk(t),l=Fk(t)?"cube":t.startsWith("data:application/exr")?"exr":t.startsWith("data:application/hdr")?"hdr":(o=t.split(".").pop())==null||(o=o.split("?"))==null||(o=o.shift())==null?void 0:o.toLowerCase(),a=s?x7:l==="hdr"?zle:l==="exr"?Ble:null,!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=tP(a,s?[t]:t,f=>{f.setPath==null||f.setPath(e),i&&i(f)}),c=s?u[0]:u;return c.mapping=s?$s:Mh,"colorSpace"in c?c.colorSpace=r??s?"srgb":"srgb-linear":c.encoding=r??s?uue:lue,c}const fue=t=>t.current&&t.current.isScene,due=t=>fue(t)?t.current:t;function aP(t,e,n,r,i=0){const o=due(e||n),a=o.background,s=o.environment,l=o.backgroundBlurriness||0;return t!=="only"&&(o.environment=r),t&&(o.background=r),t&&o.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=i),()=>{t!=="only"&&(o.environment=s),t&&(o.background=a),t&&o.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=l)}}function sP({scene:t,background:e=!1,blur:n,map:r}){const i=pr(o=>o.scene);return S.useLayoutEffect(()=>{if(r)return aP(e,t,i,r,n)},[i,t,r,e,n]),null}function gU({background:t=!1,scene:e,blur:n,...r}){const i=mU(r),o=pr(a=>a.scene);return S.useLayoutEffect(()=>aP(t,e,o,i,n),[i,t,e,o,n]),null}function hue({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:o,background:a=!1,blur:s,scene:l,files:u,path:c,preset:f=void 0,extensions:p}){const m=pr(w=>w.gl),v=pr(w=>w.scene),b=S.useRef(null),[y]=S.useState(()=>new Rh),g=S.useMemo(()=>{const w=new wT(r);return w.texture.type=so,w},[r]);S.useLayoutEffect(()=>(i===1&&b.current.update(m,y),aP(a,l,v,g.texture,s)),[t,y,g.texture,l,v,a,i,m]);let x=1;return Rf(()=>{(i===1/0||x<i)&&(b.current.update(m,y),x++)}),S.createElement(S.Fragment,null,Q7(S.createElement(S.Fragment,null,t,S.createElement("cubeCamera",{ref:b,args:[e,n,g]}),u||f?S.createElement(gU,{background:!0,files:u,preset:f,path:c,extensions:p}):o?S.createElement(sP,{background:!0,map:o,extensions:p}):null),y))}function pue(t){var e,n,r,i;const o=mU(t),a=t.map||o;S.useMemo(()=>JT({GroundProjectedEnvImpl:kle}),[]);const s=S.useMemo(()=>[a],[a]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,c=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return S.createElement(S.Fragment,null,S.createElement(sP,jr({},t,{map:a})),S.createElement("groundProjectedEnvImpl",{args:s,scale:c,height:l,radius:u}))}function mue(t){return t.ground?S.createElement(pue,t):t.map?S.createElement(sP,t):t.children?S.createElement(hue,t):S.createElement(gU,t)}const gue=[[-1,-1,-1],[1,-1,-1],[-1,1,-1],[1,1,-1],[-1,-1,1],[1,-1,1],[-1,1,1],[1,1,1]],vue=({colors:t})=>pt.jsx(pt.Fragment,{children:gue.map((e,n)=>pt.jsxs(pt.Fragment,{children:[pt.jsxs("mesh",{position:[.25*e[0],.25*e[1],.25*e[2]],children:[pt.jsx("boxGeometry",{args:[.49999,.49999,.49999]}),pt.jsx("meshStandardMaterial",{color:t[n],opacity:.5,transparent:!0})]}),pt.jsx(xle,{position:[.25*e[0],.25*e[1],.25*e[2]],as:"div",prepend:!0,wrapperClass:"select-none",center:!0,children:pt.jsxs("div",{className:"flex flex-col items-center",style:{color:"#"+(16777215^t[n]).toString(16).padStart(6,"0")},children:[pt.jsx("p",{className:"",children:"Unit Cell"}),pt.jsxs("p",{className:"",children:["#",t[n].toString(16).padStart(6,"0").toUpperCase()]})]})})]},n))}),yue=t=>t===aa.Solid?[[0,0,0,0,0,0,0,0]]:t===aa.XZ_Reflection?[[0,0,1,1,0,0,1,1],[1,1,0,0,1,1,0,0]]:t===aa.Y_Rotation?[[0,1,0,1,2,3,2,3],[1,3,1,3,0,2,0,2],[3,2,3,2,1,0,1,0],[2,0,2,0,3,1,3,1]]:[[0,1,2,3,4,5,6,7],[1,5,3,7,0,4,2,6],[5,4,7,6,1,0,3,2],[4,0,6,2,5,1,7,3],[2,3,0,1,6,7,4,5],[3,7,1,5,2,6,0,4],[7,6,5,4,3,2,1,0],[6,2,4,0,7,3,5,1]],F_=t=>yue(t).map((n,r)=>({name:`C-${r}`,offsets:n})),xue=({type:t})=>{const[e,n]=S.useState(()=>F_(t)),[r,i]=S.useState(()=>F_(t)[0]);return S.useEffect(()=>{const o=F_(t);n(o),i(o[0])},[t]),{options:e,combination:r,setCombination:i}},bue=()=>{const[t,e]=S.useState(()=>Us.symmetrieOptions[0]),[n,r]=S.useState(0),{options:i,combination:o,setCombination:a}=xue({type:t.code}),s=S.useMemo(()=>`#${n.toString(16).padStart(6,"0")}`,[n]),l=S.useMemo(()=>{const u=Array.from({length:8},(c,f)=>n+o.offsets[f]);return pt.jsx(vue,{colors:u})},[n,o.offsets]);return pt.jsxs("div",{className:"flex flex-col h-lvh",children:[pt.jsxs("div",{className:"flex flex-row p-4 justify-between",children:[pt.jsx("div",{children:pt.jsxs("div",{className:"relative mt-2 rounded-md shadow-sm",children:[pt.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:pt.jsx("span",{className:"text-gray-500 sm:text-sm",children:"#"})}),pt.jsx("input",{type:"text",readOnly:!0,value:n.toString(16).padStart(6,"0"),className:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),pt.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:pt.jsx(iT,{inputId:"cp-hex",format:"hex",value:n.toString(16),onChange:u=>r(parseInt(u.value,16))})})]})}),pt.jsxs("div",{className:"flex gap-2",children:[pt.jsx(df,{value:o,onChange:u=>a(u.value),options:i,optionLabel:"name",placeholder:"Select a Combination",className:"md:w-14rem min-w-52"}),pt.jsx(df,{value:t,onChange:u=>{e(u.value)},options:Us.symmetrieOptions,optionLabel:"name",placeholder:"Select a Symmetry type",className:"md:w-14rem min-w-60"})]})]}),pt.jsx("div",{id:"canvas-container",className:"flex-grow p-4",children:pt.jsxs(ule,{camera:{position:[3,2,3],fov:25},children:[pt.jsx(mue,{preset:"city"}),l,pt.jsxs("mesh",{renderOrder:999999,children:[pt.jsx("boxGeometry",{args:[1.01,1.01,1.01]}),pt.jsx("meshStandardMaterial",{transparent:!0,opacity:0}),pt.jsx(Xle,{linewidth:5,scale:1,threshold:15,color:s})]}),pt.jsx(sue,{position:[0,-1,0],cellSize:.6,cellThickness:1,cellColor:"#6f6f6f",sectionSize:3.3,sectionThickness:1.5,sectionColor:"#9d4b4b",fadeDistance:25,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),pt.jsx(iue,{alignment:"bottom-right",margin:[80,80],children:pt.jsx(oue,{axisColors:["#9d4b4b","#2f7f4f","#3b5b9d"],labelColor:"white",disabled:!0})}),pt.jsx(Jle,{enablePan:!1})]})})]})};function Uk(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function wue(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Sue(t,e,n){const i=sb((n||{}).ignore||[]),o=_ue(e);let a=-1;for(;++a<o.length;)E5(t,"text",s);function s(u,c){let f=-1,p;for(;++f<c.length;){const m=c[f],v=p?p.children:void 0;if(i(m,v?v.indexOf(m):void 0,p))return;p=m}if(p)return l(u,c)}function l(u,c){const f=c[c.length-1],p=o[a][0],m=o[a][1];let v=0;const y=f.children.indexOf(u);let g=!1,x=[];p.lastIndex=0;let w=p.exec(u.value);for(;w;){const C=w.index,R={index:w.index,input:w.input,stack:[...c,u]};let E=m(...w,R);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?p.lastIndex=C+1:(v!==C&&x.push({type:"text",value:u.value.slice(v,C)}),Array.isArray(E)?x.push(...E):E&&x.push(E),v=C+w[0].length,g=!0),!p.global)break;w=p.exec(u.value)}return g?(v<u.value.length&&x.push({type:"text",value:u.value.slice(v)}),f.children.splice(y,1,...x)):x=[u],y+x.length}}function _ue(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Eue(i[0]),Cue(i[1])])}return e}function Eue(t){return typeof t=="string"?new RegExp(wue(t),"g"):t}function Cue(t){return typeof t=="function"?t:function(){return t}}const U_="phrasing",z_=["autolink","link","image","label"];function Mue(){return{transforms:[Due],enter:{literalAutolink:Pue,literalAutolinkEmail:B_,literalAutolinkHttp:B_,literalAutolinkWww:B_},exit:{literalAutolink:Oue,literalAutolinkEmail:Iue,literalAutolinkHttp:Rue,literalAutolinkWww:Aue}}}function Tue(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:U_,notInConstruct:z_},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:U_,notInConstruct:z_},{character:":",before:"[ps]",after:"\\/",inConstruct:U_,notInConstruct:z_}]}}function Pue(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function B_(t){this.config.enter.autolinkProtocol.call(this,t)}function Rue(t){this.config.exit.autolinkProtocol.call(this,t)}function Aue(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Iue(t){this.config.exit.autolinkEmail.call(this,t)}function Oue(t){this.exit(t)}function Due(t){Sue(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,kue],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Lue]],{ignore:["link","linkReference"]})}function kue(t,e,n,r,i){let o="";if(!vU(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!Nue(n)))return!1;const a=Fue(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function Lue(t,e,n,r){return!vU(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Nue(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Fue(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=Uk(t,"(");let o=Uk(t,")");for(;r!==-1&&i>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function vU(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||ff(n)||ib(n))&&(!e||n!==47)}yU.peek=Xue;function Uue(){return{enter:{gfmFootnoteDefinition:Bue,gfmFootnoteDefinitionLabelString:Hue,gfmFootnoteCall:Gue,gfmFootnoteCallString:Wue},exit:{gfmFootnoteDefinition:jue,gfmFootnoteDefinitionLabelString:Vue,gfmFootnoteCall:Kue,gfmFootnoteCallString:$ue}}}function zue(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:que,footnoteReference:yU}}}function Bue(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Hue(){this.buffer()}function Vue(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=vs(this.sliceSerialize(t)).toLowerCase()}function jue(t){this.exit(t)}function Gue(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Wue(){this.buffer()}function $ue(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=vs(this.sliceSerialize(t)).toLowerCase()}function Kue(t){this.exit(t)}function yU(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(t),{...i.current(),before:o,after:"]"})),s(),a(),o+=i.move("]"),o}function Xue(){return"["}function que(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteDefinition"),s=n.enter("label");return o+=i.move(n.safe(n.associationId(t),{...i.current(),before:o,after:"]"})),s(),o+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),o+=i.move(n.indentLines(n.containerFlow(t,i.current()),Yue)),a(),o}function Yue(t,e,n){return e===0?t:(n?"":"    ")+t}const Zue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];xU.peek=nce;function Jue(){return{canContainEols:["delete"],enter:{strikethrough:ece},exit:{strikethrough:tce}}}function Que(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Zue}],handlers:{delete:xU}}}function ece(t){this.enter({type:"delete",children:[]},t)}function tce(t){this.exit(t)}function xU(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function nce(){return"~"}function rce(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||oce,i=[],o=[],a=[],s=[];let l=0,u=-1;for(;++u<t.length;){const v=[],b=[];let y=-1;for(t[u].length>l&&(l=t[u].length);++y<t[u].length;){const g=ice(t[u][y]);if(e.alignDelimiters!==!1){const x=r(g);b[y]=x,(s[y]===void 0||x>s[y])&&(s[y]=x)}v.push(g)}o[u]=v,a[u]=b}let c=-1;if(typeof n=="object"&&"length"in n)for(;++c<l;)i[c]=zk(n[c]);else{const v=zk(n);for(;++c<l;)i[c]=v}c=-1;const f=[],p=[];for(;++c<l;){const v=i[c];let b="",y="";v===99?(b=":",y=":"):v===108?b=":":v===114&&(y=":");let g=e.alignDelimiters===!1?1:Math.max(1,s[c]-b.length-y.length);const x=b+"-".repeat(g)+y;e.alignDelimiters!==!1&&(g=b.length+g+y.length,g>s[c]&&(s[c]=g),p[c]=g),f[c]=x}o.splice(1,0,f),a.splice(1,0,p),u=-1;const m=[];for(;++u<o.length;){const v=o[u],b=a[u];c=-1;const y=[];for(;++c<l;){const g=v[c]||"";let x="",w="";if(e.alignDelimiters!==!1){const C=s[c]-(b[c]||0),R=i[c];R===114?x=" ".repeat(C):R===99?C%2?(x=" ".repeat(C/2+.5),w=" ".repeat(C/2-.5)):(x=" ".repeat(C/2),w=x):w=" ".repeat(C)}e.delimiterStart!==!1&&!c&&y.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&g==="")&&(e.delimiterStart!==!1||c)&&y.push(" "),e.alignDelimiters!==!1&&y.push(x),y.push(g),e.alignDelimiters!==!1&&y.push(w),e.padding!==!1&&y.push(" "),(e.delimiterEnd!==!1||c!==l-1)&&y.push("|")}m.push(e.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function ice(t){return t==null?"":String(t)}function oce(t){return t.length}function zk(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function ace(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(t,o.current()),sce);return i(),a}function sce(t,e,n){return">"+(n?"":" ")+t}function lce(t,e){return Bk(t,e.inConstruct,!0)&&!Bk(t,e.notInConstruct,!1)}function Bk(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function Hk(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&lce(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function uce(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+e.length,r=n.indexOf(e,i);return a}function cce(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function fce(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function dce(t,e,n,r){const i=fce(n),o=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(cce(t,n)){const f=n.enter("codeIndented"),p=n.indentLines(o,hce);return f(),p}const s=n.createTracker(r),l=i.repeat(Math.max(uce(o,i)+1,3)),u=n.enter("codeFenced");let c=s.move(l);if(t.lang){const f=n.enter(`codeFencedLang${a}`);c+=s.move(n.safe(t.lang,{before:c,after:" ",encode:["`"],...s.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${a}`);c+=s.move(" "),c+=s.move(n.safe(t.meta,{before:c,after:`
`,encode:["`"],...s.current()})),f()}return c+=s.move(`
`),o&&(c+=s.move(o+`
`)),c+=s.move(l),u(),c}function hce(t,e,n){return(n?"":"    ")+t}function lP(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function pce(t,e,n,r){const i=lP(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),s(),t.title&&(s=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),a(),u}function mce(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}bU.peek=gce;function bU(t,e,n,r){const i=mce(n),o=n.enter("emphasis"),a=n.createTracker(r);let s=a.move(i);return s+=a.move(n.containerPhrasing(t,{before:s,after:i,...a.current()})),s+=a.move(i),o(),s}function gce(t,e,n){return n.options.emphasis||"*"}function vce(t,e){let n=!1;return R3(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,nC}),!!((!t.depth||t.depth<3)&&S3(t)&&(e.options.setext||n))}function yce(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(vce(t,n)){const c=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return f(),c(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),s(),u}wU.peek=xce;function wU(t){return t.value||""}function xce(){return"<"}SU.peek=bce;function SU(t,e,n,r){const i=lP(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),s(),t.title&&(s=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),u+=l.move(")"),a(),u}function bce(){return"!"}_U.peek=wce;function _U(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const u=n.safe(t.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...s.current()});return a(),n.stack=c,o(),i==="full"||!u||u!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function wce(){return"!"}EU.peek=Sce;function EU(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],s=n.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Sce(){return"`"}function CU(t,e){const n=S3(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}MU.peek=_ce;function MU(t,e,n,r){const i=lP(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(CU(t,n)){const c=n.stack;n.stack=[],s=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(t,{before:f,after:">",...a.current()})),f+=a.move(">"),s(),n.stack=c,f}s=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(t,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),s(),u}function _ce(t,e,n){return CU(t,n)?"<":"["}TU.peek=Ece;function TU(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...s.current()});return a(),n.stack=c,o(),i==="full"||!u||u!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Ece(){return"["}function uP(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Cce(t){const e=uP(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Mce(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function PU(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Tce(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=t.ordered?Mce(n):uP(n);const s=t.ordered?a==="."?")":".":Cce(n);let l=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const c=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),PU(n)===a&&c){let f=-1;for(;++f<t.children.length;){const p=t.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const u=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),u}function Pce(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Rce(t,e,n,r){const i=Pce(n);let o=n.bulletCurrent||uP(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,s.current()),c);return l(),u;function c(f,p,m){return p?(m?"":" ".repeat(a))+f:(m?o:o+" ".repeat(a-o.length))+f}}function Ace(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(t,r);return o(),i(),a}const Ice=sb(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Oce(t,e,n,r){return(t.children.some(function(a){return Ice(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Dce(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}RU.peek=kce;function RU(t,e,n,r){const i=Dce(n),o=n.enter("strong"),a=n.createTracker(r);let s=a.move(i+i);return s+=a.move(n.containerPhrasing(t,{before:s,after:i,...a.current()})),s+=a.move(i+i),o(),s}function kce(t,e,n){return n.options.strong||"*"}function Lce(t,e,n,r){return n.safe(t.value,r)}function Nce(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Fce(t,e,n){const r=(PU(n)+(n.options.ruleSpaces?" ":"")).repeat(Nce(n));return n.options.ruleSpaces?r.slice(0,-1):r}const AU={blockquote:ace,break:Hk,code:dce,definition:pce,emphasis:bU,hardBreak:Hk,heading:yce,html:wU,image:SU,imageReference:_U,inlineCode:EU,link:MU,linkReference:TU,list:Tce,listItem:Rce,paragraph:Ace,root:Oce,strong:RU,text:Lce,thematicBreak:Fce};function Uce(){return{enter:{table:zce,tableData:Vk,tableHeader:Vk,tableRow:Hce},exit:{codeText:Vce,table:Bce,tableData:H_,tableHeader:H_,tableRow:H_}}}function zce(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Bce(t){this.exit(t),this.data.inTable=void 0}function Hce(t){this.enter({type:"tableRow",children:[]},t)}function H_(t){this.exit(t)}function Vk(t){this.enter({type:"tableCell",children:[]},t)}function Vce(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,jce));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function jce(t,e){return e==="|"?e:t}function Gce(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:l,tableRow:s}};function a(m,v,b,y){return u(c(m,b,y),m.align)}function s(m,v,b,y){const g=f(m,b,y),x=u([g]);return x.slice(0,x.indexOf(`
`))}function l(m,v,b,y){const g=b.enter("tableCell"),x=b.enter("phrasing"),w=b.containerPhrasing(m,{...y,before:o,after:o});return x(),g(),w}function u(m,v){return rce(m,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function c(m,v,b){const y=m.children;let g=-1;const x=[],w=v.enter("table");for(;++g<y.length;)x[g]=f(y[g],v,b);return w(),x}function f(m,v,b){const y=m.children;let g=-1;const x=[],w=v.enter("tableRow");for(;++g<y.length;)x[g]=l(y[g],m,v,b);return w(),x}function p(m,v,b){let y=AU.inlineCode(m,v,b);return b.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function Wce(){return{exit:{taskListCheckValueChecked:jk,taskListCheckValueUnchecked:jk,paragraph:Kce}}}function $ce(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Xce}}}function jk(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Kce(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,a;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){a=s;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Xce(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=AU.listItem(t,e,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+a}}function qce(){return[Mue(),Uue(),Jue(),Uce(),Wce()]}function Yce(t){return{extensions:[Tue(),zue(),Que(),Gce(t),$ce()]}}const Zce={tokenize:rfe,partial:!0},IU={tokenize:ife,partial:!0},OU={tokenize:ofe,partial:!0},DU={tokenize:afe,partial:!0},Jce={tokenize:sfe,partial:!0},kU={tokenize:tfe,previous:NU},LU={tokenize:nfe,previous:FU},Ul={tokenize:efe,previous:UU},Ys={};function Qce(){return{text:Ys}}let bc=48;for(;bc<123;)Ys[bc]=Ul,bc++,bc===58?bc=65:bc===91&&(bc=97);Ys[43]=Ul;Ys[45]=Ul;Ys[46]=Ul;Ys[95]=Ul;Ys[72]=[Ul,LU];Ys[104]=[Ul,LU];Ys[87]=[Ul,kU];Ys[119]=[Ul,kU];function efe(t,e,n){const r=this;let i,o;return a;function a(f){return!fM(f)||!UU.call(r,r.previous)||cP(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),s(f))}function s(f){return fM(f)?(t.consume(f),s):f===64?(t.consume(f),l):n(f)}function l(f){return f===46?t.check(Jce,c,u)(f):f===45||f===95||oo(f)?(o=!0,t.consume(f),l):c(f)}function u(f){return t.consume(f),i=!0,l}function c(f){return o&&i&&So(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function tfe(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!NU.call(r,r.previous)||cP(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Zce,t.attempt(IU,t.attempt(OU,o),n),n)(a))}function o(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function nfe(t,e,n){const r=this;let i="",o=!1;return a;function a(f){return(f===72||f===104)&&FU.call(r,r.previous)&&!cP(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),t.consume(f),s):n(f)}function s(f){if(So(f)&&i.length<5)return i+=String.fromCodePoint(f),t.consume(f),s;if(f===58){const p=i.toLowerCase();if(p==="http"||p==="https")return t.consume(f),l}return n(f)}function l(f){return f===47?(t.consume(f),o?u:(o=!0,l)):n(f)}function u(f){return f===null||sx(f)||fr(f)||ff(f)||ib(f)?n(f):t.attempt(IU,t.attempt(OU,c),n)(f)}function c(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function rfe(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),o):n(a)}function o(a){return a===null?n(a):e(a)}}function ife(t,e,n){let r,i,o;return a;function a(u){return u===46||u===95?t.check(DU,l,s)(u):u===null||fr(u)||ff(u)||u!==45&&ib(u)?l(u):(o=!0,t.consume(u),a)}function s(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),a}function l(u){return i||r||!o?n(u):e(u)}}function ofe(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(DU,e,o)(a):a===null||fr(a)||ff(a)?e(a):(t.consume(a),i)}function o(a){return a===41&&r++,t.consume(a),i}}function afe(t,e,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(t.consume(s),r):s===38?(t.consume(s),o):s===93?(t.consume(s),i):s===60||s===null||fr(s)||ff(s)?e(s):n(s)}function i(s){return s===null||s===40||s===91||fr(s)||ff(s)?e(s):r(s)}function o(s){return So(s)?a(s):n(s)}function a(s){return s===59?(t.consume(s),r):So(s)?(t.consume(s),a):n(s)}}function sfe(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return oo(o)?n(o):e(o)}}function NU(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||fr(t)}function FU(t){return!So(t)}function UU(t){return!(t===47||fM(t))}function fM(t){return t===43||t===45||t===46||t===95||oo(t)}function cP(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const lfe={tokenize:gfe,partial:!0};function ufe(){return{document:{91:{tokenize:hfe,continuation:{tokenize:pfe},exit:mfe}},text:{91:{tokenize:dfe},93:{add:"after",tokenize:cfe,resolveTo:ffe}}}}function cfe(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!a||!a._balanced)return n(l);const u=vs(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function ffe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...s),t}function dfe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return s;function s(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(f){if(o>999||f===93&&!a||f===null||f===91||fr(f))return n(f);if(f===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return i.includes(vs(r.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return fr(f)||(a=!0),o++,t.consume(f),f===92?c:u}function c(f){return f===91||f===92||f===93?(t.consume(f),o++,u):u(f)}}function hfe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,s;return l;function l(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",c):n(v)}function c(v){if(a>999||v===93&&!s||v===null||v===91||fr(v))return n(v);if(v===93){t.exit("chunkString");const b=t.exit("gfmFootnoteDefinitionLabelString");return o=vs(r.sliceSerialize(b)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return fr(v)||(s=!0),a++,t.consume(v),v===92?f:c}function f(v){return v===91||v===92||v===93?(t.consume(v),a++,c):c(v)}function p(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),i.includes(o)||i.push(o),$n(t,m,"gfmFootnoteDefinitionWhitespace")):n(v)}function m(v){return e(v)}}function pfe(t,e,n){return t.check(tv,e,t.attempt(lfe,e,n))}function mfe(t){t.exit("gfmFootnoteDefinition")}function gfe(t,e,n){const r=this;return $n(t,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(o):n(o)}}function vfe(t){let n=(t||{}).singleTilde;const r={tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,s){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},f={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},p=[["enter",c,s],["enter",a[u][1],s],["exit",a[u][1],s],["enter",f,s]],m=s.parser.constructs.insideSpan.null;m&&fa(p,p.length,0,ob(m,a.slice(u+1,l),s)),fa(p,p.length,0,[["exit",f,s],["enter",a[l][1],s],["exit",a[l][1],s],["exit",c,s]]),fa(a,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,s,l){const u=this.previous,c=this.events;let f=0;return p;function p(v){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(v):(a.enter("strikethroughSequenceTemporary"),m(v))}function m(v){const b=lx(u);if(v===126)return f>1?l(v):(a.consume(v),f++,m);if(f<2&&!n)return l(v);const y=a.exit("strikethroughSequenceTemporary"),g=lx(v);return y._open=!g||g===2&&!!b,y._close=!b||b===2&&!!g,s(v)}}}class yfe{constructor(){this.map=[]}add(e,n,r){xfe(this,e,n,r)}consume(e){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let i=r.pop();for(;i;)e.push(...i),i=r.pop();this.map.length=0}}function xfe(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function bfe(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function wfe(){return{flow:{null:{tokenize:Sfe,resolveAll:_fe}}}}function Sfe(t,e,n){const r=this;let i=0,o=0,a;return s;function s(M){let I=r.events.length-1;for(;I>-1;){const j=r.events[I][1].type;if(j==="lineEnding"||j==="linePrefix")I--;else break}const V=I>-1?r.events[I][1].type:null,Z=V==="tableHead"||V==="tableRow"?E:l;return Z===E&&r.parser.lazy[r.now().line]?n(M):Z(M)}function l(M){return t.enter("tableHead"),t.enter("tableRow"),u(M)}function u(M){return M===124||(a=!0,o+=1),c(M)}function c(M){return M===null?n(M):vn(M)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),m):n(M):Un(M)?$n(t,c,"whitespace")(M):(o+=1,a&&(a=!1,i+=1),M===124?(t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),a=!0,c):(t.enter("data"),f(M)))}function f(M){return M===null||M===124||fr(M)?(t.exit("data"),c(M)):(t.consume(M),M===92?p:f)}function p(M){return M===92||M===124?(t.consume(M),f):f(M)}function m(M){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(M):(t.enter("tableDelimiterRow"),a=!1,Un(M)?$n(t,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):v(M))}function v(M){return M===45||M===58?y(M):M===124?(a=!0,t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),b):R(M)}function b(M){return Un(M)?$n(t,y,"whitespace")(M):y(M)}function y(M){return M===58?(o+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(M),t.exit("tableDelimiterMarker"),g):M===45?(o+=1,g(M)):M===null||vn(M)?C(M):R(M)}function g(M){return M===45?(t.enter("tableDelimiterFiller"),x(M)):R(M)}function x(M){return M===45?(t.consume(M),x):M===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(M),t.exit("tableDelimiterMarker"),w):(t.exit("tableDelimiterFiller"),w(M))}function w(M){return Un(M)?$n(t,C,"whitespace")(M):C(M)}function C(M){return M===124?v(M):M===null||vn(M)?!a||i!==o?R(M):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(M)):R(M)}function R(M){return n(M)}function E(M){return t.enter("tableRow"),P(M)}function P(M){return M===124?(t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),P):M===null||vn(M)?(t.exit("tableRow"),e(M)):Un(M)?$n(t,P,"whitespace")(M):(t.enter("data"),D(M))}function D(M){return M===null||M===124||fr(M)?(t.exit("data"),P(M)):(t.consume(M),M===92?L:D)}function L(M){return M===92||M===124?(t.consume(M),D):D(M)}}function _fe(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],s=!1,l=0,u,c,f;const p=new yfe;for(;++n<t.length;){const m=t[n],v=m[1];m[0]==="enter"?v.type==="tableHead"?(s=!1,l!==0&&(Gk(p,e,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",u,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,f=void 0,o=[0,0,0,0],a=[0,n+1,0,0],s&&(s=!1,c={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",c,e]])),i=v.type==="tableDelimiterRow"?2:c?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],f=J0(p,e,o,i,void 0,f),o=[0,0,0,0]),a[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],f=J0(p,e,o,i,void 0,f)),o=a,a=[o[1],n,0,0])):v.type==="tableHead"?(s=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,o[1]!==0?(a[0]=a[1],f=J0(p,e,o,i,n,f)):a[1]!==0&&(f=J0(p,e,a,i,n,f)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&Gk(p,e,l,u,c),p.consume(e.events),n=-1;++n<e.events.length;){const m=e.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=bfe(e.events,n))}return t}function J0(t,e,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(o.end=Object.assign({},Id(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const l=Id(e.events,n[1]);if(o={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const u=Id(e.events,n[2]),c=Id(e.events,n[3]),f={type:s,start:Object.assign({},u),end:Object.assign({},c)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const p=e.events[n[2]],m=e.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,b=n[3]-n[2]-1;t.add(v,b,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return i!==void 0&&(o.end=Object.assign({},Id(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function Gk(t,e,n,r,i){const o=[],a=Id(e.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,e])),r.end=Object.assign({},a),o.push(["exit",r,e]),t.add(n+1,0,o)}function Id(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const Efe={tokenize:Mfe};function Cfe(){return{text:{91:Efe}}}function Mfe(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),o)}function o(l){return fr(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),s):n(l)}function s(l){return vn(l)?e(l):Un(l)?t.check({tokenize:Tfe},e,n)(l):n(l)}}function Tfe(t,e,n){return $n(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Pfe(t){return o5([Qce(),ufe(),vfe(t),wfe(),Cfe()])}const Rfe={};function Afe(t){const e=this,n=t||Rfe,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Pfe(n)),o.push(qce()),a.push(Yce(n))}const Ife=`# Todo

"Todo", you known... (   )

- [ ] Edit chunk
- [ ] Export file
- [ ] Import file
- [ ] 3D Chunk Preview`,Ofe=()=>pt.jsx("div",{className:"mt-8",children:pt.jsx(T5,{className:"markdown-body",remarkPlugins:[Afe],children:Ife})});function Dfe(){const t=E6();return console.error(t),pt.jsxs("div",{id:"error-page",children:[pt.jsx("h1",{children:"Oops!"}),pt.jsx("p",{children:"Sorry, an unexpected error has occurred."}),pt.jsx("p",{children:pt.jsx("i",{children:t.statusText||t.message})})]})}const kfe=YV([{path:"/",element:pt.jsx($G,{}),errorElement:pt.jsx(Dfe,{}),children:[{path:"",element:pt.jsx(mq,{})},{path:"voxels",element:pt.jsx(CQ,{})},{path:"unit-cells",element:pt.jsx(MQ,{})},{path:"symmetries",element:pt.jsx(bue,{})},{path:"chunk-editor",element:pt.jsx(Ofe,{})},{path:"*",element:pt.jsx(gq,{})}]}]);V_.createRoot(document.getElementById("root")).render(pt.jsx(fn.StrictMode,{children:pt.jsx(Aj,{children:pt.jsx(oj,{router:kfe})})}));
